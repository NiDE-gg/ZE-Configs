; Comparing "ze_santassination_css2.bsp" (2314 entities) with "ze_santassination_css3.bsp" (2315 entities)
; Removed 2306 identical entities.

;  __  __  ____  _____ _____ ________     __
; |  \/  |/ __ \|  __ \_   _|  ____\ \   / /
; | \  / | |  | | |  | || | | |__   \ \_/ /
; | |\/| | |  | | |  | || | |  __|   \   /
; | |  | | |__| | |__| || |_| |       | |
; |_|  |_|\____/|_____/_____|_|       |_|
modify:
{
	match:
	{
		"classname" "func_physbox_multiplayer"
		"targetname" "bosss_hpg2"
		"origin" "10240 3152 -12160"
		"model" "*56"
		"hammerid" "1736535"
	}
	replace:
	{
		"OnHealthChanged" "bosss_hp2,RemoveHealth,250,0,-1"
	}
}
modify:
{
	match:
	{
		"classname" "trigger_multiple"
		"targetname" "bosss_start2"
		"origin" "10240 2048 -13129.1"
		"model" "*70"
		"hammerid" "1598476"
	}
	delete:
	{
		"OnStartTouch" "bosss_hp2,AddHealth,3000,0,-1"
	}
	insert:
	{
		"OnStartTouch" "bosss_hp2,AddHealth,4000,0,-1"
	}
}
modify:
{
	match:
	{
		"classname" "trigger_multiple"
		"targetname" "bosss_start"
		"origin" "-961 -6912 1472"
		"model" "*82"
		"hammerid" "1524443"
	}
	delete:
	{
		"OnStartTouch" "bosss_hp,AddHealth,2000,0,-1"
	}
	insert:
	{
		"OnStartTouch" "bosss_hp,AddHealth,2200,0,-1"
	}
}
modify:
{
	match:
	{
		"classname" "trigger_multiple"
		"targetname" "bosss_start1"
		"origin" "1568 -6656 9288"
		"model" "*92"
		"hammerid" "1597904"
	}
	delete:
	{
		"OnStartTouch" "bosss_hp1,AddHealth,2500,0,-1"
	}
	insert:
	{
		"OnStartTouch" "bosss_hp1,AddHealth,3500,0,-1"
	}
}
modify:
{
	match:
	{
		"classname" "logic_relay"
		"targetname" "eternaltruth_bossaddhp"
		"origin" "82.1593 131.722 11529"
		"hammerid" "2231849"
	}
	delete:
	{
		"OnTrigger" "bosss_hp1,AddHealth,1000,0,-1"
		"OnTrigger" "bosss_hp,AddHealth,1000,0,-1"
		"OnTrigger" "bosss_hp2,AddHealth,1000,0,-1"
	}
	insert:
	{
		"OnTrigger" "bosss_hp1,AddHealth,1200,0,-1"
		"OnTrigger" "bosss_hp,AddHealth,1200,0,-1"
		"OnTrigger" "bosss_hp2,AddHealth,1200,0,-1"
	}
}
modify:
{
	match:
	{
		"classname" "func_physbox_multiplayer"
		"targetname" "bosss_hpg"
		"origin" "-1000 -6912 1248"
		"model" "*501"
		"hammerid" "1767907"
	}
	replace:
	{
		"OnHealthChanged" "bosss_hp,RemoveHealth,250,0,-1"
	}
}
modify:
{
	match:
	{
		"classname" "func_physbox_multiplayer"
		"targetname" "bosss_hpg1"
		"origin" "1552 -6656 9568"
		"model" "*503"
		"hammerid" "1736347"
	}
	replace:
	{
		"OnHealthChanged" "bosss_hp1,RemoveHealth,250,0,-1"
	}
}
; Generated 8 modify blocks.

;  ______ _____ _   _______ ______ _____
; |  ____|_   _| | |__   __|  ____|  __ \
; | |__    | | | |    | |  | |__  | |__) |
; |  __|   | | | |    | |  |  __| |  _  /
; | |     _| |_| |____| |  | |____| | \ \
; |_|    |_____|______|_|  |______|_|  \_\
; Generated 0 filter blocks.

;           _____  _____
;     /\   |  __ \|  __ \
;    /  \  | |  | | |  | |
;   / /\ \ | |  | | |  | |
;  / ____ \| |__| | |__| |
; /_/    \_\_____/|_____/
add:
{
	"renderamt" "255"
	"StartDisabled" "1"
	"modelscale" "1.0"
	"model" "models/santa_css/luffaren/luff_santatrue.mdl"
	"origin" "10240 3072 -13280"
	"fademindist" "-1"
	"fadescale" "1"
	"MinAnimTime" "5"
	"parentname" "bosss_phys2"
	"MaxAnimTime" "10"
	"rendercolor" "255 255 255"
	"solid" "0"
	"DefaultAnim" "idlestart"
	"hammerid" "1250642"
	"angles" "0 270 0"
	"skin" "0"
	"targetname" "boss_t_model"
	"classname" "prop_dynamic"
}
; Generated 1 add blocks.

; File generated on Wed, 07 Sep 2016 18:28:48 +0000 in 0.2822000980377197 seconds.

;----------------------
;Fixes by Vanya
;----------------------

;Moves Santa Claus' trigger slightly to the side so that players cannot glitch HP during bossfight

modify:
{
	match:
	{
		"targetname" "bosss_start"
		"classname" "trigger_multiple"
		"hammerid" "1524443"
	}
	replace:
	{
		"origin" "-961 -6880 1472"
	}
}

;Makes it so that Santa Claus' hurt trigger keeps damaging players so they can't stack anymore

modify:
{
	match:
	{
		"targetname" "bosss_hurt"
		"classname" "trigger_hurt"
		"hammerid" "1596659"
	}
	delete:
	{
		"OnHurtPlayer" "filter_triggerhurt_no,FireUser1,,0,-1"
	}
}

;Makes it so that Big Santa's hurt trigger keeps damaging players so they can't stack anymore

modify:
{
	match:
	{
		"targetname" "bosss_hurt1"
		"classname" "trigger_hurt"
		"hammerid" "1597898"
	}
	delete:
	{
		"OnHurtPlayer" "filter_triggerhurt_no,FireUser1,,0,-1"
	}
}

;Makes it so that Socrates' hurt triggers keep damaging players so they can't stack anymore

modify:
{
	match:
	{
		"targetname" "bosss_hurt2"
		"classname" "trigger_hurt"
		"hammerid" "1598470"
	}
	delete:
	{
		"OnHurtPlayer" "filter_triggerhurt_no,FireUser1,,0,-1"
	}
}

modify:
{
	match:
	{
		"targetname" "bosss_hurt22"
		"classname" "trigger_hurt"
		"hammerid" "1695186"
	}
	delete:
	{
		"OnHurtPlayer" "filter_triggerhurt_no,FireUser1,,0,-1"
	}
}

;Creates a trigger around Big Santa's room so that players cannot glitch HP before bossfight

add:
{
		"model" "*536"
		"UseLandmarkAngles" "0"
		"targetname" "bosss_start1_new"
		"StartDisabled" "1"
		"spawnflags" "1"
		"origin" "1536 -6656 9246"
		"classname" "trigger_multiple"
		"filter" "filter_ct"
		
		"OnStartTouch" "bosss_hp1,AddHealth,3500,0,-1"
		"OnUser2" "!self,Enable,,0.2,-1"
		"OnUser2" "!self,Disable,,0.5,-1"
		"OnUser2" "bosss_hp1,SetHealth,5000,0,-1"
		"OnUser1" "!self,FireUser2,,15,-1"
		"OnUser2" "bosss_targeter1,Enable,,0,-1"
		"OnUser2" "bosss_phys1,EnableMotion,,0,-1"
		"OnUser2" "bosss_hurt1,Enable,,0,-1"
		"OnUser1" "boss_sb_modelfirst,SetDefaultAnimation,idle,7.05,-1"
		"OnUser1" "santa_s_laugh2,PlaySound,,7,-1"
		"OnUser1" "s_santapoof_maker,ForceSpawnAtEntityOrigin,bosss_start1,5,-1"
		"OnUser1" "boss_sb_modelfirst,Enable,,5,-1"
		"OnUser1" "bosss_hurt1,Enable,,10,-1"
		"OnUser1" "santa_s_laugh,PlaySound,,12,-1"
		"OnUser1" "boss_sb_modelfirst,SetAnimation,idle,9,-1"
		"OnUser1" "boss_sb_modelfirst,SetAnimation,laugh,7,-1"
		"OnUser1" "boss_sb_modelfirst,Disable,,10,-1"
		"OnUser1" "s_santapoof_maker,ForceSpawnAtEntityOrigin,bosss_start1,10,-1"
		"OnUser1" "boss_sb_model,Enable,,10,-1"
		"OnUser1" "boss_sb_model,SetAnimation,idle,12,-1"
		"OnUser1" "boss_sb_model,SetDefaultAnimation,idle,12.02,-1"
		"OnUser1" "boss_sb_model,SetAnimation,roll,15,-1"
		"OnUser1" "boss_sb_model,SetDefaultAnimation,roll,15.02,-1"
		"OnUser1" "boss_sb_wallbreak,Break,,30,-1"
		"OnUser1" "boss_sb_bouncetimer,Enable,,15,-1"
		"OnUser1" "music_fs_boss2,PlaySound,,0,-1"
		"OnUser1" "music_fs_final1,FireUser4,,0.02,1"
		"OnUser1" "music_fs_final2,FireUser4,,0.02,1"
		"OnUser1" "music_fs_final2,Volume,0,0,1"
		"OnUser1" "music_fs_final1,Volume,0,0,1"
		"OnUser2" "server,Command,say *** - BIG SANTA - ***,0,1"
		"OnUser2" "bosss_measure1,Enable,,0,-1"
		"OnUser2" "bosss_hpg1,SetParentAttachment,primary,0,-1"
		"OnStartTouch" "eternaltruth_bossaddhp,Trigger,,0,-1"
		"OnUser1" "boss_hurter_timer,FireUser1,,10,-1"
		"OnUser1" "boss_truthbender_timer,FireUser1,,10,-1"
		"OnUser1" "boss_truthbender_spawner,AddOutput,origin 915 -6625 10855,10,-1"
}

;Replaces old trigger in Big Santa's room with the new one

modify:
{
	match:
	{
		"targetname" "fs_finalgate"
		"classname" "func_door"
		"hammerid" "1388249"
	}
	delete:
	{
		"OnFullyClosed" "bosss_start1,FireUser1,,5,1"
	}
	insert:
	{
		"OnFullyClosed" "bosss_start1_new,FireUser1,,5,1"
	}
}

;Adds a new failsafe trigger so that music plays when you get to Socrates

add:
{
		"model" "*36"
		"wait" "0.1"
		"targetname" "bosss_start2_music"
		"StartDisabled" "0"
		"spawnflags" "1"
		"origin" "9984 -2928 -13328"
		"classname" "trigger_once"
		"OnTrigger" "music_truesanta,PlaySound,,0,-1"
		"OnTrigger" "!self,Kill,,0,1"
}

;Deletes music from the old trigger when you reach Socrates

modify:
{
	match:
	{
		"targetname" "bosss_start2"
		"classname" "trigger_multiple"
		"hammerid" "1598476"
	}
	delete:
	{
		"OnUser1" "music_truesanta,PlaySound,,0,-1"
	}
}

;Fixes music when you kill Socrates

modify:
{
	match:
	{
		"targetname" "bosss_hp2"
		"classname" "func_physbox_multiplayer"
		"hammerid" "1598473"
	}
	delete:
	{
		"OnBreak" "music_truth_win,PlaySound,,0,-1"
	}
	insert:
	{
		"OnBreak" "music_truth_win,FireUser1,,0.02,-1"
	}
}

;Adds Luffaren's stripper fix for Extreme Act 1

modify:
{
	match:
	{
		"classname" "func_physbox_multiplayer"
		"targetname" "npc_phys2gg3"
	}
    insert:
    {
		"OnBreak" "g_npc_death,Trigger,,0.00,-1"
    }
}
modify:
{
	match:
	{
		"model" "*493"
		"hammerid" "1901988"
		"classname" "func_door"
	}
	insert:
	{
		"OnUser1" "stripper_fix_stage_3_gate_1,Kill,,30,1"
		"OnUser1" "stripper_fix_stage_3_gate_2,Kill,,30,1"
	}
}

;-------------------------
; ITEM: FIX MISSING CZ75A SOUND
;-------------------------

filter:
{
	"hammerid" "183637"
	"classname" "ambient_generic"
	"targetname" "item_s_3"
}
filter:
{
	"hammerid" "183555"
	"classname" "ambient_generic"
	"targetname" "item_s_3"
}
modify:
{
	match:
	{
		"hammerid" "183640"
		"classname" "ambient_generic"
		"targetname" "item_s_3"
	}
	replace:
	{
		"health" "5"
	}
}

;-------------------------
; ITEM: PARENT BUTTONS TO WEAPONS
;-------------------------

modify:
{
	match:
	{
		"model" "*432"
		"hammerid" "183115"
		"classname" "func_button"
	}
	replace:
	{
		"parentname" "item_holder_1"
	}
}
modify:
{
	match:
	{
		"model" "*434"
		"hammerid" "183392"
		"classname" "func_button"
	}
	replace:
	{
		"parentname" "item_holder_2"
	}
}
modify:
{
	match:
	{
		"model" "*440"
		"hammerid" "183625"
		"classname" "func_button"
	}
	replace:
	{
		"parentname" "item_holder_3"
	}
}
modify:
{
	match:
	{
		"model" "*9"
		"hammerid" "1847050"
		"classname" "func_button"
	}
	replace:
	{
		"parentname" "item_holder_4"
	}
}
modify:
{
	match:
	{
		"model" "*11"
		"hammerid" "1983646"
		"classname" "func_button"
	}
	replace:
	{
		"parentname" "item_holder_5"
	}
}
modify:
{
	match:
	{
		"model" "*6"
		"hammerid" "2078724"
		"classname" "func_button"
	}
	replace:
	{
		"parentname" "item_holder_6"
	}
}
