; Stripper by iszaar, edited by .Rushaway
;-------------------------
; networking optimisation
;-------------------------
modify:
{
	match:
	{
		"classname" "/prop_dynamic|prop_dynamic_override/"
	}
	insert:
	{
		"DisableBoneFollowers" "1"
	}
}

;--------------------------
; dynamic shadow crash fix
;--------------------------
modify:
{
	match:
	{
		"classname" "/prop_dynamic|func_movelinear|func_tracktrain|func_water_analog|func_breakable/"
	}
	replace:
	{
		"disablereceiveshadows" "1"
	}
}

;------------------------------------
; particle breaks due to loose files
;------------------------------------
filter:
{
	"classname" "info_particle_system"
	"effect_name" "fire_large_01"
}

;------------------------------------------
; Add missing mz ratio based on checkpoint
;------------------------------------------
modify:
{
	match:
	{
		"classname" "logic_case"
		"targetname" "CaseLogic"
	}
	insert:
	{
		"Case05" "5"
		"OnCase05" "levelthing*,Kill,0,1"
		"OnCase01" "text_command,Command,zr_infect_mzombie_ratio 13,1"
		"OnCase02" "text_command,Command,zr_infect_mzombie_ratio 11,1"
		"OnCase03" "text_command,Command,zr_infect_mzombie_ratio 9,1"
		"OnCase04" "text_command,Command,zr_infect_mzombie_ratio 8,1"
		"OnCase05" "text_command,Command,zr_infect_mzombie_ratio 13,1"
	}
}

;----------------------
; Fix bad zr commands
;----------------------
modify:
{
	match:
	{
		"classname" "logic_auto"
		"hammerid" "6628301"
	}
	delete:
	{
		"OnMapSpawn" "text_command,Command,zr_infect_mzombie_ratio 22,0,-1"
		"OnMapSpawn" "text_command,Command,zr_class_modify 0 health 7000,0,-1"
		"OnMapSpawn" "text_command,Command,zr_class_set_multiplier 1.1,0,-1"
		"OnMapSpawn" "text_command,Command,zr_class_modify 1 health 150,0,-1"
	}
	insert:
	{
		"OnMapSpawn" "text_command,Command,zr_infect_mzombie_ratio 13,0,-1"
		"OnMapSpawn" "text_command,Command,zr_infect_mzombie_ratio 13,0,-1"
		"OnMapSpawn" "text_command,Command,zr_class_modify zombies health 7000,0,-1"
		"OnMapSpawn" "text_command,Command,zr_class_modify humans health 150,0,-1"
	}
}
