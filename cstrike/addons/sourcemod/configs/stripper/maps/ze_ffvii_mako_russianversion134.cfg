;Stripper by   & FPTyel  - http://steamcommunity.com/profiles/76561198069158986 
;
;CREDITS TO:   & MOLTARD - http://steamcommunity.com/profiles/76561197999271648
;              & NOCTALI - http://steamcommunity.com/profiles/76561198038569520
;              & ZACADE  - http://steamcommunity.com/profiles/76561198033675750
;              & NEON    - http://steamcommunity.com/profiles/76561198024759747
;For bug fixes from v5_3, they're been migrated to ru-mako. Thank you for your hard work!
;
;THANKS TO:    & Heyfumi - http://steamcommunity.com/profiles/76561198441129132
;			   & NiceShot- http://steamcommunity.com/profiles/76561198322718614
;For helping me out with stripper.
;			   & Killik  - http://steamcommunity.com/profiles/76561198278923762
;For infinite testing this stripper on test server.
;
;Temp delete of traps in bridge.
filter:
{
    "targetname" "breackmost1" // redirects to girda1
    "classname" "trigger_once"
}

filter:
{
    "targetname" "breackmost2" // redirects to mostik1
    "classname" "trigger_once"
}

filter:
{
    "targetname" "rabota1" // redirects to mostbre1
    "classname" "trigger_once"
}

modify:
{
	match:
	{
		"targetname" "extreme4logicmostick"
		"classname" "logic_relay"
	}
	delete:
	{
		"OnTrigger" "breackmost2,Enable,,0,-1"
        "OnTrigger" "rabota1,Enable,,0,-1"
        "OnTrigger" "breackmost1,Enable,,0,-1"
	}
}

;EXTREME4: Increasing time of final nuke up to 0.5 seconds (to be balanced), also zombie checker too.
modify:
{
	match:
	{
		"targetname" "huida_d4level"
		"classname" "logic_relay"
	}
	delete:
	{
		"OnTrigger" "finalf,Trigger,,119.5,-1"
		"OnTrigger" "sin_zombis,Enable,,119,-1"
	}
	insert:
	{
		"OnTrigger" "finalf,Trigger,,120,-1"
		"OnTrigger" "sin_zombis,Enable,,119.5,-1"
	}
}

;Deleting Earth sound, because it's glitched.
filter:
{
	"targetname" "magia_ts"
	"classname" "ambient_generic"
	"message" "ambient/explosions/explode_4.wav"
}

modify:
{
	match:
	{
		"targetname" "tierra_relay"
		"classname" "logic_compare"
	}
	delete:
	{
		"OnEqualTo" "magia_ts,PlaySound,,0,-1"
	}
}

;Informing about stripper
modify:
{
	match:
	{
		"targetname" "dificultad_i_t_medio"
		"classname" "trigger_once"
	}
	insert:
	{
		"OnStartTouch" "consola,Command,say Stripper v2.2,15,-1"
		"OnStartTouch" "bahamut_s1,PlaySound,,15,-1"
	}
}

;Removing shakes, no one love it tbh.

filter:
{
	"hammerid" "1085"
	"classname" "env_shake"
}

filter:
{
	"hammerid" "1086"
	"classname" "env_shake"
}

filter:
{
	"hammerid" "1580"
	"classname" "env_shake"
}

filter:
{
	"hammerid" "1713"
	"classname" "env_shake"
}

filter:
{
	"hammerid" "1724"
	"classname" "env_shake"
}

filter:
{
	"hammerid" "2197"
	"classname" "env_shake"
}

modify:
{
	match:
	{
		"hammerid" "1698"
		"classname" "trigger_once"
	}
	delete:
	{
		"OnStartTouch" "pFinal2,StartShake,,6,-1"
	}
}

modify:
{
	match:
	{
		"hammerid" "1710"
		"classname" "logic_relay"
	}
	delete:
	{
		"OnTrigger" "pFinal2,bangabsoluto,StartShake,,0.5,-1"
		"OnTrigger" "bang,StartShake,,1.3,1"
	}
}

modify:
{
	match:
	{
		"hammerid" "1719"
		"classname" "trigger_once"
	}
	delete:
	{
		"OnStartTouch" "pFinal2,StartShake,,1,-1"
		"OnStartTouch" "pFinal2,StartShake,,2,-1"
	}
}

modify:
{
	match:
	{
		"hammerid" "1726"
		"classname" "trigger_once"
	}
	delete:
	{
		"OnStartTouch" "pFInal2,StartShake,,0,-1"
	}
}

modify:
{
	match:
	{
		"hammerid" "1791"
		"classname" "logic_relay"
	}
	delete:
	{
		"OnTrigger" "pFinal2,StartShake,,0,-1"
		"OnTrigger" "pFinal2,StartShake,,8.5,-1"
	}
}

modify:
{
	match:
	{
		"hammerid" "1892"
		"classname" "trigger_once"
	}
	delete:
	{
		"OnStartTouch" "sUltima2,StartShake,,0,-1"
	}
}

modify:
{
	match:
	{
		"hammerid" "1912"
		"classname" "logic_relay"
	}
	delete:
	{
		"OnTrigger" "sUltima2,StartShake,,20,1"
		"OnTrigger" "sUltima,StartShake,,0,1"
	}
}

modify:
{
	match:
	{
		"hammerid" "1913"
		"classname" "prop_dynamic"
	}
	delete:
	{
		"OnAnimationDone" "bangabsoluto,StartShake,,0.3,1"
	}
}

modify:
{
	match:
	{
		"hammerid" "1974"
		"classname" "logic_relay"
	}
	delete:
	{
		"OnTrigger" "bangabsoluto,StartShake,,10.3,1"
	}
}

modify:
{
	match:
	{
		"hammerid" "2142"
		"classname" "logic_case"
	}
	delete:
	{
		"OnCase01" "shakeelve,StartShake,,0,-1"
		"OnCase02" "shakeelve,StartShake,,0,-1"
		"OnCase03" "shakeelve,StartShake,,0,-1"
		"OnCase04" "shakeelve,StartShake,,0,-1"
	}
}

modify:
{
	match:
	{
		"hammerid" "2221"
		"classname" "logic_relay"
	}
	delete:
	{
		"OnTrigger" "sUltima,StartShake,,0,-1"
		"OnTrigger" "sUltima2,StartShake,,20,-1"
	}
}

modify:
{
	match:
	{
		"hammerid" "2253"
		"classname" "trigger_once"
	}
	delete:
	{
		"OnStartTouch" "pFinal2,StartShake,,1,-1"
		"OnStartTouch" "pFinal2,StartShake,,4,-1"
	}
}

modify:
{
	match:
	{
		"hammerid" "2255"
		"classname" "logic_relay"
	}
	delete:
	{
		"OnTrigger" "bangabsoluto,StartShake,,4.3,1"
	}
}

modify:
{
	match:
	{
		"hammerid" "2358"
		"classname" "logic_relay"
	}
	delete:
	{
		"OnTrigger" "shakeelve,StartShake,,0.1,-1"
	}
}

modify:
{
	match:
	{
		"hammerid" "2473"
		"classname" "func_physbox_multiplayer"
	}
	delete:
	{
		"OnBreak" "bang,StartShake,,8,1"	
	}
}

modify:
{
	match:
	{
		"hammerid" "2714"
		"classname" "trigger_once"
	}
	delete:
	{
		"OnStartTouch" "sUltima,StartShake,,260,-1"	
	}
}

;Re-logic the ending (normal + hard are fine)

modify:
{
	match:
	{
		"targetname" "trigger_n_e"
		"classname" "trigger_once"
	}
	insert:
	{
		"filtername" "humanos"
	}
}

modify:
{
	match:
	{
		"targetname" "trigger_n_e2"
		"classname" "trigger_once"
	}
	insert:
	{
		"filtername" "humanos"
	}
}

modify:
{
	match:
	{
		"targetname" "gorb1"
		"classname" "trigger_once"
	}
	insert:
	{
		"filtername" "humanos"
	}
}

modify:
{
	match:
	{
		"targetname" "gorb2"
		"classname" "trigger_once"
	}
	insert:
	{
		"filtername" "humanos"
	}
}

;Increasing Scorpion HP
modify:
{
	match:
	{
		"targetname" "calcVidaM"
		"classname" "trigger_multiple"
	}
	delete:
	{
		"OnStartTouch" "Monstruo_Breakable,AddHealth,3500,0,-1"
	}
	insert:
	{
		"OnStartTouch" "Monstruo_Breakable,AddHealth,4500,0,-1"
	}
}

;Fixing attacks

;Bahamut Gravity: +2 seconds
modify:
{
	match:
	{
		"targetname" "bah_cast_gravedad"
		"classname" "logic_relay"
	}
	delete:
	{
		"OnTrigger" "baha_gravedad,Stop,,6,-1"
		"OnTrigger" "xb_gravedad,Disable,,6,-1"
	}
	insert:
	{
		"OnTrigger" "baha_gravedad,Stop,,9,-1"
		"OnTrigger" "xb_gravedad,Disable,,9,-1"
	}
}

;Bahamut Fire: X2.2 damage
modify:
{
	match:
	{
		"targetname" "xb_fuego1"
		"classname" "trigger_hurt"
	}
	delete:
	{
		"damage" "30"
	}
	insert:
	{
		"damage" "70"
	}
}

;Bahamut Electro: X1.66 damage
modify:
{
	match:
	{
		"targetname" "xb_rayo_2"
		"classname" "trigger_hurt"
	}
	delete:
	{
		"damage" "60"
	}
	insert:
	{
		"damage" "100"
	}
}

;Bahamut Wind: +2 seconds
modify:
{
	match:
	{
		"targetname" "bah_cast_viento"
		"classname" "logic_relay"
	}
	delete:
	{
		"OnTrigger" "xb_viento,Stop,,4,-1"
		"OnTrigger" "xb_viento1,Disable,,4,-1"
	}
	insert:
	{
		"OnTrigger" "xb_viento,Stop,,6,-1"
		"OnTrigger" "xb_viento1,Disable,,6,-1"
	}
}

;Bahamut Heal: +1000 HP (instead of +150 HP)
modify:
{
	match:
	{
		"targetname" "bah_cast_cura"
		"classname" "logic_relay"
	}
	delete:
	{
		"OnTrigger" "consola,Command,say ** BAHAMUT HAS HEALED 150 HIT POINTS**,0,-1"
		"OnTrigger" "bahamut_vida,Add,150,0,-1"
	}
	insert:
	{
		"OnTrigger" "consola,Command,say ** BAHAMUT HAS HEALED 1000 HIT POINTS**,0,-1"
		"OnTrigger" "bahamut_vida,Add,1000,0,-1"
	}
}

;-------------------------------------------------------------------------------------
;=====================================================================================
;    Bug fixes \ additionals from v5_3 stripper by Moltard, Noctali, Zacade, Neon
;=====================================================================================
;-------------------------------------------------------------------------------------

; Bahamut frozen fix (ICE)

modify:
{
	match:
	{
		"hammerid" "2127"
		"classname" "logic_relay"
		"targetname" "congelar_baha"
	}
	delete:
	{
		"OnTrigger" "mh2bahamut,TurnOn,,0,1"
		"OnTrigger" "mh2bahamut,TurnOff,,5,1"
	}
	insert:
	{
		"OnTrigger" "mh2bahamut,Enable,,0,1"
		"OnTrigger" "mh2bahamut,Disable,,5,1"
	}
}
modify:
{
	match:
	{
		"hammerid" "1095"
		"classname" "logic_relay"
		"targetname" "magia_hielo_t2"
	}
	delete:
	{
		"OnTrigger" "congelar_baha,Trigger,,0,1"
	}
	insert:
	{
		"OnTrigger" "congelar_baha,Trigger,,0,-1"
	}
}
modify:
{
	match:
	{
		"hammerid" "1096"
		"classname" "logic_relay"
		"targetname" "magia_hielo_t3"
	}
	delete:
	{
		"OnTrigger" "congelar_baha,Trigger,,0,1"
	}
	insert:
	{
		"OnTrigger" "congelar_baha,Trigger,,0,-1"
	}
}

;Item fixes, contain critical glitch, which leads server to crash

filter:
{
	"classname" "point_teleport"
	"targetname" "/teleportar.*/"
}
filter:
{
	"hammerid" "2054"
	"classname" "logic_case"
	"targetname" "randomizar"
}
filter:
{
	"hammerid" "2040"
	"classname" "logic_case"
	"targetname" "randomizar2"
}
filter:
{
	"hammerid" "1865"
	"classname" "logic_case"
	"targetname" "randomizar3"
}
filter:
{
	"hammerid" "2058"
	"classname" "logic_case"
	"targetname" "randomizar_2"
}
filter:
{
	"model" "*150"
	"hammerid" "1927"
	"classname" "func_physbox_multiplayer"
}
filter:
{
	"model" "*151"
	"hammerid" "1929"
	"classname" "func_physbox_multiplayer"
}
filter:
{
	"model" "*152"
	"hammerid" "1931"
	"classname" "func_physbox_multiplayer"
}
filter:
{
	"model" "*153"
	"hammerid" "1933"
	"classname" "func_physbox_multiplayer"
}
filter:
{
	"model" "*154"
	"hammerid" "1935"
	"classname" "func_physbox_multiplayer"
}
filter:
{
	"model" "*155"
	"hammerid" "1937"
	"classname" "func_physbox_multiplayer"
}
filter:
{
	"model" "*156"
	"hammerid" "1939"
	"classname" "func_physbox_multiplayer"
}
filter:
{
	"model" "*157"
	"hammerid" "1941"
	"classname" "func_physbox_multiplayer"
}
filter:
{
	"model" "*158"
	"hammerid" "1943"
	"classname" "func_physbox_multiplayer"
}
filter:
{
	"model" "*159"
	"hammerid" "1946"
	"classname" "func_physbox_multiplayer"
}
filter:
{
	"model" "*160"
	"hammerid" "1949"
	"classname" "func_physbox_multiplayer"
}
filter:
{
	"model" "*177"
	"hammerid" "2021"
	"classname" "func_physbox_multiplayer"
}
filter:
{
	"model" "*178"
	"hammerid" "2024"
	"classname" "func_physbox_multiplayer"
}
filter:
{
	"model" "*179"
	"hammerid" "2027"
	"classname" "func_physbox_multiplayer"
}
filter:
{
	"model" "*180"
	"hammerid" "2029"
	"classname" "func_physbox_multiplayer"
}
filter:
{
	"model" "*181"
	"hammerid" "2034"
	"classname" "func_physbox_multiplayer"
}
filter:
{
	"model" "*182"
	"hammerid" "2037"
	"classname" "func_physbox_multiplayer"
}
filter:
{
	"model" "*184"
	"hammerid" "2055"
	"classname" "func_physbox_multiplayer"
}
filter:
{
	"model" "*190"
	"hammerid" "2086"
	"classname" "func_physbox_multiplayer"
}

; Name Buttons

modify:
{
	match:
	{
		"model" "*19"
		"hammerid" "1106"
		"classname" "func_button"
	}
	insert:
	{
		"targetname" "button_ice"
	}
}
modify:
{
	match:
	{
		"model" "*27"
		"hammerid" "1141"
		"classname" "func_button"
	}
	insert:
	{
		"targetname" "button_wind"
	}
}
modify:
{
	match:
	{
		"model" "*30"
		"hammerid" "1154"
		"classname" "func_button"
	}
	insert:
	{
		"targetname" "button_earth"
	}
}
modify:
{
	match:
	{
		"model" "*31"
		"hammerid" "1162"
		"classname" "func_button"
	}
	insert:
	{
		"targetname" "button_heal"
	}
}
modify:
{
	match:
	{
		"model" "*53"
		"hammerid" "1243"
		"classname" "func_button"
	}
	insert:
	{
		"targetname" "button_grav"
	}
}

;Templates

add:
{
	"spawnflags" "2"
	"classname" "point_template"
	"targetname" "temp_wind"
	"origin" "-10804 648 -2666"
	"Template01" "magia_viento"
	"Template02" "button_wind"
	"Template03" "viento_f*"
	"Template04" "ssss"
	"Template05" "tv*"
}
add:
{
	"spawnflags" "2"
	"classname" "point_template"
	"targetname" "temp_ultima"
	"origin" "-8080 1702 -2006"
	"Template01" "magia_ultima"
	"Template02" "boton_ultima"
	"Template03" "ultima_f*"
	"Template04" "danyoUlt*"
}

add:
{
	"spawnflags" "2"
	"classname" "point_template"
	"targetname" "temp_gravity"
	"origin" "-8557 1115 -1564"
	"Template01" "magia_gravedad*"
	"Template02" "button_grav"
	"Template03" "gravedad_f"
	"Template04" "crear_gravedad1"
}
add:
{
	"spawnflags" "2"
	"classname" "point_template"
	"targetname" "temp_fire"
	"origin" "-9961 1761 -2647"
	"Template01" "magia_fuego"
	"Template02" "1b"
	"Template03" "fuego_f"
	"Template04" "fuego_p*"
	"Template05" "fuego_a*"
	"Template06" "sonidofire1"
}
add:
{
	"spawnflags" "2"
	"classname" "point_template"
	"targetname" "temp_heal"
	"origin" "-7822 228 -2558"
	"Template01" "magia_cura"
	"Template02" "button_heal"
	"Template03" "cura2_f"
	"Template04" "cura_f*"
	"Template05" "curacion*"
	"Template06" "sonidocura1"
}
add:
{
	"spawnflags" "2"
	"classname" "point_template"
	"targetname" "temp_electro"
	"origin" "-8057 1675 -2659"
	"Template01" "magia_rayo"
	"Template02" "rayo_bot"
	"Template03" "rayo_template*"
	"Template04" "rayo_fire_2"
	"Template05" "electro_f*"
}
add:
{
	"spawnflags" "2"
	"classname" "point_template"
	"targetname" "temp_earth"
	"origin" "-10625 1121 -2583"
	"Template01" "magia_tierra"
	"Template02" "button_earth"
	"Template03" "tierra_f"
	"Template04" "crear_tierra1"
	"Template05" "magia_ts"
}
add:
{
	"spawnflags" "2"
	"classname" "point_template"
	"targetname" "temp_ice"
	"origin" "-8936 656 -2635"
	"Template01" "magia_hielo"
	"Template02" "button_ice"
	"Template03" "hielo_f"
	"Template04" "magia_hielo_s"
	"Template05" "crear_hielo*"
}

; Spawning via templates

add:
{
	"classname" "logic_case"
	"targetname" "ItemTemp"
	"origin" "-3584 -3584 1088"
	"OnCase01" "ItemSpawner,AddOutput,EntityTemplate temp_wind,0,1"
	"OnCase02" "ItemSpawner,AddOutput,EntityTemplate temp_gravity,0,1"
	"OnCase03" "ItemSpawner,AddOutput,EntityTemplate temp_fire,0,1"
	"OnCase04" "ItemSpawner,AddOutput,EntityTemplate temp_heal,0,1"
	"OnCase05" "ItemSpawner,AddOutput,EntityTemplate temp_electro,0,1"
	"OnCase06" "ItemSpawner,AddOutput,EntityTemplate temp_ice,0,1"
}
add:
{
	"classname" "logic_case"
	"targetname" "ItemOrigin"
	"origin" "-3584 -3584 1088"
	"OnCase01" "ItemSpawner,AddOutput,origin -9357 5628 -36,0,1"
	"OnCase02" "ItemSpawner,AddOutput,origin -8160 1517 209,0,1"
	"OnCase03" "ItemSpawner,AddOutput,origin -8457 1740 -128,0,1"
	"OnCase04" "ItemSpawner,AddOutput,origin -10646 4092 124,0,1"
	"OnCase05" "ItemSpawner,AddOutput,origin -9354 8896 -2895,0,1"
	"OnCase06" "ItemSpawner,AddOutput,origin -10106 7830 -2904,0,1"
	"OnCase07" "ItemSpawner,AddOutput,origin -8756 2872 161,0,1"
	"OnCase08" "ItemSpawner,AddOutput,origin -7634 192 472,0,1"
	"OnCase09" "ItemSpawner,AddOutput,origin -9980 -1963 280,0,1"
	"OnCase10" "ItemSpawner,AddOutput,origin -7808 2025 135,0,1"
	"OnCase11" "ItemSpawner,AddOutput,origin -10029 9505 -3775,0,1"
	"OnCase12" "ItemSpawner,AddOutput,origin -9400 8304 -1672,0,1"
	"OnCase13" "ItemSpawner,AddOutput,origin -10560 1472 192,0,1"
	"OnCase14" "ItemSpawner,AddOutput,origin -9624 2304 376,0,1"
	"OnCase15" "ItemSpawner,AddOutput,origin -8877 -121 -244,0,1"
	"OnCase16" "ItemOrigin2,PickRandomShuffle,,0,1"
}

add: // -9235 772 389 and -8465 1880 360 are new
{
	"classname" "logic_case"
	"targetname" "ItemOrigin2"
	"origin" "-3584 -3584 1088"
	"OnCase01" "ItemSpawner,AddOutput,origin -9235 772 389,0,1"
	"OnCase02" "ItemSpawner,AddOutput,origin -9530 8050 172,0,1"
	"OnCase03" "ItemSpawner,AddOutput,origin -8465 1880 360,0,1"
}

add:
{
	"classname" "logic_case"
	"targetname" "ItemOriginEarth"
	"origin" "-3584 -3584 1088"
	"OnCase01" "ItemSpawner,AddOutput,origin -10469 3470 392,0,1"
	"OnCase02" "ItemSpawner,AddOutput,origin -7050 3879 362,0,1"
}
add:
{
	"classname" "logic_case"
	"targetname" "ItemOriginUltima"
	"origin" "-3584 -3584 1088"
	"OnCase01" "ItemSpawner,AddOutput,origin -10728 2548 360,0,1"
	"OnCase02" "ItemSpawner,AddOutput,origin -9406 7616 -1231,0,1"
}
add:
{
	"classname" "logic_case"
	"targetname" "ItemOriginZM"
	"origin" "-3584 -3584 1088"
	"OnCase01" "ItemSpawner,AddOutput,origin -8160 1517 209,0,1"
	"OnCase02" "ItemSpawner,AddOutput,origin -8457 1740 -128,0,1"
	"OnCase03" "ItemSpawner,AddOutput,origin -8756 2872 161,0,1"
	"OnCase04" "ItemSpawner,AddOutput,origin -7634 192 472,0,1"
	"OnCase05" "ItemSpawner,AddOutput,origin -9980 -1963 280,0,1"
	"OnCase06" "ItemSpawner,AddOutput,origin -7808 2025 135,0,1"
	"OnCase07" "ItemSpawner,AddOutput,origin -10560 1472 192,0,1"
	"OnCase08" "ItemSpawner,AddOutput,origin -9624 2304 376,0,1"
	"OnCase09" "ItemSpawner,AddOutput,origin -8877 -121 -244,0,1"
	"OnCase10" "ItemSpawner,AddOutput,origin -9235 772 389,0,1"
	"OnCase11" "ItemSpawner,AddOutput,origin -8465 1880 360,0,1"
}

;Spawner system

add:
{
	"classname" "env_entity_maker"
	"targetname" "ItemSpawner"
	"origin" "-3584 -3584 1088"
	"EntityTemplate" "#ERROR"
	"OnUser1" "ItemOriginEarth,PickRandom,,0,1"
	"OnUser1" "!self,AddOutput,EntityTemplate temp_earth,0,1"
	"OnUser1" "!self,ForceSpawn,,0.02,1"
	"OnUser2" "ItemOriginUltima,PickRandom,,0,1"
	"OnUser2" "!self,AddOutput,EntityTemplate temp_ultima,0,1"
	"OnUser2" "!self,ForceSpawn,,0.02,1"
	"OnUser3" "!self,AddOutput,origin -7184 9502 -4456,0,1"
	"OnUser3" "!self,AddOutput,EntityTemplate temp_ultima,0,1"
	"OnUser3" "!self,ForceSpawn,,0.02,1"
	"OnUser4" "!self,AddOutput,origin -10782 2268 604,0,1"
	"OnUser4" "!self,AddOutput,EntityTemplate temp_ultima,0,1"
	"OnUser4" "!self,ForceSpawn,,0.02,1"
}

add:
{
	"classname" "logic_relay"
	"targetname" "ItemRelay"
	"origin" "-3584 -3584 1088"
	"OnUser1" "ItemTemp,PickRandomShuffle,,0,1"
	"OnUser1" "ItemOrigin,PickRandomShuffle,,0,1"
	"OnUser1" "ItemSpawner,ForceSpawn,,0.02,1"
	"OnUser1" "ItemTemp,PickRandomShuffle,,0.1,1"
	"OnUser1" "ItemOrigin,PickRandomShuffle,,0.1,1"
	"OnUser1" "ItemSpawner,ForceSpawn,,0.12,1"
	"OnUser1" "ItemTemp,PickRandomShuffle,,0.2,1"
	"OnUser1" "ItemOrigin,PickRandomShuffle,,0.2,1"
	"OnUser1" "ItemSpawner,ForceSpawn,,0.22,1"
	"OnUser1" "ItemTemp,PickRandomShuffle,,0.3,1"
	"OnUser1" "ItemOrigin,PickRandomShuffle,,0.3,1"
	"OnUser1" "ItemSpawner,ForceSpawn,,0.32,1"
	"OnUser1" "ItemTemp,PickRandomShuffle,,0.4,1"
	"OnUser1" "ItemOrigin,PickRandomShuffle,,0.4,1"
	"OnUser1" "ItemSpawner,ForceSpawn,,0.42,1"
	"OnUser1" "ItemTemp,PickRandomShuffle,,0.5,1"
	"OnUser1" "ItemOrigin,PickRandomShuffle,,0.5,1"
	"OnUser1" "ItemSpawner,ForceSpawn,,0.52,1"
	"OnUser1" "ItemSpawner,FireUser1,,0.6,1"
	"OnUser2" "ItemTemp,PickRandomShuffle,,0,1"
	"OnUser2" "ItemOriginZM,PickRandomShuffle,,0,1"
	"OnUser2" "ItemSpawner,ForceSpawn,,0.02,1"
	"OnUser2" "ItemTemp,PickRandomShuffle,,0.1,1"
	"OnUser2" "ItemOriginZM,PickRandomShuffle,,0.1,1"
	"OnUser2" "ItemSpawner,ForceSpawn,,0.12,1"
	"OnUser2" "ItemTemp,PickRandomShuffle,,0.2,1"
	"OnUser2" "ItemOriginZM,PickRandomShuffle,,0.2,1"
	"OnUser2" "ItemSpawner,ForceSpawn,,0.22,1"
	"OnUser2" "ItemTemp,PickRandomShuffle,,0.3,1"
	"OnUser2" "ItemOriginZM,PickRandomShuffle,,0.3,1"
	"OnUser2" "ItemSpawner,ForceSpawn,,0.32,1"
	"OnUser2" "ItemTemp,PickRandomShuffle,,0.4,1"
	"OnUser2" "ItemOriginZM,PickRandomShuffle,,0.4,1"
	"OnUser2" "ItemSpawner,ForceSpawn,,0.42,1"
	"OnUser2" "ItemTemp,PickRandomShuffle,,0.5,1"
	"OnUser2" "ItemOriginZM,PickRandomShuffle,,0.5,1"
	"OnUser2" "ItemSpawner,ForceSpawn,,0.52,1"
}

modify:
{
	match:
	{
		"classname" "logic_auto"
		"hammerid" "1857"
	}
	delete:
	{
		"OnNewGame" "randomizar,PickRandom,,0,-1"
		"OnNewGame" "randomizar3,PickRandom,,0,-1"
		"OnNewGame" "randomizar2,PickRandom,,0,-1"
		"OnNewGame" "teleportarNUEVO,Teleport,,2.5,-1"
		"OnNewGame" "teleportarNUEVO2,Teleport,,3.5,-1"
		"OnNewGame" "teleportarNUEVO3,Teleport,,9.5,-1"
		"OnNewGame" "teleportarNUEVO4,Teleport,,5.5,-1"
		"OnNewGame" "teleportarNUEVO5,Teleport,,6.5,-1"
		"OnNewGame" "teleportarNUEVO6,Teleport,,7.5,-1"
		"OnNewGame" "teleportarNUEVO8,Teleport,,4.5,-1"
		"OnNewGame" "teleportarNUEVO9,Teleport,,8.5,-1"
		"OnNewGame" "teleportarNUEVO2bat,Teleport,,3.5,-1"
		"OnNewGame" "teleportarNUEVO2bat3,Teleport,,3.5,-1"
		"OnNewGame" "teleportar2,Teleport,,2,-1"
		"OnNewGame" "teleportar3,Teleport,,3,-1"
		"OnNewGame" "teleportar4,Teleport,,4,-1"
		"OnNewGame" "teleportar5,Teleport,,5,-1"
		"OnNewGame" "teleportar6,Teleport,,6,-1"
		"OnNewGame" "teleportar7,Teleport,,7,-1"
		"OnNewGame" "teleportar8,Teleport,,8,-1"
		"OnNewGame" "teleportar9,Teleport,,9,-1"
	}
}

modify:
{
	match:
	{
		"targetname" "dificultad_i_t_medio"
		"classname" "trigger_once"
		"hammerid" "2720"
	}
	delete:
	{
		"OnStartTouch" "teleportarS2,Teleport,,5,-1"
		"OnStartTouch" "teleportarS1,Teleport,,5,-1"
	}
	insert:
	{
		"OnStartTouch" "ItemRelay,FireUser1,,1,1"
	}
}

modify:
{
	match:
	{
		"targetname" "dificultad_i_t_dificil"
		"classname" "trigger_once"
		"hammerid" "2716"
	}
	delete:
	{
		"OnStartTouch" "teleportarS2,Teleport,,5,-1"
		"OnStartTouch" "teleportarS1,Teleport,,5,-1"
		"OnStartTouch" "teleportarSx2,Teleport,,5,-1"
		"OnStartTouch" "teleportarSx1,Teleport,,5,-1"	
	}
	insert:
	{
		"OnStartTouch" "ItemRelay,FireUser1,,1,1"
		"OnStartTouch" "ItemSpawner,FireUser2,,3,1"
	}
}

modify:
{
	match:
	{
		"targetname" "dificultad_i_t_extremo"
		"classname" "trigger_once"
		"hammerid" "2718"
	}
	delete:
	{
		"OnStartTouch" "teleportarS2,Teleport,,5,-1"
		"OnStartTouch" "teleportarS1,Teleport,,5,-1"
		"OnStartTouch" "teleportarSx2,Teleport,,5,-1"
		"OnStartTouch" "teleportarSx1,Teleport,,5,-1"	
	}
	insert:
	{
		"OnStartTouch" "ItemRelay,FireUser1,,1,1"
		"OnStartTouch" "ItemSpawner,FireUser2,,3,1"
	}
}

modify:
{
	match:
	{
		"targetname" "dificultad_i_t_extreme2"
		"classname" "trigger_multiple"
		"hammerid" "2710"
	}
	delete:
	{
		"OnStartTouch" "teleportarS2,Teleport,,5,-1"
		"OnStartTouch" "teleportarS1,Teleport,,5,-1"
		"OnStartTouch" "teleportarSx2,Teleport,,5,-1"
		"OnStartTouch" "teleportarSx1,Teleport,,5,-1"
		"OnStartTouch" "teleportarSx12,Teleport,,10,-1"		
	}
	insert:
	{
		"OnStartTouch" "ItemRelay,FireUser1,,1,1"
		"OnStartTouch" "ItemSpawner,FireUser3,,3,1"
		"OnStartTouch" "worldspawn,FireUser4,,0,1"
	}
}

modify:
{
	match:
	{
		"targetname" "dificultad_i_t_extreme3"
		"classname" "trigger_multiple"
		"hammerid" "2916"
	}
	delete:
	{
		"OnStartTouch" "teleportarS2,Teleport,,5,-1"
		"OnStartTouch" "teleportarS1,Teleport,,5,-1"
		"OnStartTouch" "teleportarSx2,Teleport,,5,-1"
		"OnStartTouch" "teleportarSx1,Teleport,,5,-1"
		"OnStartTouch" "teleportarSx12,Teleport,,10,-1"	
	}
	insert:
	{
		"OnStartTouch" "ItemRelay,FireUser1,,1,1"
		"OnStartTouch" "ItemSpawner,FireUser3,,3,1"
		"OnStartTouch" "worldspawn,FireUser4,,0,1"
	}
}

modify:
{
	match:
	{
		"targetname" "dificultad_i_t_extreme4"
		"classname" "trigger_multiple"
		"hammerid" "3228"
	}
	delete:
	{
		"OnStartTouch" "teleportarS2,Teleport,,5,-1"
		"OnStartTouch" "teleportarS1,Teleport,,5,-1"
		"OnStartTouch" "teleportarSx2,Teleport,,5,-1"
		"OnStartTouch" "teleportarSx1,Teleport,,5,-1"
		"OnStartTouch" "teleportarSx12,Teleport,,10,-1"
		"OnStartTouch" "teleportarSx12verx,Teleport,,14,-1"
	}
	insert:
	{
		"OnStartTouch" "ItemRelay,FireUser1,,1,1"
		"OnStartTouch" "ItemSpawner,FireUser3,,3,1"
		"OnStartTouch" "worldspawn,FireUser4,,0,1"
	}
}

;Re-filtering items (from v5_3)

modify:
{
	match:
	{
		"hammerid" "1245"
		"classname" "weapon_elite"
		"targetname" "magia_gravedad"
	}
	delete:
	{
		"OnPlayerPickup" "!activator,AddOutput,targetname portador_gravedad,0,-1"
	}
	insert:
	{
		"OnPlayerPickup" "portador_gravedad,AddOutput,targetname nada,0,-1"
		"OnPlayerPickup" "!activator,AddOutput,targetname portador_gravedad,0.02,-1"
	}
}

modify:
{
	match:
	{
		"hammerid" "1208"
		"classname" "weapon_elite"
		"targetname" "magia_rayo"
	}
	delete:
	{
		"OnPlayerPickup" "!activator,AddOutput,targetname portador_electro,0,-1"
	}
	insert:
	{
		"OnPlayerPickup" "portador_electro,AddOutput,targetname nada,0,-1"
		"OnPlayerPickup" "!activator,AddOutput,targetname portador_electro,0.02,-1"
	}
}

modify:
{
	match:
	{
		"hammerid" "1117"
		"classname" "weapon_elite"
		"targetname" "magia_fuego"
	}
	delete:
	{
		"OnPlayerPickup" "!activator,AddOutput,targetname portador_fire,0,-1"
	}
	insert:
	{
		"OnPlayerPickup" "portador_fire,AddOutput,targetname nada,0,-1"
		"OnPlayerPickup" "!activator,AddOutput,targetname portador_fire,0.02,-1"
	}
}

modify:
{
	match:
	{
		"hammerid" "1091"
		"classname" "weapon_elite"
		"targetname" "magia_hielo"
	}
	delete:
	{
		"OnPlayerPickup" "!activator,AddOutput,targetname portador_ice,0,-1"
	}
	insert:
	{
		"OnPlayerPickup" "portador_ice,AddOutput,targetname nada,0,-1"
		"OnPlayerPickup" "!activator,AddOutput,targetname portador_ice,0.02,-1"
	}
}

modify:
{
	match:
	{
		"hammerid" "1160"
		"classname" "weapon_elite"
		"targetname" "magia_cura"
	}
	delete:
	{
		"OnPlayerPickup" "!activator,AddOutput,targetname portador_heal,0,-1"
	}
	insert:
	{
		"OnPlayerPickup" "portador_heal,AddOutput,targetname nada,0,-1"
		"OnPlayerPickup" "!activator,AddOutput,targetname portador_heal,0.02,-1"
	}
}

modify:
{
	match:
	{
		"hammerid" "1151"
		"classname" "weapon_elite"
		"targetname" "magia_tierra"
	}
	delete:
	{
		"OnPlayerPickup" "!activator,AddOutput,targetname portador_earth,0,-1"
	}
	insert:
	{
		"OnPlayerPickup" "portador_earth,AddOutput,targetname nada,0,-1"
		"OnPlayerPickup" "!activator,AddOutput,targetname portador_earth,0.02,-1"
	}
}

modify:
{
	match:
	{
		"hammerid" "1135"
		"classname" "weapon_elite"
		"targetname" "magia_viento"
	}
	delete:
	{
		"OnPlayerPickup" "!activator,AddOutput,targetname portador_viento,0,-1"
	}
	insert:
	{
		"OnPlayerPickup" "portador_viento,AddOutput,targetname nada,0,-1"
		"OnPlayerPickup" "!activator,AddOutput,targetname portador_viento,0.02,-1"
	}
}

modify:
{
	match:
	{
		"hammerid" "1076"
		"classname" "weapon_elite"
		"targetname" "magia_ultima"
	}
	delete:
	{
		"OnPlayerPickup" "!activator,AddOutput,targetname portador_ultima,0,-1"
	}
	insert:
	{
		"OnPlayerPickup" "portador_ultima,AddOutput,targetname nada,0,-1"
		"OnPlayerPickup" "!activator,AddOutput,targetname portador_ultima,0.02,-1"
	}
}

;Gravity/Ice fixes (from v5_3)

filter:
{
	"model" "*194"
	"hammerid" "2104"
	"classname" "trigger_multiple"
}

add:
{
	"classname" "filter_activator_name"
	"targetname" "unfreeze_grav_filter"
	"filtername" "zombies_gravity"
	"Negated" "0"
	"OnPass" "!activator,AddOutput,targetname nada,0,-1"
	"OnPass" "speed,ModifySpeed,1.13,0,-1"
}

add:
{
	"classname" "filter_activator_name"
	"targetname" "unfreeze_ice_filter"
	"filtername" "zombies_ice"
	"Negated" "0"
	"OnPass" "!activator,AddOutput,targetname nada,0,-1"
	"OnPass" "speed,ModifySpeed,1.13,0,-1"
}

add:
{
	"model" "*260"
	"classname" "game_zone_player"
	"targetname" "unfreeze_grav"
	"origin" "-3584 -3584 1560"
	"OnPlayerOutZone" "unfreeze_grav_filter,TestActivator,,0,-1"

}

add:
{
	"model" "*260"
	"classname" "game_zone_player"
	"targetname" "unfreeze_ice"
	"origin" "-3584 -3584 1560"
	"OnPlayerOutZone" "unfreeze_ice_filter,TestActivator,,0,-1"
}

modify:
{
	match:
	{
		"model" "*193"
		"hammerid" "2102"
		"classname" "trigger_multiple"
	}
	delete:
	{
		"OnStartTouch" "speed,ModifySpeed,0.35,0,-1"
		"OnStartTouch" "speed,ModifySpeed,1.15,7,-1"
	}
	insert:
	{
		"OnStartTouch" "speed,ModifySpeed,0.35,0,-1"
		"OnStartTouch" "speed,ModifySpeed,0.35,0.2,-1"
		"OnStartTouch" "!activator,AddOutput,targetname zombies_gravity,0,-1"
	}
}

modify:
{
	match:
	{
		"model" "*20"
		"hammerid" "1108"
		"classname" "trigger_multiple"
	}
	delete:
	{
		"OnStartTouch" "speed,ModifySpeed,0,0,-1"
		"OnStartTouch" "speed,ModifySpeed,1.13,6,-1"
	}
	insert:
	{
		"OnStartTouch" "speed,ModifySpeed,0,0,-1"
		"OnStartTouch" "speed,ModifySpeed,0,0.2,-1"
		"OnStartTouch" "!activator,AddOutput,targetname zombies_ice,0,-1"
	}
}

modify:
{
	match:
	{
		"model" "*21"
		"hammerid" "1110"
		"classname" "trigger_multiple"
	}
	delete:
	{
		"OnStartTouch" "speed,ModifySpeed,0,0,-1"
		"OnStartTouch" "speed,ModifySpeed,1.13,6,-1"
	}
	insert:
	{
		"OnStartTouch" "speed,ModifySpeed,0,0,-1"
		"OnStartTouch" "speed,ModifySpeed,0,0.2,-1"
		"OnStartTouch" "!activator,AddOutput,targetname zombies_ice,0,-1"
	}
}

modify:
{
	match:
	{
		"model" "*22"
		"hammerid" "1112"
		"classname" "trigger_multiple"
	}
	delete:
	{
		"OnStartTouch" "speed,ModifySpeed,0,0,-1"
		"OnStartTouch" "speed,ModifySpeed,1.13,6,-1"
	}
	insert:
	{
		"OnStartTouch" "speed,ModifySpeed,0,0,-1"
		"OnStartTouch" "speed,ModifySpeed,0,0.2,-1"
		"OnStartTouch" "!activator,AddOutput,targetname zombies_ice,0,-1"
	}
}

modify:
{
	match:
	{
		"hammerid" "1252"
		"classname" "point_template"
		"targetname" "gravedadtt"
	}
	insert:
	{
		"OnEntitySpawned" "unfreeze_grav,CountPlayersInZone,,7.5,-1"
	}
}

modify:
{
	match:
	{
		"hammerid" "1100"
		"classname" "env_entity_maker"
		"targetname" "crear_hielo1"
	}
	delete:
	{
		"OnEntitySpawned" "mh1,Kill,,8,-1"
		"OnEntitySpawned" "mh1x,Kill,,2,-1"
	}
	insert:
	{
		"OnEntitySpawned" "mh1,Kill,,4,-1"
		"OnEntitySpawned" "mh1x,Kill,,4,-1"
		"OnEntitySpawned" "unfreeze_ice,CountPlayersInZone,,4.5,-1"
	}
}

modify:
{
	match:
	{
		"hammerid" "1104"
		"classname" "env_entity_maker"
		"targetname" "crear_hielo2"
	}
	delete:
	{
		"OnEntitySpawned" "mh2,Kill,,9,-1"
		"OnEntitySpawned" "mh2x,Kill,,3,-1"
	}
	insert:
	{
		"OnEntitySpawned" "mh2,Kill,,5,-1"
		"OnEntitySpawned" "mh2x,Kill,,5,-1"
		"OnEntitySpawned" "unfreeze_ice,CountPlayersInZone,,5.5,-1"
	}
}

modify:
{
	match:
	{
		"hammerid" "1105"
		"classname" "env_entity_maker"
		"targetname" "crear_hielo3"
	}
	delete:
	{
		"OnEntitySpawned" "mh3,Kill,,10,-1"
		"OnEntitySpawned" "mh3x,Kill,,4,-1"
	}
	insert:
	{
		"OnEntitySpawned" "mh3,Kill,,6,-1"
		"OnEntitySpawned" "mh3x,Kill,,6,-1"
		"OnEntitySpawned" "unfreeze_ice,CountPlayersInZone,,6.5,-1"
	}
}

; Sephiroth glitch fix (from v5_3)

modify:
{
	match:
	{
		"model" "*188"
		"hammerid" "2077"
		"classname" "func_tracktrain"
	}
	replace:
	{
		"spawnflags" "666"
	}
	insert:
	{
		"OnUser1" "!self,Stop,,0,-1"
		"OnUser1" "!self,StartForward,,0.25,-1"
		"OnUser1" "seph_modelo3,Enable,,0,-1"
		"OnUser1" "seph_modelo3,Disable,,0.25,-1"
		"OnUser1" "zap,Volume,10,0.25,-1"
	}
}

modify:
{
	match:
	{
		"model" "*103"
		"hammerid" "1566"
		"classname" "trigger_once"
	}
	delete:
	{
		"OnStartTouch" "sephiroth_fx,StartForward,,5,-1"
	}
}

modify:
{
	match:
	{
		"hammerid" "1809"
		"classname" "path_track"
		"targetname" "seph_1"
	}
	delete:
	{
		"OnPass" "sephiroth_fx,Stop,,0,-1"
	}
	insert:
	{
		"OnPass" "!activator,Stop,,0,1"
	}
}

modify:
{
	match:
	{
		"hammerid" "2447"
		"classname" "path_track"
		"targetname" "seph_2"
	}
	delete:
	{
		"OnPass" "sephiroth_fx,Stop,,0,-1"
	}
	insert:
	{
		"OnPass" "!activator,Stop,,0,1"
		"OnPass" "!activator,StartForward,,2,1"
	}
}

modify:
{
	match:
	{
		"hammerid" "2448"
		"classname" "path_track"
		"targetname" "seph_3"
	}
	delete:
	{
		"OnPass" "sephiroth_fx,Stop,,0,-1"
		"OnPass" "sephiroth_fx,StartForward,,0.25,-1"
		"OnPass" "seph_modelo3,Enable,,0,-1"
		"OnPass" "seph_modelo3,Disable,,0.25,-1"
		"OnPass" "zap,Volume,10,0.25,-1"
	}
	insert:
	{
		"OnPass" "!activator,FireUser1,,0,1"
	}
}

modify:
{
	match:
	{
		"hammerid" "1810"
		"classname" "path_track"
		"targetname" "seph_4"
	}
	delete:
	{
		"OnPass" "sephiroth_fx,Stop,,0,-1"
		"OnPass" "sephiroth_fx,StartForward,,0.25,-1"
		"OnPass" "seph_modelo3,Enable,,0,-1"
		"OnPass" "seph_modelo3,Disable,,0.25,-1"
		"OnPass" "zap,Volume,10,0.25,-1"
	}
	insert:
	{
		"OnPass" "!activator,FireUser1,,0,1"
	}
}

modify:
{
	match:
	{
		"hammerid" "1811"
		"classname" "path_track"
		"targetname" "seph_5"
	}
	delete:
	{
		"OnPass" "sephiroth_fx,Stop,,0,-1"
		"OnPass" "sephiroth_fx,StartForward,,0.25,-1"
		"OnPass" "seph_modelo3,Enable,,0,-1"
		"OnPass" "seph_modelo3,Disable,,0.25,-1"
		"OnPass" "zap,Volume,10,0.25,-1"
	}
	insert:
	{
		"OnPass" "!activator,FireUser1,,0,1"
	}
}

modify:
{
	match:
	{
		"hammerid" "1812"
		"classname" "path_track"
		"targetname" "seph_6"
	}
	delete:
	{
		"OnPass" "sephiroth_fx,Stop,,0,-1"
		"OnPass" "sephiroth_fx,StartForward,,0.25,-1"
		"OnPass" "seph_modelo3,Enable,,0,-1"
		"OnPass" "seph_modelo3,Disable,,0.25,-1"
		"OnPass" "zap,Volume,10,0.25,-1"
	}
	insert:
	{
		"OnPass" "!activator,FireUser1,,0,1"
	}
}

modify:
{
	match:
	{
		"hammerid" "1813"
		"classname" "path_track"
		"targetname" "seph_7"
	}
	delete:
	{
		"OnPass" "sephiroth_fx,Stop,,0,-1"
		"OnPass" "sephiroth_fx,StartForward,,0.25,-1"
		"OnPass" "seph_modelo3,Enable,,0,-1"
		"OnPass" "seph_modelo3,Disable,,0.25,-1"
		"OnPass" "zap,Volume,10,0.25,-1"
	}
	insert:
	{
		"OnPass" "!activator,FireUser1,,0,1"
	}
}

modify:
{
	match:
	{
		"hammerid" "1814"
		"classname" "path_track"
		"targetname" "seph_8"
	}
	delete:
	{
		"OnPass" "sephiroth_fx,Stop,,0,-1"
		"OnPass" "sephiroth_fx,StartForward,,0.25,-1"
		"OnPass" "seph_modelo3,Enable,,0,-1"
		"OnPass" "seph_modelo3,Disable,,0.25,-1"
		"OnPass" "zap,Volume,10,0.25,-1"
	}
	insert:
	{
		"OnPass" "!activator,FireUser1,,0,1"
	}
}

modify:
{
	match:
	{
		"hammerid" "1815"
		"classname" "path_track"
		"targetname" "seph_9"
	}
	delete:
	{
		"OnPass" "sephiroth_fx,Stop,,0,-1"
		"OnPass" "sephiroth_fx,StartForward,,0.25,-1"
		"OnPass" "seph_modelo3,Enable,,0,-1"
		"OnPass" "seph_modelo3,Disable,,0.25,-1"
		"OnPass" "zap,Volume,10,0.25,-1"
	}
	insert:
	{
		"OnPass" "!activator,FireUser1,,0,1"
	}
}


;Bahamut fixes / additional from new bosses (from v5_3 + more), hp fix

modify:
{
	match:
	{
		"hammerid" "1782"
		"classname" "math_counter"
		"targetname" "bahamut_vida"
	}
	replace:
	{
		"startvalue" "125"
		"max" "25000"
	}
	insert:
	{
		"OnHitMin" "baha_st2,Kill,,1,1"
		"OnHitMin" "xb_cura,Kill,,0,1"
		"OnHitMin" "xb_rayo,Stop,,0,1"
		"OnHitMin" "xb_rayo_2,Kill,,0,1"
	}
}

;Kill-all score glitch fix (from v5_3)

modify:
{
	match:
	{
		"model" "*252"
		"hammerid" "2382"
		"classname" "func_button"
	}
	delete:
	{
		"OnPressed" "boom2,Enable,,0,-1"
	}
	insert:
	{
		"OnPressed" "boom2,Enable,,0.5,-1"
		"OnPressed" "boom2zm2,Enable,,0,-1"
	}
}

;Map: Reset human hp (from v5_3)

add:
{
	"model" "*280"
	"spawnflags" "1"
	"classname" "trigger_once"
	"targetname" "tele_tren"
	"origin" "-7112 -3544 95.5"
	"StartDisabled" "1"
	"filtername" "humanos"
	"OnStartTouch" "!activator,AddOutput,health 100,0,-1"
}

;Map: Humans @ Pipes (from v5_3)

add:
{
	"model" "*313"
	"spawnflags" "1"
	"classname" "trigger_push"
	"targetname" "stripper_pipe_push"
	"origin" "-10084 10352 -4896"
	"filtername" "humanos"
	"speed" "250"
}

add:
{
	"model" "*217"
	"spawnflags" "1"
	"classname" "trigger_teleport"
	"targetname" "teleporte_masivo"
	"origin" "-8120 10688 -4544"
	"StartDisabled" "1"
	"filtername" "humanos"
	"target" "arriba2"
}

add:
{
	"model" "*217"
	"spawnflags" "1"
	"classname" "trigger_teleport"
	"targetname" "teleporte_masivo"
	"origin" "-8120 7992 -4544"
	"angles" "0 0 90"
	"StartDisabled" "1"
	"filtername" "humanos"
	"target" "arriba2"
}

add:
{
	"model" "*132"
	"spawnflags" "9"
	"classname" "trigger_hurt"
	"targetname" "muerte"
	"origin" "-9262 8534 -7810"
	"StartDisabled" "1"
	"filtername" "humanos"
	"damagetype" "512"
	"damagecap" "20"
	"damage" "30"
}

;Autobreak earth @ boss (from v5_3)

add:
{
	"classname" "logic_timer"
	"targetname" "earth_break_timer"
	"origin" "-3584 -3584 1088"
	"StartDisabled" "1"
	"RefireTime" ".5"
	"OnTimer" "mt,Break,,0,-1"
}

modify:
{
	match:
	{
		"model" "*87"
		"hammerid" "1439"
		"classname" "trigger_once"
	}
	insert:
	{
		"OnStartTouch" "earth_break_timer,Enable,,25,-1"
	}
}

modify:
{
	match:
	{
		"model" "*86"
		"hammerid" "1437"
		"classname" "trigger_once"
	}
	insert:
	{
		"OnStartTouch" "earth_break_timer,Disable,,0,-1"
	}
}

; Unblockable buttonroom

modify:
{
	match:
	{
		"model" "*97"
		"hammerid" "1509"
		"classname" "func_door"
	}
	replace:
	{
		"dmg" "1000"
	}
}

modify:
{
	match:
	{
		"model" "*98"
		"hammerid" "1525"
		"classname" "func_door"
	}
	replace:
	{
		"dmg" "1000"
	}
}

;Heal fix (from v5_3)

modify:
{
	match:
	{
		"model" "*33"
		"hammerid" "1171"
		"classname" "trigger_multiple"
	}
	replace:
	{
		"classname" "trigger_hurt"
	}
	delete:
	{
		"OnStartTouch" "!activator,AddOutput,health 150,0,-1"
	}
	insert:
	{
		"damage" "-60"
		"damagecap" "-60"
		"OnStartTouch" "!activator,AddOutput,max_health 150,0,-1"
	}
}

modify:
{
	match:
	{
		"model" "*34"
		"hammerid" "1174"
		"classname" "trigger_hurt"
	}
	delete:
	{
		"OnStartTouch" "!activator,AddOutput,health 225,0,-1"
	}
	insert:
	{
		"damage" "-90"
		"damagecap" "-90"
		"OnStartTouch" "!activator,AddOutput,max_health 225,0,-1"
	}
}

;-------------------------------------------------------------------------------------
;=====================================================================================
;    Bug fixes \ additionals from v5_3 stripper by Moltard, Noctali, Zacade, Neon
;=====================================================================================
;-------------------------------------------------------------------------------------
;cowbells are deleted, never used entitys, removing...

filter:
{
	"hammerid" "2378"
	"classname" "logic_compare"
	"targetname" "coew_2"
}

filter:
{
	"hammerid" "2377"
	"classname" "logic_compare"
	"targetname" "coew_3"
}

filter:
{
	"hammerid" "2694"
	"classname" "func_brush"
	"targetname" "solo1cowbell2"
}

filter:
{
	"hammerid" "2712"
	"classname" "trigger_once"
	"targetname" "solo1cowbell"
}

filter:
{
	"hammerid" "2320"
	"classname" "math_counter"
	"targetname" "cowbells"
}

;====================================================
;====================================================
; Crash error: CUtlLinkedList overflow
;====================================================
; Not Finished yet...?
;====================================================
; Crash fix attempt, logs after compile map:
; light has _fifty_percent_distance of 400.000000 but _zero_percent_distance of 0.000000
; light has _fifty_percent_distance of 400.000000 but _zero_percent_distance of 0.000000
; light has _fifty_percent_distance of 400.000000 but _zero_percent_distance of 0.000000
; light has _fifty_percent_distance of 400.000000 but _zero_percent_distance of 0.000000
; light has _fifty_percent_distance of 443.000000 but _zero_percent_distance of 0.000000
; light has _fifty_percent_distance of 443.000000 but _zero_percent_distance of 0.000000
; HammerID: 945 - 948; 953 - 954
;====================================================
; Fix:
;====================================================
modify:
{
	match:
	{
		"hammerid" "945"
		"classname" "light_spot"
	}
	delete:
	{
		"_fifty_percent_distance" "400"
	}
	insert:
	{
		"_fifty_percent_distance" "0"
	}
}

modify:
{
	match:
	{
		"hammerid" "946"
		"classname" "light_spot"
	}
	delete:
	{
		"_fifty_percent_distance" "400"
	}
	insert:
	{
		"_fifty_percent_distance" "0"
	}
}

modify:
{
	match:
	{
		"hammerid" "947"
		"classname" "light_spot"
	}
	delete:
	{
		"_fifty_percent_distance" "400"
	}
	insert:
	{
		"_fifty_percent_distance" "0"
	}
}

modify:
{
	match:
	{
		"hammerid" "948"
		"classname" "light_spot"
	}
	delete:
	{
		"_fifty_percent_distance" "400"
	}
	insert:
	{
		"_fifty_percent_distance" "0"
	}
}

modify:
{
	match:
	{
		"hammerid" "953"
		"classname" "light_spot"
	}
	delete:
	{
		"_fifty_percent_distance" "443"
	}
	insert:
	{
		"_fifty_percent_distance" "0"
	}
}

modify:
{
	match:
	{
		"hammerid" "954"
		"classname" "light_spot"
	}
	delete:
	{
		"_fifty_percent_distance" "443"
	}
	insert:
	{
		"_fifty_percent_distance" "0"
	}
}
;====================================================
;Сrash fix attempt, by turning off flashlights.
;====================================================
;Fix:
;====================================================
modify:
{
	match:
	{
		"targetname" "dificultad_i_t_medio"
		"classname" "trigger_once"
	}
	insert:
	{
		"OnStartTouch" "consola,Command,mp_flashlight 0,0,-1"
	}
}

modify:
{
	match:
	{
		"targetname" "dificultad_i_t_dificil"
		"classname" "trigger_once"
	}
	insert:
	{
		"OnStartTouch" "consola,Command,mp_flashlight 0,0,-1"
	}
}

modify:
{
	match:
	{
		"targetname" "dificultad_i_t_extremo"
		"classname" "trigger_once"
	}
	insert:
	{
		"OnStartTouch" "consola,Command,mp_flashlight 0,0,-1"
	}
}

modify:
{
	match:
	{
		"targetname" "dificultad_i_t_extreme2"
		"classname" "trigger_multiple"
	}
	insert:
	{
		"OnStartTouch" "consola,Command,mp_flashlight 0,0,-1"
	}
}

modify:
{
	match:
	{
		"targetname" "dificultad_i_t_extreme3"
		"classname" "trigger_multiple"
	}
	insert:
	{
		"OnStartTouch" "consola,Command,mp_flashlight 0,0,-1"
	}
}

modify:
{
	match:
	{
		"targetname" "dificultad_i_t_extreme4"
		"classname" "trigger_multiple"
	}
	insert:
	{
		"OnStartTouch" "consola,Command,mp_flashlight 0,0,-1"
	}
}

modify:
{
	match:
	{
		"targetname" "dificultad_i_t_zm"
		"classname" "trigger_once"
	}
	insert:
	{
		"OnStartTouch" "consola,Command,mp_flashlight 0,0,-1"
	}
}

;Attempting to create unknown particle system 'building_explosion' 

filter:
{
	"hammerid" "1799"
	"classname" "info_particle_system"
}

modify:
{
	match:
	{
		"hammerid" "1802"
		"targetname" "baha_tr"
		"classname" "logic_relay"
	}
	delete:
	{
		"OnTrigger" "baha_x1,Start,,20,-1"
	}
}

modify: //ultima
{
	match:
	{
		"targetname" "bahamut_entry2"
		"classname" "logic_relay"
	}
	delete:
	{
		"OnTrigger" "bahamut_vida,Subtract,1750,0,-1"
	}
	insert:
	{
		"OnTrigger" "bahamut_vida,Subtract,4000,0,-1"
	}
}

modify: //nade
{
	match:
	{
		"targetname" "danyo"
		"classname" "logic_relay"
	}
	delete:
	{
		"OnTrigger" "bahamut_vida,Subtract,55,0,-1"
	}
	insert:
	{
		"OnTrigger" "bahamut_vida,Subtract,120,0,-1"
	}
}

modify: //fire
{
	match:
	{
		"targetname" "qumar_baha"
		"classname" "logic_relay"
	}
	delete:
	{
		"OnTrigger" "bahamut_vida,Subtract,150,0,-1"
	}
	insert:
	{
		"OnTrigger" "bahamut_vida,Subtract,450,0,-1"
	}
}

modify: //electro
{
	match:
	{
		"targetname" "rayo_baha"
		"classname" "logic_relay"
	}
	delete:
	{
		"OnTrigger" "bahamut_vida,Subtract,85,0,-1"
	}
	insert:
	{
		"OnTrigger" "bahamut_vida,Subtract,250,0,-1"
	}
}

modify: //gravity
{
	match:
	{
		"targetname" "gravedad_baha"
		"classname" "logic_relay"
	}
	delete:
	{
		"OnTrigger" "bahamut_vida,Subtract,130,0,-1"
	}
	insert:
	{
		"OnTrigger" "bahamut_vida,Subtract,400,0,-1"
	}
}

modify:
{
	match:
	{
		"targetname" "calcVidaD"
		"classname" "trigger_multiple"
	}
	delete:
	{
		"OnStartTouch" "bahamut_vida,Add,150,0,-1"
	}
	insert:
	{
		"OnStartTouch" "bahamut_vida,Add,380,0,-1"
	}
}

modify:
{
	match:
	{
		"targetname" "calcVidaD4level3"
		"classname" "trigger_multiple"
	}
	delete:
	{
		"OnStartTouch" "bahamut_vida,Add,200,0,-1"
	}
	insert:
	{
		"OnStartTouch" "bahamut_vida,Add,475,0,-1"
	}
}

modify:
{
	match:
	{
		"targetname" "calcVidaD4level"
		"classname" "trigger_multiple"
	}
	delete:
	{
		"OnStartTouch" "bahamut_vida,Add,250,0,-1"
	}
	insert:
	{
		"OnStartTouch" "bahamut_vida,Add,550,0,-1"
	}
}