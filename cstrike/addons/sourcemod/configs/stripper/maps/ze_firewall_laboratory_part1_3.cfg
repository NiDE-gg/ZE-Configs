;-----------------------------------
; REMOVE MANI ADMINS COMMANDS USAGE
;-----------------------------------
modify:
{
	match:
	{
		"hammerid" "282"
		"origin" "256 484 100"
		"classname" "func_button"
	}
	delete:
	{
		"OnPressed" "servercommand,Command,ma_say WARNING! Facility emergency self-destruction sequence activated.,0,1"
		"OnPressed" "servercommand,Command,ma_say ===100 seconds remaining to detonation===,5,1"
		"OnPressed" "servercommand,Command,ma_say ===90 seconds remaining to detonation===,15,1"
		"OnPressed" "servercommand,Command,ma_say ===80 seconds remaining to detonation===,25,1"
		"OnPressed" "servercommand,Command,ma_say ===70 seconds remaining to detonation===,35,1"
		"OnPressed" "servercommand,Command,ma_say ===60 seconds remaining to detonation===,45,1"
		"OnPressed" "servercommand,Command,ma_say ===50 seconds remaining to detonation===,55,1"
		"OnPressed" "servercommand,Command,ma_say ===40 seconds remaining to detonation===,65,1"
		"OnPressed" "servercommand,Command,ma_say WARNING===30 seconds remaining to detonation===,75,1"
		"OnPressed" "servercommand,Command,ma_say WARNING===20 seconds remaining to detonation===,85,1"
		"OnPressed" "servercommand,Command,ma_say WARNING===10 seconds remaining to detonation===,95,1"
		"OnPressed" "servercommand,Command,ma_say EMERGENCY WARNING===5 seconds remaining to detonation===,100,1"
		"OnPressed" "servercommand,Command,ma_csay Detonation in 10,95,1"
		"OnPressed" "servercommand,Command,ma_csay Detonation in 09,96,1"
		"OnPressed" "servercommand,Command,ma_csay Detonation in 08,97,1"
		"OnPressed" "servercommand,Command,ma_csay Detonation in 07,98,1"
		"OnPressed" "servercommand,Command,ma_csay Detonation in 06,99,1"
		"OnPressed" "servercommand,Command,ma_csay Detonation in >> 5 <<,100,1"
		"OnPressed" "servercommand,Command,ma_csay Detonation in >> 4 <<,101,1"
		"OnPressed" "servercommand,Command,ma_csay Detonation in >> 3 <<,102,1"
		"OnPressed" "servercommand,Command,ma_csay Detonation in >> 2 <<,103,1"
		"OnPressed" "servercommand,Command,ma_csay Detonation in >> 1 <<,104,1"
		"OnPressed" "servercommand,Command,ma_csay Detonation in >> 0 <<,105,1"
		"OnPressed" "servercommand,Command,ma_say WARNING--- BLAST DOORS CLOSING,100,1"
	}
	insert:
	{
		"OnPressed" "servercommand,Command,say WARNING! Facility emergency self-destruction sequence activated.,0,1"
		"OnPressed" "servercommand,Command,say ===100 seconds remaining to detonation===,5,1"
		"OnPressed" "servercommand,Command,say ===90 seconds remaining to detonation===,15,1"
		"OnPressed" "servercommand,Command,say ===80 seconds remaining to detonation===,25,1"
		"OnPressed" "servercommand,Command,say ===70 seconds remaining to detonation===,35,1"
		"OnPressed" "servercommand,Command,say ===60 seconds remaining to detonation===,45,1"
		"OnPressed" "servercommand,Command,say ===50 seconds remaining to detonation===,55,1"
		"OnPressed" "servercommand,Command,say ===40 seconds remaining to detonation===,65,1"
		"OnPressed" "servercommand,Command,say WARNING===30 seconds remaining to detonation===,75,1"
		"OnPressed" "servercommand,Command,say WARNING===20 seconds remaining to detonation===,85,1"
		"OnPressed" "servercommand,Command,say WARNING===10 seconds remaining to detonation===,95,1"
		"OnPressed" "servercommand,Command,say EMERGENCY WARNING===5 seconds remaining to detonation===,100,1"
		"OnPressed" "servercommand,Command,say Detonation in 10,95,1"
		"OnPressed" "servercommand,Command,say Detonation in 09,96,1"
		"OnPressed" "servercommand,Command,say Detonation in 08,97,1"
		"OnPressed" "servercommand,Command,say Detonation in 07,98,1"
		"OnPressed" "servercommand,Command,say Detonation in 06,99,1"
		"OnPressed" "servercommand,Command,say Detonation in >> 5 <<,100,1"
		"OnPressed" "servercommand,Command,say Detonation in >> 4 <<,101,1"
		"OnPressed" "servercommand,Command,say Detonation in >> 3 <<,102,1"
		"OnPressed" "servercommand,Command,say Detonation in >> 2 <<,103,1"
		"OnPressed" "servercommand,Command,say Detonation in >> 1 <<,104,1"
		"OnPressed" "servercommand,Command,say Detonation in >> 0 <<,105,1"
		"OnPressed" "servercommand,Command,say WARNING--- BLAST DOORS CLOSING,100,1"
	}
}

;-------------------
; Add AFK teleports
;-------------------
add:
{
	"targetname" "afktele1"
	"target" "afktele1_dest"
	"StartDisabled" "1"
	"spawnflags" "1"
	"origin" "9744.5 -10828 -479"
	"classname" "trigger_teleport"
	"OnUser1" "!self,AddOutput,solid 2,0,1"
	"OnUser1" "!self,AddOutput,mins -2639.5 -2100 -233,0.1,1"
	"OnUser1" "!self,AddOutput,maxs 2639.5 2100 233,0.1,1"
}

add:
{
	"origin" "7504 -8571 -700"
	"targetname" "afktele1_dest"
	"angles" "0 90 0"
	"classname" "info_teleport_destination"
}

add:
{
	"targetname" "afktele2"
	"target" "afktele2_dest"
	"StartDisabled" "1"
	"spawnflags" "1"
	"origin" "3561.5 -4366.5 -262"
	"classname" "trigger_teleport"
	"OnUser1" "!self,AddOutput,solid 2,0,1"
	"OnUser1" "!self,AddOutput,mins -4329.5 -4360.5 -1002,0.1,1"
	"OnUser1" "!self,AddOutput,maxs 4329.5 4360.5 1002,0.1,1"
}
add:
{
	"origin" "256 129 100"
	"targetname" "afktele2_dest"
	"angles" "0 90 0"
	"classname" "info_teleport_destination"
}

modify:
{
	match:
	{
		"classname" "logic_auto"
		"hammerid" "171159"
	}
	insert:
	{
		"OnMapSpawn" "afktele1,FireUser1,,0,-1"
		"OnMapSpawn" "afktele2,FireUser1,,0,-1"
	}
}

modify:
{
	match:
	{
		"origin" "7355.96 -8668 -688"
		"classname" "func_button"
		"hammerid" "267983"
	}
	insert:
	{
		"OnPressed" "servercommand,Command,say Teleporting AFK players in 10 seconds.,40,1"
		"OnPressed" "afktele1,Enable,,50,1"
	}
}

modify:
{
	match:
	{
		"origin" "256 484 100"
		"classname" "func_button"
		"hammerid" "282"
	}
	insert:
	{
		"OnPressed" "servercommand,Command,say Teleporting AFK players in 10 seconds.,20,1"
		"OnPressed" "afktele2,Enable,,30,1"
	}
}

;----------------------
; Increase nuke damage
;----------------------
modify:
{
	match:
	{
		"targetname" "hurt"
		"classname" "trigger_hurt"
	}
	replace:
	{
		"damagetype" "0"
		"damage" "100000"
	}
}

;--------------------------
; Remove duplicate entites
;--------------------------
filter:
{
	"hammerid" "302481"
}
filter:
{
	"hammerid" "302484"
}
filter:
{
	"hammerid" "302487"
}
filter:
{
	"hammerid" "302490"
}
filter:
{
	"hammerid" "57379"
}
filter:
{
	"hammerid" "167900"
}
filter:
{
	"hammerid" "181118"
}
filter:
{
	"hammerid" "181121"
}

;---------------------------------
; Fix not adjustable music volume
;---------------------------------
modify:
{
	match:
	{
		"message" "lightningzlaser/portal2-07-the_part_where_he_kills_you.mp3"
		"classname" "ambient_generic"
	}
	replace:
	{
		"message" "#lightningzlaser/portal2-07-the_part_where_he_kills_you.mp3"
	}
}

modify:
{
	match:
	{
		"message" "lightningzlaser/timor_battle.mp3"
		"classname" "ambient_generic"
	}
	replace:
	{
		"message" "#lightningzlaser/timor_battle.mp3"
	}
}
