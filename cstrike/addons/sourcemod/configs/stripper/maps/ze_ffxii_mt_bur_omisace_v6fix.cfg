;  __  __  ____  _____ _____ ________     __
; |  \/  |/ __ \|  __ \_   _|  ____\ \   / /
; | \  / | |  | | |  | || | | |__   \ \_/ /
; | |\/| | |  | | |  | || | |  __|   \   /
; | |  | | |__| | |__| || |_| |       | |
; |_|  |_|\____/|_____/_____|_|       |_|
;		Stripper by Małgo 07.06.2024
;STRIPPER CFG BY MAŁGO https://steamcommunity.com/profiles/76561197992553990/
;---------------------------------------------------------------
;---------------------------------------
;Boost Behemoth Hurt Attack
;---------------------------------------
modify:
{
	match:
	{
		"targetname" "BehemothRed_Boss_Attack_Hurt"
		"classname" "trigger_hurt"
	}
	replace:
	{
		"damage" "100"
	}
}
modify:
{
	match:
	{
		"targetname" "behemothred_boss_attack_damage_part"
		"classname" "info_particle_system"
	}
	delete:
	{
		"OnUser1" "BehemothRed_Boss_Attack_Hurt,SetDamage,75,5,-1"
	}
	insert:
	{
		"OnUser1" "BehemothRed_Boss_Attack_Hurt,SetDamage,100,5,-1"
	}
}

;---------------------------------------
;Boost Behemoth HP
;---------------------------------------
modify:
{
	match:
	{
		"targetname" "BehemothRed_Boss_Attack_HP_Multi"
		"classname" "trigger_multiple"
	}
	delete:
	{
		"OnStartTouch" "behemothred_boss_attack_HP1,Add,235,0,-1"
	}
	insert:
	{
		"OnStartTouch" "behemothred_boss_attack_HP1,Add,238,0,-1"
	}
}

;---------------------------------------
;Boost Crystal Hold & Guard Shield HP
;---------------------------------------
modify:
{
	match:
	{
		"targetname" "lvl1_crystal_ending_multi"
		"classname" "trigger_multiple"
	}
	delete:
	{
		"OnStartTouch" "lvl1_crystal_ending_model,AddHealth,345,0,-1"
		"OnStartTouch" "Shield_boss_laser_breakable,AddHealth,425,0,-1"
	}
	insert:
	{
		"OnStartTouch" "lvl1_crystal_ending_model,AddHealth,370,0,-1"
		"OnStartTouch" "Shield_boss_laser_breakable,AddHealth,530,0,-1"
	}
}

;---------------------------------------
;Nerf Crystal Trigger Teleport
;---------------------------------------
modify:
{
	match:
	{
		"targetname" "lvl1_crystal_ending_model"
		"classname" "func_breakable"
	}
	delete:
	{
		"OnBreak" "cmd,Command,say **[Bash] The crystal has been destroyed! It takes 25 seconds to fully activate!**,0,-1"
		"OnBreak" "cmd,Command,say **[Bash] Get to the fountain! Fast!**,20,-1"
		"OnBreak" "cmd,Command,say **[Bash] The Guard of the gates. If we want to escape we have to defeat him!**,27.25,-1"
		"OnBreak" "stage1_ending_door,Open,,25,-1"
		"OnBreak" "stage1_ending_teleport,Enable,,25,-1"
		"OnBreak" "Teleport_Fade,FireUser1,,25,-1"
		"OnBreak" "skybox_fortress_temple_floor,Toggle,,25,-1"
		"OnBreak" "template_Shield_boss_laser,ForceSpawn,,24,-1"
		"OnBreak" "lvl1_crystal_ending_multi,Enable,,24.6,-1"
		"OnBreak" "lvl1_crystal_ending_multi,Disable,,24.65,-1"
		"OnBreak" "Shield_boss_laser_particle2,FireUser1,,30,-1"
		"OnBreak" "Shield_boss_laser_breakable,FireUser1,,27,-1"
	}
	insert:
	{
		"OnBreak" "cmd,Command,say **[Bash] The crystal has been destroyed! It takes 15 seconds to fully activate!**,0,-1"
		"OnBreak" "cmd,Command,say **[Bash] Get to the fountain! Fast!**,13,-1"
		"OnBreak" "cmd,Command,say **[Bash] The Guard of the gates. If we want to escape we have to defeat him!**,17.25,-1"
		"OnBreak" "stage1_ending_door,Open,,15,-1"
		"OnBreak" "stage1_ending_teleport,Enable,,15,-1"
		"OnBreak" "Teleport_Fade,FireUser1,,15,-1"
		"OnBreak" "skybox_fortress_temple_floor,Toggle,,15,-1"
		"OnBreak" "template_Shield_boss_laser,ForceSpawn,,14,-1"
		"OnBreak" "lvl1_crystal_ending_multi,Enable,,14.6,-1"
		"OnBreak" "lvl1_crystal_ending_multi,Disable,,14.65,-1"
		"OnBreak" "Shield_boss_laser_particle2,FireUser1,,20,-1"
		"OnBreak" "Shield_boss_laser_breakable,FireUser1,,17,-1"
	}
}

;---------------------------------------
;Boost Shield Guard trigger push
;---------------------------------------
modify:
{
	match:
	{
		"targetname" "Shield_boss_laser_push_hurt"
		"classname" "trigger_push"
	}
	replace:
	{
		"speed" "205"
	}
}

;---------------------------------------
;Fix grammer on stage 1
;---------------------------------------
modify:
{
	match:
	{
		"targetname" "stage1_ending_door"
		"classname" "func_door"
	}
	delete:
	{
		"OnUser1" "cmd,Command,say **[Balthier] We have to hold this are for 20 seconds! Get ready!**,0,-1"
	}
	insert:
	{
		"OnUser1" "cmd,Command,say **[Balthier] We have to hold this area for 20 seconds! Get ready!**,0,-1"
	}
}

;---------------------------------------
;Boost Sanctuary Keeper Rage Push Attack
;---------------------------------------
modify:
{
	match:
	{
		"targetname" "sanctuary_keeper_boss_attack_wind_hurt"
		"origin" "-11365 -11366 -528"
	}
	replace:
	{
		"speed" "343"
	}
}
modify:
{
	match:
	{
		"targetname" "sanctuary_keeper_boss_attack_wind_hurt"
		"origin" "-12693 -10038 -528"
	}
	replace:
	{
		"speed" "343"
	}
}
modify:
{
	match:
	{
		"targetname" "sanctuary_keeper_boss_attack_wind_hurt"
		"origin" "-11365 -10038 -528"
	}
	replace:
	{
		"speed" "343"
	}
}
modify:
{
	match:
	{
		"targetname" "sanctuary_keeper_boss_attack_wind_hurt"
		"origin" "-12693 -11366 -528"
	}
	replace:
	{
		"speed" "343"
	}
}

;---------------------------------------
;Boost Sanctuary Keeper HP
;---------------------------------------
modify:
{
	match:
	{
		"targetname" "sanctuary_keeper_boss_HP_Multi"
		"classname" "trigger_multiple"
	}
	delete:
	{
		"OnStartTouch" "sanctuary_keeper_boss_HP1,Add,208,0,-1"
	}
	insert:
	{
		"OnStartTouch" "sanctuary_keeper_boss_HP1,Add,210,0,-1"
	}
}

;---------------------------------------
;Faster AFK TP in last stage 2 hold
;---------------------------------------
modify:
{
	match:
	{
		"targetname" "temple_second_part_once"
		"origin" "-5484 3034 951"
	}
	insert:
	{
		"OnTrigger" "omisace_temple_teleport_001,AddOutput,target lvl2_spawn_001,0,-1"
		"OnTrigger" "omisace_temple_teleport_001,Enable,,19,-1"
		"OnTrigger" "omisace_temple_door_003,Close,,17,-1"
	}
}

;---------------------------------------
;Balance Adrammelech Ending
;---------------------------------------
modify:
{
	match:
	{
		"targetname" "Adrammelech_boss_counter"
		"classname" "math_counter"
	}
	delete:
	{
		"OnHitMin" "Adrammelech_boss_floor,FireUser1,,3,-1"
	}
	insert:
	{
		"OnHitMin" "Adrammelech_boss_floor,FireUser1,,5,-1"
	}
}

;---------------------------------------
;Balance Adrammelech Ending HP
;---------------------------------------
modify:
{
	match:
	{
		"targetname" "Adrammelech_boss_in_multi"
		"classname" "trigger_multiple"
	}
	delete:
	{
		"OnStartTouch" "Adrammelech_boss_counter,Add,72,0,-1"
	}
	insert:
	{
		"OnStartTouch" "Adrammelech_boss_counter,Add,75,0,-1"
	}
}

;---------------------------------------
;Boost Judge Gabranth Item
;---------------------------------------
modify:
{
	match:
	{
		"targetname" "Item_zm_gabranth_speed_multi"
		"classname" "trigger_multiple"
	}
	delete:
	{
		"OnStartTouch" "speed,ModifySpeed,1.3,0,-1"
	}
	insert:
	{
		"OnStartTouch" "speed,ModifySpeed,1.65,0,-1"
	}
}

;---------------------------------------
;Added to all Zombie Items pick up speed
;---------------------------------------
modify:
{
	match:
	{
		"targetname" "Weapon_zm_invisible"
		"classname" "weapon_knife"
	}
	insert:
	{
		"OnPlayerPickup" "speed,ModifySpeed,1.2,0.10,-1"
	}
}
modify:
{
	match:
	{
		"targetname" "Weapon_zm_damage"
		"classname" "weapon_knife"
	}
	insert:
	{
		"OnPlayerPickup" "speed,ModifySpeed,1.2,0.10,-1"
	}
}
modify:
{
	match:
	{
		"targetname" "Weapon_zm_fear"
		"classname" "weapon_knife"
	}
	insert:
	{
		"OnPlayerPickup" "speed,ModifySpeed,1.2,0.10,-1"
	}
}
modify:
{
	match:
	{
		"targetname" "Weapon_zm_gravity"
		"classname" "weapon_knife"
	}
	insert:
	{
		"OnPlayerPickup" "speed,ModifySpeed,1.2,0.10,-1"
	}
}

;---------------------------------------
;Nerf Fire Magick Item
;---------------------------------------
modify:
{
	match:
	{
		"targetname" "item_fire2_trigger"
		"origin" "-10024 -6607 -4169"
	}
	delete:
	{
		"OnStartTouch" "speed,ModifySpeed,0.95,0,-1"
	}
	insert:
	{
		"OnStartTouch" "speed,ModifySpeed,0.98,0,-1"
	}
}

;---------------------------------------
;Nerf Poison Magick Item
;---------------------------------------
modify:
{
	match:
	{
		"targetname" "item_poison_trigger"
		"classname" "trigger_hurt"
	}
	delete:
	{
		"OnStartTouch" "Speed,ModifySpeed,0.75,0,-1"
	}
	insert:
	{
		"OnStartTouch" "Speed,ModifySpeed,0.78,0,-1"
	}
}

;---------------------------------------
;Boost Event Cactus HP
;---------------------------------------
modify:
{
	match:
	{
		"targetname" "Random_event_multi"
		"origin" "165.5 -45.5 -92.5"
	}
	delete:
	{
		"OnStartTouch" "Random_event_Cactus_physbox,AddHealth,225,0,-1"
	}
	insert:
	{
		"OnStartTouch" "Random_event_Cactus_physbox,AddHealth,295,0,-1"
	}
}

;---------------------------------------
;Boost Judge Bergan Mystic Blade Attack
;---------------------------------------
modify:
{
	match:
	{
		"targetname" "Blade_Bergan_Explosion"
		"classname" "env_explosion"
	}
	replace:
	{
		"iRadiusOverride" "550"
		"iMagnitude" "205"
	}
}

;---------------------------------------
;Boost Judge Bergan Soul Siphon Attack
;---------------------------------------
modify:
{
	match:
	{
		"targetname" "fire_ball_down_hurt"
		"classname" "trigger_hurt"
	}
	replace:
	{
		"damage" "115"
	}
}
modify:
{
	match:
	{
		"targetname" "fire_ball_down_move"
		"classname" "func_movelinear"
	}
	replace:
	{
		"speed" "190"
	}
}

;---------------------------------------
;Balance Judge Bergan Phase 1 HP
;---------------------------------------
modify:
{
	match:
	{
		"targetname" "Bergan_boss1_HP_Multi"
		"classname" "trigger_multiple"
	}
	delete:
	{
		"OnStartTouch" "Bergan_boss1_attack_HP1,Add,121,0,-1"
	}
	insert:
	{
		"OnStartTouch" "Bergan_boss1_attack_HP1,Add,125,0,-1"
	}
}

;---------------------------------------
;Boost zombie secret on stage 3 & Add speed for activator
;---------------------------------------
modify:
{
	match:
	{
		"targetname" "lvl3_wall_once"
		"classname" "trigger_once"
	}
	delete:
	{
		"OnTrigger" "omisace_temple_door_002,AddOutput,OnUser1 zm_shortcut:Break::11.00:-1,0,-1"
	}
	insert:
	{
		"OnTrigger" "omisace_temple_door_002,AddOutput,OnUser1 zm_shortcut:Break::10.00:-1,0,-1"
		"OnTrigger" "speed,ModifySpeed,1.25,0.01,-1"
	}
}

;---------------------------------------
;Balance Judge Bergan Phase 2 HP
;---------------------------------------
modify:
{
	match:
	{
		"targetname" "Bergan_boss2_HP_Multi"
		"classname" "trigger_multiple"
	}
	delete:
	{
		"OnStartTouch" "Bergan_boss2_attack_HP1,Add,145,0,-1"
	}
	insert:
	{
		"OnStartTouch" "Bergan_boss2_attack_HP1,Add,137,0,-1"
	}
}

;---------------------------------------
;Balance Judge Bergan Phase 2 Esper Zodiark Attack
;---------------------------------------
modify:
{
	match:
	{
		"targetname" "Zodiark_limit_relay"
		"classname" "logic_relay"
	}
	delete:
	{
		"OnSpawn" "Zodiark_limit_part_002*,Kill,,7.5,-1"
		"OnSpawn" "Zodiark_limit_model,FireUser1,,8.5,-1"
		"OnSpawn" "ultimate_fade,Fade,,7,-1"
		"OnSpawn" "ultimate_explosion_sound,PlaySound,,7,-1"
		"OnSpawn" "Zodiark_limit_hurt*,Enable,,7,-1"
		"OnSpawn" "Zodiark_limit_hurt*,Kill,,7.5,-1"
		"OnSpawn" "sound,Volume,0,6,-1"
		"OnSpawn" "sound,AddOutput,message Sound.Zodiark1_1,6.01,-1"
		"OnSpawn" "sound,Volume,10,6.02,-1"
	}
	insert:
	{
		"OnSpawn" "Zodiark_limit_part_002*,Kill,,4.5,-1"
		"OnSpawn" "Zodiark_limit_model,FireUser1,,5.5,-1"
		"OnSpawn" "ultimate_fade,Fade,,4,-1"
		"OnSpawn" "ultimate_explosion_sound,PlaySound,,4,-1"
		"OnSpawn" "Zodiark_limit_hurt*,Enable,,4,-1"
		"OnSpawn" "Zodiark_limit_hurt*,Kill,,4.5,-1"
		"OnSpawn" "sound,Volume,0,3,-1"
		"OnSpawn" "sound,AddOutput,message Sound.Zodiark1_1,3.01,-1"
		"OnSpawn" "sound,Volume,10,3.02,-1"
	}
}

;---------------------------------------
;Balance Judge Bergan Phase 2 Esper Famfirt Attack
;---------------------------------------
modify:
{
	match:
	{
		"targetname" "Famfirt_limit_hurt"
		"classname" "func_movelinear"
	}
	replace:
	{
		"damage" "20"
	}
}

;---------------------------------------
;Balance Judge Gabranth Esper Zelara Attack
;---------------------------------------
modify:
{
	match:
	{
		"targetname" "zelara_limit_hurt"
		"origin" "6915 11114.5 -3497"
	}
	replace:
	{
		"speed" "195"
	}
}
modify:
{
	match:
	{
		"targetname" "zelara_limit_hurt"
		"origin" "6915.5 12089.5 -3497"
	}
	replace:
	{
		"speed" "195"
	}
}
modify:
{
	match:
	{
		"targetname" "zelara_limit_hurt"
		"origin" "7866 12089.5 -3497"
	}
	replace:
	{
		"speed" "195"
	}
}
modify:
{
	match:
	{
		"targetname" "zelara_limit_hurt"
		"origin" "7866 11114.5 -3497"
	}
	replace:
	{
		"speed" "195"
	}
}

;---------------------------------------
;Balance Judge Gabranth Esper Mateus Attack
;---------------------------------------
modify:
{
	match:
	{
		"targetname" "mateus_limit_hurt"
		"classname" "trigger_hurt"
	}
	replace:
	{
		"damage" "13"
	}
}

;---------------------------------------
;Balance Judge Gabranth HP
;---------------------------------------
modify:
{
	match:
	{
		"targetname" "Gabranth_boss2_attack_multi"
		"classname" "trigger_multiple"
	}
	delete:
	{
		"OnStartTouch" "Gabranth_boss2_attack_HP1,Add,175,0,-1"
	}
	insert:
	{
		"OnStartTouch" "Gabranth_boss2_attack_HP1,Add,187,0,-1"
	}
}

;---------------------------------------
;Set Higher number of mother zombies
;---------------------------------------
modify:
{
	match:
	{
		"targetname" "cmd"
		"classname" "point_servercommand"
	}
	delete:
	{
		"OnUser1" "!self,Command,zr_infect_mzombie_ratio 9,0,1"
	}
	insert:
	{
		"OnUser1" "!self,Command,zr_infect_mzombie_ratio 5,0,1"
	}
}

;---------------------------------------
;Change Invis zm item part
;---------------------------------------
modify:
{
	match:
	{
		"targetname" "Weapon_zm_invisible_Effect2"
		"classname" "info_particle_system"
	}
	replace:
	{
		"effect_name" "custom_particle_038b"
	}
}
modify:
{
	match:
	{
		"targetname" "Item_zm_invisible_relay"
		"classname" "logic_relay"
	}
	delete:
	{
		"OnTrigger" "Weapon_zm_invisible_Effect2,Stop,,3,-1"
	}
	insert:
	{
		"OnTrigger" "Weapon_zm_invisible_Effect2,Stop,,1,-1"
	}
}

;---------------------------------------
;Balance Esper Belias hurt
;---------------------------------------
modify:
{
	match:
	{
		"targetname" "Lightning_Hurt2"
		"classname" "trigger_hurt"
	}
	replace:
	{
		"damage" "15"
		"damagecap" "14"
	}
}

;---------------------------------------
;Nerf Judge Drace Laser speed
;---------------------------------------
modify:
{
	match:
	{
		"targetname" "Vertical_laser3_model"
		"classname" "func_movelinear"
	}
	replace:
	{
		"speed" "1111"
	}
}

;---------------------------------------
;Balance Stage 4 ending
;---------------------------------------
modify:
{
	match:
	{
		"targetname" "stage4_once"
		"origin" "8018.5 2421 10888"
	}
	delete:
	{
		"OnTrigger" "stage4_zm_multi_speed2,Enable,,1,-1"
		"OnTrigger" "stage4_door_008,Open,,2,-1"
	}
	insert:
	{
		"OnTrigger" "stage4_zm_multi_speed2,Enable,,3,-1"
		"OnTrigger" "stage4_door_008,Open,,4,-1"
		"OnTrigger" "Stage4_Special_Monkey_Kill_Trigger3,Enable,,15,-1"
	}
}

;---------------------------------------
;Change stage 4 song
;---------------------------------------
modify:
{
	match:
	{
		"targetname" "stage4_relay"
		"classname" "logic_relay"
	}
	delete:
	{
		"OnTrigger" "music_case2,AddOutput,OnCase03 music:AddOutput:message Music.4_7:0.01:1,0.04,-1"
	}
	insert:
	{
		"OnTrigger" "music_case2,AddOutput,OnCase03 music:AddOutput:message Music.4_3:0.01:1,0.04,-1"
	}
}
modify:
{
	match:
	{
		"targetname" "Stage_ZM"
		"classname" "logic_relay"
	}
	delete:
	{
		"OnTrigger" "music_case,AddOutput,OnCase01 music:AddOutput:message Music.ZM:0.01:1,0.05,-1"
	}
	insert:
	{
		"OnTrigger" "music_case,AddOutput,OnCase01 music:AddOutput:message Music.ZM2:0.01:1,0.05,-1"
	}
}

;---------------------------------------
;Boost Judge Gabranth Ending HP
;---------------------------------------
modify:
{
	match:
	{
		"targetname" "ending_boss2_laser_HP_Add"
		"classname" "trigger_hurt"
	}
	delete:
	{
		"OnStartTouch" "ending_boss2_laser_HP,Add,55,0,-1"
	}
	insert:
	{
		"OnStartTouch" "ending_boss2_laser_HP,Add,60,0,-1"
	}
}

;---------------------------------------
;Faster opening of the boss room for zombies after killing Judge Gabranth
;---------------------------------------
modify:
{
	match:
	{
		"targetname" "Gabranth_boss2_attack_HP2"
		"classname" "math_counter"
	}
	delete:
	{
		"OnHitMin" "stage4_teleport_006,Disable,,7,-1"
	}
	insert:
	{
		"OnHitMin" "stage4_teleport_006,Disable,,4,-1"
	}
}

;---------------------------------------
;Added more animations for Judge Gabranth Boss
;---------------------------------------
modify:
{
	match:
	{
		"targetname" "Gabranth_boss2_attack_case"
		"classname" "logic_case"
	}
	insert:
	{
		"OnCase04" "Gabranth_boss2_model,SetAnimation,attack4,0,-1"
		"OnCase04" "Gabranth_boss2_model,SetAnimation,run,1.3,-1"
		"OnCase05" "Gabranth_boss2_model,SetAnimation,attack5,0,-1"
		"OnCase05" "Gabranth_boss2_model,SetAnimation,run,1.3,-1"
		"OnCase06" "Gabranth_boss2_model,SetAnimation,attack6,0,-1"
		"OnCase06" "Gabranth_boss2_model,SetAnimation,run,1.3,-1"
	}
}

;---------------------------------------
;Added special speed for mother zombies at spawn
;---------------------------------------
add:
{
	"model" "*456"
	"spawnflags" "1"
	"classname" "trigger_multiple"
	"targetname" "Special_Zombie_speed"
	"origin" "-5128.01 -10070.5 -461.74"
	"StartDisabled" "0"
	"filtername" "zombie"
	"OnStartTouch" "speed,ModifySpeed,1.20,0,-1"
}

;---------------------------------------
;Nerf Judge Gabranth Heal Attack
;---------------------------------------
modify:
{
	match:
	{
		"targetname" "gabranth_boss2_attack_heal_hurt"
		"classname" "trigger_multiple"
	}
	delete:
	{
		"OnStartTouch" "Gabranth_boss2_attack_HP1,Add,58,0,-1"
	}
	insert:
	{
		"OnStartTouch" "Gabranth_boss2_attack_HP1,Add,59,0,-1"
	}
}

;---------------------------------------
;Delete Judge Gabranth Esper Mateus Attack & Melt Skull Attack
;---------------------------------------
modify:
{
	match:
	{
		"targetname" "Gabranth_boss2_attack_esper_case"
		"classname" "logic_case"
	}
	delete:
	{
		"OnCase02" "Maker_attack,ForceSpawn,,0.5,1"
		"OnCase02" "Maker_attack,AddOutput,EntityTemplate mateus_limit_template,0,1"
		"OnCase02" "Maker_attack,AddOutput,origin 5933 2421 10847,0,1"
		"OnCase02" "cinematic_text,AddOutput,message Esper Mateus,0,1"
		"OnCase02" "cinematic_text,AddOutput,color 57 95 230,0,1"
		"OnCase02" "Maker_attack,AddOutput,angles 0 270 0,0,1"
		"OnCase02" "cinematic_text,Display,,0.05,1"
		"OnCase11" "gabranth_boss2_attack_electro_straight_part,FireUser1,,0.5,2"
		"OnCase11" "cinematic_text,Display,,0.05,2"
		"OnCase11" "cinematic_text,AddOutput,message Melt Skulls,0,2"
		"OnCase11" "cinematic_text,AddOutput,color 255 215 0,0,2"
	}
}

;---------------------------------------
;Reduce Mini boss Esper Adrammelech HP
;---------------------------------------
modify:
{
	match:
	{
		"targetname" "Mojie_miniboss_multi"
		"classname" "trigger_multiple"
	}
	delete:
	{
		"OnStartTouch" "Mojie_miniboss_counter,Add,72,0,-1"
	}
	insert:
	{
		"OnStartTouch" "Mojie_miniboss_counter,Add,61,0,-1"
	}
}

;---------------------------------------
;Push nade filter of stage 4 last gabranth more forward
;---------------------------------------
modify:
{
	match:
	{
		"targetname" "ending_boss2_laser_Nade"
		"classname" "trigger_multiple"
	}
	replace:
	{
		"origin" "12913 2421 10684"
	}
}

;---------------------------------------
;Faster ZM Container Open
;---------------------------------------
modify:
{
	match:
	{
		"targetname" "stage4_once"
		"origin" "153 2297.5 -41"
	}
	delete:
	{
		"OnTrigger" "stage4_zm_jail_model_rot_001,Open,,39,-1"
		"OnTrigger" "stage4_zm_jail_model_rot_002,Open,,39,-1"
		"OnTrigger" "stage4_zm_jail_model_rot_003,Open,,39,-1"
		"OnTrigger" "stage4_zm_jail_model_rot_004,Open,,39,-1"
	}
	insert:
	{
		"OnTrigger" "stage4_zm_jail_model_rot_001,Open,,38.5,-1"
		"OnTrigger" "stage4_zm_jail_model_rot_002,Open,,38.5,-1"
		"OnTrigger" "stage4_zm_jail_model_rot_003,Open,,38.5,-1"
		"OnTrigger" "stage4_zm_jail_model_rot_004,Open,,38.5,-1"
		"OnTrigger" "stage4_button_001_part,Start,,38.5,-1"
	}
}

;---------------------------------------
;Faster Opening ZM Shortcut on Stage 4
;---------------------------------------
modify:
{
	match:
	{
		"targetname" "stage4_engine_button_001"
		"classname" "func_button"
	}
	delete:
	{
		"OnPressed" "stage4_shortcut_door,Open,,0,-1"
	}
}
modify:
{
	match:
	{
		"targetname" "stage4_once"
		"classname" "trigger_once"
		"origin" "3804 -212 10888"
	}
	insert:
	{
		"OnTrigger" "stage4_shortcut_door,Open,,29,-1"
	}
}

;---------------------------------------
;Change Origin of drace special buttons
;---------------------------------------
modify:
{
	match:
	{
		"targetname" "stage4_button_001"
		"classname" "func_button"
	}
	replace:
	{
		"origin" "-2730.99 3065.81 10988.9"
	}
}
modify:
{
	match:
	{
		"targetname" "stage4_button_001"
		"classname" "func_button"
	}
	insert:
	{
		"OnPressed" "stage4_button_002_part,Start,,0,-1"
	}
}
modify:
{
	match:
	{
		"targetname" "stage4_button_001_part"
		"classname" "info_particle_system"
	}
	replace:
	{
		"origin" "-2730.99 3065.81 10988.9"
		"start_active" "0"
	}
}
modify:
{
	match:
	{
		"targetname" "stage4_button_002"
		"classname" "func_button"
	}
	replace:
	{
		"origin" "1402.94 1990.51 11018.9"
	}
}
modify:
{
	match:
	{
		"targetname" "stage4_button_002_part"
		"classname" "info_particle_system"
	}
	replace:
	{
		"origin" "1402.94 1990.51 11018.9"
		"start_active" "0"
	}
}
modify:
{
	match:
	{
		"targetname" "stage4_button_002"
		"classname" "func_button"
	}
	delete:
	{
		"OnPressed" "!self,Kill,,0.05,-1"
		"OnPressed" "Temp_drace,AddOutput,origin 3456.5 2401.49 10887.2,0,-1"
		"OnPressed" "Temp_drace,AddOutput,angles 0 270 0,0,-1"
		"OnPressed" "stage4_button_002_part,Kill,,0,-1"
		"OnPressed" "Temp_drace,ForceSpawn,,20,-1"
	}
	insert:
	{
		"OnPressed" "!self,Kill,,0.05,-1"
		"OnPressed" "stage4_button_003,Unlock,,0,-1"
		"OnPressed" "stage4_button_002_part,Kill,,0,-1"
		"OnPressed" "stage4_button_003_part,Start,,0,-1"
	}
}
add:
{
	"model" "*115"
	"classname" "func_button"
	"disablereceiveshadows" "1"
	"health" "0"
	"lip" "0"
	"locked_sentence" "0"
	"locked_sound" "0"
	"movedir" "0 0 0"
	"origin" "2802.94 2364.3 10802.9"
	"renderamt" "255"
	"rendercolor" "255 255 255"
	"renderfx" "0"
	"rendermode" "6"
	"sounds" "0"
	"spawnflags" "3073"
	"speed" "5"
	"targetname" "stage4_button_003"
	"unlocked_sentence" "0"
	"unlocked_sound" "0"
	"wait" "-1"
	"OnPressed" "!self,Kill,,0.05,-1"
	"OnPressed" "Temp_drace,AddOutput,origin 3456.5 2401.49 10887.2,0,-1"
	"OnPressed" "Temp_drace,AddOutput,angles 0 270 0,0,-1"
	"OnPressed" "stage4_button_003_part,Kill,,0,-1"
	"OnPressed" "Temp_drace,ForceSpawn,,20,-1"
}
add:
{
	"classname" "info_particle_system"
	"targetname" "stage4_button_003_part"
	"origin" "2802.94 2364.3 10802.9"
	"effect_name" "custom_particle_033a"
	"start_active" "0"
}

;---------------------------------------
;Add New Special Zombie Item
;---------------------------------------
add:
{
	"classname" "weapon_knife"
	"angles" "0 270 0"
	"spawnflags" "1"
	"targetname" "Weapon_zm_zargabaath"
	"origin" "-9775.11 -4977.35 -4149.48"
	"hammerid" "100000001"
	"OnPlayerPickup" "!activator,AddOutput,targetname player_zm_zargabaath,0,1"
	"OnPlayerPickup" "!activator,AddOutput,health 80000,0,1"
	"OnPlayerPickup" "!activator,AddOutput,rendermode 10,0,1"
	"OnPlayerPickup" "Item_zm_zargabaath_UI,Activate,,0,1"
	"OnPlayerPickup" "Item_zm_zargabaath_model,SetAnimation,gofast,0,1"
	"OnPlayerPickup" "cmd,Command,say **A player has picked up Judge Zargabaath**,0,1"
}
add:
{
	"model" "*115"
	"classname" "trigger_once"
	"filtername" "Filter_Z_Items_Pickup"
	"origin" "-9775.11 -4982.84 -4146.48"
	"spawnflags" "1"
	"StartDisabled" "0"
	"targetname" "Weapon_zm_zargabaath_Pickup"
	"hammerid" "100000002"
	"OnTrigger" "!self,Kill,,0.05,-1"
	"OnTrigger" "Map_Stripper,stripweaponsandsuit,,0,-1"
}
add:
{
	"classname" "prop_dynamic"
	"targetname" "Item_zm_zargabaath_model"
	"parentname" "Weapon_zm_zargabaath"
	"DefaultAnim" "idle1"
	"origin" "-9775.11 -4961.35 -4178.48"
	"angles" "0 270 0"
	"model" "models/malgo/ffxii_omisace/judge_zargabaath/judge_zargabaath.mdl"
	"StartDisabled" "0"
	"disablereceiveshadows" "1"
	"DisableBoneFollowers" "1"
	"disableshadows" "1"
	"rendermode" "0"
	"solid" "6"
}
add:
{
	"classname" "game_ui"
	"FieldOfView" "-1.0"
	"spawnflags" "0"
	"targetname" "Item_zm_zargabaath_UI"
	"origin" "-9751.11 -4918.35 -4141.48"
	"PressedAttack" "Item_zm_zargabaath_Relay_Left,Trigger,,0,-1"
	"PressedAttack2" "Item_zm_zargabaath_Relay_Right,Trigger,,0,-1"
}
add:
{
	"classname" "filter_activator_name"
	"filtername" "player_zm_zargabaath"
	"Negated" "Allow entities that match criteria"
	"targetname" "Item_zm_zargabaath_filter"
	"origin" "-9783.11 -4918.35 -4138.32"
}
add:
{
	"classname" "logic_relay"
	"spawnflags" "0"
	"StartDisabled" "0"
	"targetname" "Item_zm_zargabaath_Relay_Left"
	"origin" "-9799.11 -4918.35 -4141.48"
	"OnTrigger" "!self,Disable,,0,-1"
	"OnTrigger" "!self,Enable,,60,-1"
	"OnTrigger" "Item_zm_zargabaath_model,SetAnimation,gofast,1,-1"
	"OnTrigger" "Item_zm_zargabaath_model,SetAnimation,attack4,0,-1"
	"OnTrigger" "Item_zm_zargabaath_Relay_Left_part,Stop,,3,-1"
	"OnTrigger" "Item_zm_zargabaath_Relay_Left_part,Start,,0,-1"
	"OnTrigger" "Item_zm_zargabaath_Relay_Left_hurt,Enable,,0,-1"
	"OnTrigger" "Item_zm_zargabaath_Relay_Left_hurt,Disable,,3,-1"
}
add:
{
	"classname" "info_particle_system"
	"angles" "0 270 0"
	"effect_name" "bergan_cast_ice_001"
	"parentname" "Weapon_zm_zargabaath"
	"start_active" "0"
	"targetname" "Item_zm_zargabaath_Relay_Left_part"
	"origin" "-9775.11 -4982.35 -4163.48"
}
add:
{
	"model" "*460"
	"classname" "trigger_hurt"
	"damage" "-1"
	"damagecap" "20"
	"damagemodel" "0"
	"damagetype" "0"
	"filtername" "ct"
	"nodmgforce" "0"
	"origin" "-9775 -4983 -4134"
	"parentname" "Weapon_zm_zargabaath"
	"spawnflags" "1"
	"StartDisabled" "1"
	"targetname" "Item_zm_zargabaath_Relay_Left_hurt"
	"OnStartTouch" "speed,ModifySpeed,1.00,3,-1"
	"OnStartTouch" "speed,ModifySpeed,0.5,0,-1"
}
add:
{
	"classname" "logic_relay"
	"spawnflags" "0"
	"StartDisabled" "0"
	"targetname" "Item_zm_zargabaath_Relay_Right"
	"OnTrigger" "!self,Disable,,0,-1"
	"OnTrigger" "!self,Enable,,55,-1"
	"OnTrigger" "Item_zm_zargabaath_model,SetAnimation,attack1,0,-1"
	"OnTrigger" "Item_zm_zargabaath_model,SetAnimation,gofast,1.3,-1"
	"OnTrigger" "Item_zm_zargabaath_Relay_Right_part,Start,,0,-1"
	"OnTrigger" "Item_zm_zargabaath_Relay_Right_part,Stop,,3.5,-1"
	"OnTrigger" "Item_zm_zargabaath_Relay_Right_Hurt,Enable,,0,-1"
	"OnTrigger" "Item_zm_zargabaath_Relay_Right_Hurt,Disable,,3.5,-1"
}
add:
{
	"classname" "info_particle_system"
	"angles" "0 270 0"
	"effect_name" "zm_zargabaath_item_attack1_005"
	"parentname" "Weapon_zm_zargabaath"
	"start_active" "0"
	"targetname" "Item_zm_zargabaath_Relay_Right_part"
	"origin" "-9775 -4993 -4170"
}
add:
{
	"model" "*363"
	"classname" "trigger_hurt"
	"damage" "30"
	"damagecap" "20"
	"damagemodel" "0"
	"damagetype" "256"
	"filtername" "ct"
	"nodmgforce" "0"
	"origin" "-9774.87 -4983 -4168"
	"parentname" "Weapon_zm_zargabaath"
	"spawnflags" "1"
	"StartDisabled" "1"
	"targetname" "Item_zm_zargabaath_Relay_Right_Hurt"
	"OnStartTouch" "speed,ModifySpeed,1.00,3.5,-1"
	"OnStartTouch" "speed,ModifySpeed,0.80,0,-1"
}
add:
{
	"classname" "point_template"
	"targetname" "zargabaath_template"
	"origin" "-9775 -4982 -4147.07"
	"Template01" "Weapon_zm_zargabaath"
	"Template02" "Weapon_zm_zargabaath_Pickup"
	"Template03" "Item_zm_zargabaath_model"
	"Template04" "Item_zm_zargabaath_UI"
	"Template05" "Item_zm_zargabaath_filter"
	"Template06" "Item_zm_zargabaath_Relay_Left"
	"Template07" "Item_zm_zargabaath_Relay_Left_part"
	"Template08" "Item_zm_zargabaath_Relay_Left_hurt"
	"Template09" "Item_zm_zargabaath_Relay_Right"
	"Template10" "Item_zm_zargabaath_Relay_Right_part"
	"Template11" "Item_zm_zargabaath_Relay_Right_Hurt"
}
modify:
{
	match:
	{
		"classname" "logic_case"
		"targetname" "Special_Event_Tonberry_won_case"
	}
	insert:
	{
		"OnUser1" "zargabaath_template,AddOutput,angles 0 0 0,25,-1"
		"OnUser1" "zargabaath_template,AddOutput,origin -6651 -4797 -612.07,25,-1"
		"OnUser1" "zargabaath_template,ForceSpawn,,25.05,-1"
	}
}
modify:
{
	match:
	{
		"classname" "logic_relay"
		"targetname" "Zm_Magick_Disable_relay"
	}
	insert:
	{
		"OnUser1" "Item_zm_zargabaath_Relay_Left,Disable,,0,-1"
		"OnUser1" "Item_zm_zargabaath_Relay_Right,Disable,,0,-1"
		"OnUser2" "Item_zm_zargabaath_Relay_Left,Enable,,0,-1"
		"OnUser2" "Item_zm_zargabaath_Relay_Right,Enable,,0,-1"
	}
}

;---------------------------------------
;Fix Cinematic Camera Stuck
;---------------------------------------
add:
{
	"model" "*569"
	"classname" "game_zone_player"
	"targetname" "trigger_end_intro"
	"origin" "-9759 -4737 -4030"
	"OnPlayerOutZone" "cinematic_screen,StartOverlays,,0.00,-1"
	"OnPlayerOutZone" "cinematic_cam,Disable,,0,-1"
	"OnPlayerOutZone" "cinematic_screen,StopOverlays,,0.01,-1"
}
modify:
{
	match:
	{
		"classname" "logic_auto"
		"hammerid" "102957"
	}
	insert:
	{
		"OnNewGame" "trigger_end_intro,CountPlayersInZone,,0.00,-1"
		"OnMapSpawn" "trigger_end_intro,CountPlayersInZone,,0.00,-1"
	}
}

;---------------------------------------
;Delete Phase 2 Bergan Severance of the Arcane Attack
;---------------------------------------
modify:
{
	match:
	{
		"targetname" "bergan_boss2_phase1_attack_case"
		"classname" "logic_case"
	}
	delete:
	{
		"OnCase08" "bergan_boss2_phase2_attack_ultima_part,FireUser1,,2,1"
		"OnCase08" "cmd,Command,say **Judge Bergan has casted Severance of the Arcane!**,0,1"
		"OnCase08" "cmd,Command,say **[Bash] Don't stay on sides! Get to the middle now!**,1,1"
		"OnCase08" "cinematic_text,Display,,0.05,1"
		"OnCase08" "cinematic_text,AddOutput,message Severance of the Arcane,0,1"
		"OnCase08" "cinematic_text,AddOutput,color 103 238 217,0,1"
	}
}

;---------------------------------------
;Balance Stage 3 Ending by Fix HP Trigger (Players Cant Boost HP When Boss Dying) (Balance zargabaath HP TOO)
;---------------------------------------
modify:
{
	match:
	{
		"targetname" "Ending_boss1_laser_add"
		"origin" "trigger_hurt"
	}
	replace:
	{
		"StartDisabled" "1"
	}
}
modify:
{
	match:
	{
		"targetname" "Random_event_multi"
		"origin" "165.5 -45.5 -92.5"
	}
	insert:
	{
		"OnStartTouch" "Ending_boss1_laser_counter,Add,30,0,-1"
	}
}
modify:
{
	match:
	{
		"targetname" "Ending_boss1_laser_push"
		"classname" "trigger_push"
	}
	insert:
	{
		"OnStartTouch" "Random_event_multi,Enable,,0,1"
		"OnStartTouch" "Random_event_multi,Disable,,0.10,1"
	}
}

;---------------------------------------
;Fix Not Enable Laser Camper Trigger After Kill Zargabaath
;---------------------------------------
modify:
{
	match:
	{
		"targetname" "Ending_boss1_laser_counter"
		"classname" "math_counter"
	}
	insert:
	{
		"OnHitMin" "Ending_boss1_laser_camper_hurt,Enable,,0,-1"
	}
}

;---------------------------------------
;Create Special Zombie Mode Trigger For Low Gravity and High Player Speed
;---------------------------------------
add:
{
	"model" "*569"
	"classname" "game_zone_player"
	"targetname" "ZM_Mode_Gravity_Zone"
	"origin" "-9759 -4737 -4030"
	"OnPlayerOutZone" "!activator,AddOutput,gravity 0.3,0.00,-1"
	"OnPlayerOutZone" "speed,ModifySpeed,1.3,0,-1"
}
modify:
{
	match:
	{
		"targetname" "Stage_ZM"
		"classname" "logic_relay"
	}
	insert:
	{
		"OnTrigger" "ZM_Mode_Gravity_Zone,CountPlayersInZone,,0,1"
	}
}

;---------------------------------------
;Fix Santuary Keeper Nuke Attack
;---------------------------------------
modify:
{
	match:
	{
		"targetname" "sanctuary_keeper_boss_HP2"
		"classname" "math_counter"
	}
	delete:
	{
		"OnHitMin" "sanctuary_keeper_boss_attack*,Kill,,0,-1"
	}
	insert:
	{
		"OnHitMin" "sanctuary_keeper_boss_attack_doom_hurt,Kill,,0,-1"
		"OnHitMin" "sanctuary_keeper_boss_attack_doom_teleport_back,Enable,,0.15,-1"
		"OnHitMin" "sanctuary_keeper_boss_attack*,Kill,,1.50,-1"
	}
}

;---------------------------------------
;Fix temple teleport exploit
;---------------------------------------
add:
{
	"model" "*9"
	"targetname" "omisace_temple_teleport_001"
	"target" "nope"
	"StartDisabled" "1"
	"spawnflags" "4097"
	"origin" "-3850 3071 1105"
	"classname" "trigger_teleport"
	"hammerid" "111332"
}

;---------------------------------------
;Fix Gabranth Item Speed Boost And Second Attack In Same Time
;---------------------------------------
modify:
{
	match:
	{
		"targetname" "Item_zm_gabranth_Relay_Right"
		"classname" "logic_relay"
	}
	insert:
	{
		"OnTrigger" "Item_zm_gabranth_speed_multi,Disable,,0,-1"
		"OnTrigger" "speed,ModifySpeed,1.05,0.05,-1"
	}
}

;---------------------------------------
;Replace Wind Item With Gravity Item
;---------------------------------------
modify:
{
	match:
	{
		"targetname" "Wind/Dark"
		"classname" "logic_case"
	}
	delete:
	{
		"OnCase01" "Map_Spawner,AddOutput,EntityTemplate Weapon_wind_Temp,0,-1"
	}
}

;---------------------------------------
;Disable Gabranth Zombie Item on Stage 1
;---------------------------------------
modify:
{
	match:
	{
		"targetname" "Stage1_relay"
		"classname" "logic_relay"
	}
	insert:
	{
		"OnTrigger" "treasury_room_once,Kill,,0,-1"
	}
}

;---------------------------------------
;Create Trigger to kill all monkeys at the end of stage 4
;---------------------------------------
add:
{
	"classname" "prop_dynamic"
	"targetname" "Custom_Anty_Monkey_Prop_001"
	"origin" "9302 2683 11026"
	"angles" "0 90 0"
	"model" "models/props_pipes/pipeset32d_256_001a.mdl"
	"disablereceiveshadows" "1"
	"disableshadows" "1"
	"rendermode" "10"
	"solid" "6"
}
add:
{
	"classname" "prop_dynamic"
	"targetname" "Custom_Anty_Monkey_Prop_002"
	"origin" "8931 3075 11026"
	"angles" "0 180 0"
	"model" "models/props_pipes/pipeset32d_256_001a.mdl"
	"disablereceiveshadows" "1"
	"disableshadows" "1"
	"rendermode" "10"
	"solid" "6"
}
add:
{
	"classname" "prop_dynamic"
	"targetname" "Custom_Anty_Monkey_Prop_003"
	"origin" "9188 3075 11026"
	"angles" "0 180 0"
	"model" "models/props_pipes/pipeset32d_256_001a.mdl"
	"disablereceiveshadows" "1"
	"disableshadows" "1"
	"rendermode" "10"
	"solid" "6"
}
add:
{
	"classname" "prop_dynamic"
	"targetname" "Custom_Anty_Monkey_Prop_003"
	"origin" "8674 3075 11026"
	"angles" "0 180 0"
	"model" "models/props_pipes/pipeset32d_256_001a.mdl"
	"disablereceiveshadows" "1"
	"disableshadows" "1"
	"rendermode" "10"
	"solid" "6"
}
add:
{
	"classname" "prop_dynamic"
	"targetname" "Custom_Anty_Monkey_Prop_004"
	"origin" "9304 2964 11030.3"
	"angles" "0 90 0"
	"model" "models/props_pipes/pipeset32d_256_001a.mdl"
	"disablereceiveshadows" "1"
	"disableshadows" "1"
	"rendermode" "10"
	"solid" "6"
}
add:
{
	"classname" "prop_dynamic"
	"targetname" "Custom_Anty_Monkey_Prop_005"
	"origin" "8848 1769 11030.3"
	"angles" "0 180 0"
	"model" "models/props_pipes/pipeset32d_256_001a.mdl"
	"disablereceiveshadows" "1"
	"disableshadows" "1"
	"rendermode" "10"
	"solid" "6"
}
add:
{
	"classname" "prop_dynamic"
	"targetname" "Custom_Anty_Monkey_Prop_006"
	"origin" "8591 1769 11030.3"
	"angles" "0 180 0"
	"model" "models/props_pipes/pipeset32d_256_001a.mdl"
	"disablereceiveshadows" "1"
	"disableshadows" "1"
	"rendermode" "10"
	"solid" "6"
}
add:
{
	"classname" "prop_dynamic"
	"targetname" "Custom_Anty_Monkey_Prop_007"
	"origin" "9263 2877 10868.7"
	"angles" "0 270 0"
	"model" "models/props_pipes/pipeset32d_256_001a.mdl"
	"disablereceiveshadows" "1"
	"disableshadows" "1"
	"rendermode" "10"
	"solid" "6"
}
add:
{
	"classname" "prop_dynamic"
	"targetname" "Custom_Anty_Monkey_Prop_007"
	"origin" "9177 3037 10868.7"
	"angles" "0 0 0"
	"model" "models/props_pipes/pipeset32d_256_001a.mdl"
	"disablereceiveshadows" "1"
	"disableshadows" "1"
	"rendermode" "10"
	"solid" "6"
}

;---------------------------------------
;Create Trigger to kill all monkeys at the boss on stage 4
;---------------------------------------
add:
{
	"model" "*9"
	"classname" "trigger_hurt"
	"damage" "9999"
	"damagecap" "9999"
	"damagemodel" "0"
	"damagetype" "256"
	"filtername" "ct"
	"nodmgforce" "0"
	"origin" "3726 2421 10914"
	"spawnflags" "1"
	"StartDisabled" "1"
	"targetname" "Stage4_Special_Monkey_Kill_Trigger2"
}
modify:
{
	match:
	{
		"targetname" "Gabranth_boss2_Start_Relay"
		"classname" "logic_relay"
	}
	insert:
	{
		"OnTrigger" "Stage4_Special_Monkey_Kill_Trigger2,Enable,,0,-1"
	}
}

;---------------------------------------
;Create Limit Break Zombie Protection Magick
;---------------------------------------
add:
{
	"classname" "weapon_knife"
	"angles" "0 270 0"
	"spawnflags" "1"
	"targetname" "Weapon_zm_ultima_protection"
	"origin" "-9316 -5344 -4134"
	"hammerid" "100000010"
	"OnPlayerPickup" "!activator,AddOutput,health 50000,0,1"
	"OnPlayerPickup" "!activator,AddOutput,targetname player_zm_ultima_protection,0.01,-1"
	"OnPlayerPickup" "cmd,Command,say **A player has picked up Protection Magick**,0,1"
}
add:
{
	"model" "*115"
	"classname" "trigger_once"
	"filtername" "Filter_Z_Items_Pickup"
	"origin" "-9316 -5348.99 -4131.5"
	"spawnflags" "1"
	"StartDisabled" "0"
	"targetname" "Weapon_zm_ultima_protection_Pickup"
	"hammerid" "100000011"
	"OnTrigger" "!self,Kill,,0.05,-1"
	"OnTrigger" "Map_Stripper,stripweaponsandsuit,,0,-1"
}
add:
{
	"classname" "filter_activator_name"
	"filtername" "player_zm_ultima_protection"
	"Negated" "Allow entities that match criteria"
	"targetname" "Item_zm_ultima_protection_Filter"
	"origin" "-9339 -5319 -4170"
	"OnPass" "Item_zm_ultima_protection_relay,Trigger,,0,-1"
}
add:
{
	"classname" "logic_relay"
	"spawnflags" "0"
	"StartDisabled" "0"
	"targetname" "Item_zm_ultima_protection_relay"
	"origin" "-9323 -5335 -4170"
	"OnTrigger" "Weapon_zm_ultima_protection_Effect2,Start,,0,-1"
	"OnTrigger" "Item_zm_ultima_protection_Button,Kill,,0,-1"
	"OnTrigger" "Weapon_zm_ultima_protection_Effect,Kill,,0,-1"
	"OnTrigger" "Weapon_zm_ultima_protection_Effect2,Kill,,2.50,-1"
	"OnTrigger" "Item_zm_ultima_protection_Filter,Kill,,1,-1"
	"OnTrigger" "!self,Kill,,1.05,-1"
	"OnTrigger" "item_limit5_trigger,SetDamage,1,0,-1"
	"OnTrigger" "item_limit5_trigger,SetDamage,999999,0.5,-1"
	"OnTrigger" "item_limit4_trigger,SetDamage,999999,0.5,-1"
	"OnTrigger" "item_limit4_trigger,SetDamage,1,0,-1"
}
add:
{
	"classname" "info_particle_system"
	"angles" "0 270 0"
	"effect_name" "dark_item_002"
	"parentname" "Weapon_zm_ultima_protection"
	"start_active" "1"
	"targetname" "Weapon_zm_ultima_protection_Effect"
	"origin" "-9316 -5382 -4120"
}
add:
{
	"classname" "info_particle_system"
	"angles" "0 270 0"
	"effect_name" "custom_particle_091d"
	"parentname" "Weapon_zm_ultima_protection"
	"start_active" "0"
	"targetname" "Weapon_zm_ultima_protection_effect2"
	"origin" "-9317 -5349 -4149"
}
add:
{
	"model" "*115"
	"classname" "func_button"
	"disablereceiveshadows" "0"
	"health" "0"
	"lip" "0"
	"locked_sentence" "0"
	"movedir" "0 0 0"
	"origin" "-9316 -5373 -4143.29"
	"parentname" "Weapon_zm_ultima_protection"
	"renderamt" "255"
	"rendercolor" "255 255 255"
	"renderfx" "0"
	"rendermode" "6"
	"sounds" "0"
	"spawnflags" "17409"
	"speed" "5"
	"targetname" "Item_zm_ultima_protection_Button"
	"unlocked_sentence" "0"
	"wait" "0.25"
	"OnPressed" "Item_zm_ultima_protection_Filter,TestActivator,,0,-1"
}
add:
{
	"classname" "point_template"
	"targetname" "Weapon_zm_ultima_protection_Temp"
	"origin" "-9316 -5349 -4134"
	"Template01" "Weapon_zm_ultima_protection"
	"Template02" "Weapon_zm_ultima_protection_Effect"
	"Template03" "Weapon_zm_ultima_protection_Pickup"
	"Template04" "Item_zm_ultima_protection_Button"
	"Template06" "Item_zm_ultima_protection_Filter"
	"Template07" "Item_zm_ultima_protection_relay"
	"Template08" "Weapon_zm_ultima_protection_effect2"
}

;---------------------------------------
;Add New Items Into Item Relays
;---------------------------------------
modify:
{
	match:
	{
		"targetname" "Materia_picker3"
		"classname" "logic_relay"
	}
	delete:
	{
		"OnTrigger" "Materia_picker1_case,Kill,,1.1,-1"
		"OnTrigger" "Materia_picker2_case,Kill,,1.1,-1"
		"OnTrigger" "ZM_CaseSpawn,Kill,,1.1,-1"
		"OnTrigger" "!self,Kill,,1.15,-1"
	}
	insert:
	{
		"OnTrigger" "Map_Spawner,AddOutput,EntityTemplate Weapon_zm_ultima_protection_Temp,1.1,-1"
		"OnTrigger" "ZM_CaseSpawn,PickRandomShuffle,,1.15,-1"
		"OnTrigger" "!self,FireUser1,,1.20,-1"
		"OnUser1" "Materia_picker1_case,Kill,,0,-1"
		"OnUser1" "Materia_picker2_case,Kill,,0,-1"
		"OnUser1" "ZM_CaseSpawn,Kill,,0,-1"
		"OnUser1" "!self,kill,,0.05,-1"
	}
}
modify:
{
	match:
	{
		"targetname" "Materia_picker4"
		"classname" "logic_relay"
	}
	delete:
	{
		"OnTrigger" "Materia_picker1_case,Kill,,1.1,-1"
		"OnTrigger" "Materia_picker2_case,Kill,,1.1,-1"
		"OnTrigger" "ZM_CaseSpawn,Kill,,1.1,-1"
		"OnTrigger" "!self,Kill,,1.15,-1"
	}
	insert:
	{
		"OnTrigger" "Map_Spawner,AddOutput,EntityTemplate Weapon_zm_ultima_protection_Temp,1.1,-1"
		"OnTrigger" "ZM_CaseSpawn,PickRandomShuffle,,1.15,-1"
		"OnTrigger" "!self,FireUser1,,1.20,-1"
		"OnUser1" "Materia_picker1_case,Kill,,0,-1"
		"OnUser1" "Materia_picker2_case,Kill,,0,-1"
		"OnUser1" "ZM_CaseSpawn,Kill,,0,-1"
		"OnUser1" "!self,kill,,0.05,-1"
	}
}

;---------------------------------------
;Stripper version
;---------------------------------------
modify:
{
	match:
	{
		"classname" "logic_auto"
		"hammerid" "102957"
	}
	delete:
	{
		"OnNewGame" "cmd,Command,say **Map Status: No Stripper!**,0,1"
	}
	insert:
	{
		"OnNewGame" "cmd,Command,say **Map Status: Stripper #0.11 Enable!**,0,-1"
	}
}