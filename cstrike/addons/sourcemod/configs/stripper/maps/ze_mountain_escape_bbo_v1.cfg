; Original stripper by KLIXUS
; Refactored and updated by .Rushaway
; Last changes 03/07/2025

;---------------------
; MAP: GLOBAL CHANGES
;---------------------
;Remove original level
filter:
{
	"classname" "func_brush"
	"targetname" "original_block"
}
filter:
{
	"classname" "func_button"
	"targetname" "Originalbu"
	"origin" "1676 5022.53 -1049"
}
filter:
{
	"classname" "trigger_once"
	"targetname" "original_block_trigger"
}
modify:
{
	match:
	{
		"classname" "logic_case"
		"targetname" "mode_random"
	}
	delete:
	{
		"OnCase02" "original_block,Disable,,0,-1"
		"OnCase03" "original_block,Disable,,0,-1"
		"OnCase05" "Skyrim_block,Disable,,0,-1"
		"OnCase06" "FFVII_block,Disable,,0,-1"
		"OnCase01" "original_block,Disable,,0,-1"
		"OnCase07" "original_block,Disable,,0,-1"
		"OnCase04" "Minas_block,Disable,,0,-1"
	}
	insert:
	{
		"OnCase01" "FFVII_block,Disable,,0,-1"
		"OnCase02" "Minas_block,Disable,,0,-1"
		"OnCase03" "Skyrim_block,Disable,,0,-1"
	}
}

;Delete old levels system
filter:
{
	"classname" "logic_case"
	"targetname" "mode_random"
}
filter:
{
	"classname" "prop_physics_multiplayer"
	"targetname" "barriles"
}
filter:
{
	"classname" "prop_physics_multiplayer"
	"targetname" "main_barriles"
}
filter:
{
	"classname" "func_brush"
	"targetname" "FFVII_block"
}
filter:
{
	"classname" "func_brush"
	"targetname" "Minas_block"
}
filter:
{
	"classname" "func_brush"
	"targetname" "Skyrim_block"
}
filter:
{
	"classname" "func_brush"
	"targetname" "random_block"
}
filter:
{
	"classname" "trigger_once"
	"targetname" "dificultad_i_t_extreme2"
}
filter:
{
	"classname" "trigger_once"
	"targetname" "Minas_block_trigger"
}
filter:
{
	"classname" "trigger_once"
	"targetname" "Skyrim_block_trigger"
}
filter:
{
	"classname" "trigger_once"
	"targetname" "random_block_trigger"
}

;Replace the levels system
add:
{
	"classname" "point_template"
	"targetname" "PermEntities_temp"
	"origin" "6359 1674.89 -1001.02"
	"spawnflags" "2"
	"Template01" "levels_counter"
}
add:
{
	"classname" "info_target"
	"targetname" "levels_target"
	"origin" "6359 1674.89 -1001.02"
	"spawnflags" "0"
	"angles" "0 0 0"
	"OnUser1" "PermEntities_temp,ForceSpawn,,0,-1"
	"OnUser1" "levels_counter,AddOutput,classname info_target,0.03,-1"
	"OnUser1" "!self,Kill,,0.06,-1"
}
add:
{
	"classname" "math_counter"
	"targetname" "levels_counter"
	"origin" "6359 1674.89 -1001.02"
	"StartDisabled" "0"
	"startvalue" "1"
	"min" "1"
	"max" "3"
	"OnGetValue" "levels_case,InValue,,0,-1"
}
add:
{
	"classname" "logic_case"
	"targetname" "levels_case"
	"origin" "6359 1674.89 -1001.02"
	"Case01" "1"
	"Case02" "2"
	"Case03" "3"
	"OnCase01" "mako_relay,Trigger,,0,-1"
	"OnCase02" "skyrim_relay,Trigger,,0,-1"
	"OnCase03" "minas_relay,Trigger,,0,-1"
}

;Mako relay
add:
{
	"classname" "logic_relay"
	"targetname" "mako_relay"
	"origin" "6359 1674.89 -1001.02"
	"StartDisabled" "0"
	"OnTrigger" "cmd,Command,say *** Current mode: FFVII mode *** ,3,1"
	"OnTrigger" "extremedanyo,Trigger,,2,1"
	"OnTrigger" "FFVII_block,Enable,,0,1"
	"OnTrigger" "barriles,Break,,0,1"
	"OnTrigger" "baha_tr,Enable,,0,1"
	"OnTrigger" "bahamut_entry,Enable,,0,1"
	"OnTrigger" "canciones_extreme2_1,PickRandom,,0,1"
	"OnTrigger" "cancion_1_extra2,Kill,,0,1"
	"OnTrigger" "cancion_3,AddOutput,message #mako_reactor/ffvii_e2_selfvsself.mp3,0,1"
	"OnTrigger" "extremedanyo,Enable,,0,1"
	"OnTrigger" "huida_e,Enable,,0,1"
	"OnTrigger" "ss_only,AddOutput,message ze_random_labyrinth/vulcan.mp3,0,1"
	"OnTrigger" "trigger_extreme2_ex,Enable,,0,1"
	"OnTrigger" "cancion_3_extra_2,Kill,,0,1"
	"OnTrigger" "cancion_3_extra,AddOutput,message #mako_reactor/ffvii_tempest.mp3,0,1"
	"OnTrigger" "extreme2_trigger7,Enable,,1,1"
	"OnTrigger" "extreme2_trigger9,Enable,,0,1"
	"OnTrigger" "extreme2_trigger9,Enable,,1,1"
	"OnTrigger" "extreme2_trigger11,Enable,,1,1"
	"OnTrigger" "extreme2_trigger12,Enable,,1,1"
	"OnTrigger" "extreme2_trigger13,Enable,,0,1"
	"OnTrigger" "ultima_telespawn,ForceSpawn,,10,1"
	"OnTrigger" "materias_3,Trigger,,11,1"
	"OnTrigger" "Map_mode4,Display,,3,1"
	"OnTrigger" "effect_sound,Volume,0,0,1"
	"OnTrigger" "night_t,Disable,,0,1"
	"OnTrigger" "mg_t,Disable,,0,1"
	"OnTrigger" "doh_t,Disable,,0,1"
	"OnTrigger" "arch_tele,Disable,,0,1"
	"OnTrigger" "dr_t,Disable,,0,1"
	"OnTrigger" "dr_tele,Disable,,0,1"
	"OnTrigger" "giant_tele,Disable,,0,1"
	"OnTrigger" "troll_tele,Disable,,0,1"
	"OnTrigger" "ww_tele,Disable,,0,1"
	"OnTrigger" "trigger_ct_push,Kill,,0,1"
	"OnTrigger" "10dc,Disable,,0,1"
	"OnTrigger" "tele_sovng,Disable,,0,1"
	"OnTrigger" "wall,Kill,,0,1"
	"OnTrigger" "phbox,Kill,,0,1"
	"OnTrigger" "stage_5_once2,Kill,,0,1"
	"OnTrigger" "dynamic,Kill,,0,1"
	"OnTrigger" "original_end,Kill,,0,1"
	"OnTrigger" "cmd,Command,zr_ztele_max_zombie 0,0,1"
	"OnTrigger" "cmd,Command,zr_ztele_max_human 0,0,1"
	"OnTrigger" "cmd,Command,zr_infect_mzombie_respawn 1,0,1"
	"OnTrigger" "cmd,Command,zr_infect_mzombie_ratio 5,0,1"
	"OnTrigger" "cmd,Command,zr_class_modify zombies speed 360,0,1"
	"OnTrigger" "cmd,Command,zr_class_modify zombies health 10000,0,1"
	"OnTrigger" "cmd,Command,GenericMeleeKnockBackMod_BlueKnockBack 0.0,0,1"
	"OnTrigger" "cmd,Command,zr_respawn 1,0,1"
	"OnTrigger" "heal_telespawn,ForceSpawn,,1,1"
	"OnTrigger" "earth_telespawn,ForceSpawn,,1,1"
	"OnTrigger" "wind_telespawn,ForceSpawn,,1,1"
	"OnTrigger" "fire_telespawn,ForceSpawn,,1,1"
	"OnTrigger" "ice_telespawn,ForceSpawn,,1,1"
	"OnTrigger" "dynamic1,Kill,,0,1"
	"OnTrigger" "bway,Disable,,1,1"
	"OnTrigger" "dohva,Disable,,0,1"
	"OnTrigger" "dohva_once,Disable,,0,1"
	"OnTrigger" "sovng_nuke,Kill,,0,1"
	"OnTrigger" "boton2,Disable,,0,1"
	"OnTrigger" "Skyrim_brush_wall,Enable,,0,1"
	"OnTrigger" "cancion_1,Volume,10,2,1"
	"OnTrigger" "pirates_once2,Kill,,0,1"
	"OnTrigger" "skyrim_wall,FireUser1,,0,1"
	"OnTrigger" "original_bu,Kill,,0,1"
	"OnTrigger" "train,Kill,,0,1"
	"OnTrigger" "heli,Kill,,0,1"
	"OnTrigger" "fail_t,Disable,,0,1"
	"OnTrigger" "cmd,Command,zr_infect_spawntime_min 9,0,1"
	"OnTrigger" "cmd,Command,zr_infect_spawntime_max 9,0,1"
	"OnTrigger" "small,Disable,,0,1"
	"OnTrigger" "gaycat,Disable,,0,1"
	"OnTrigger" "odahviing,Disable,,0,1"
	"OnTrigger" "s_laser_on1,Disable,,0,1"
	"OnTrigger" "bway4,Disable,,0,1"
	"OnTrigger" "random_block,Disable,,0,1"
	"OnTrigger" "main_barriles,Break,,0,1"
	"OnTrigger" "hel_push,Disable,,0,1"
	"OnTrigger" "stage_4_trigger_7,Disable,,0,1"
	"OnTrigger" "STUFF_ultimate_kill,Disable,,0,1"
	"OnTrigger" "cover,Break,,0,1"
	"OnTrigger" "ZE_Hold_3_Prop1,Kill,,0,1"
	"OnTrigger" "ballon,Kill,,0,1"
	"OnTrigger" "heli_2,Kill,,0,1"
	"OnTrigger" "laser_cover,Enable,,0,1"
	"OnTrigger" "bway5,Disable,,0,1"
	"OnTrigger" "pFinal_1,Kill,,0,1"
	"OnTrigger" "wr_dr_1,Kill,,0,1"
	"OnTrigger" "wr_dr_2,Kill,,0,1"
	"OnTrigger" "brock,Break,,0,1"
	"OnTrigger" "wr_sewer_door,Kill,,0,-1"
	"OnTrigger" "4dc,Kill,,0,-1"
	"OnTrigger" "levels_counter,SetValueNoFire,2,1,-1"
}

;Skyrim relay
add:
{
	"classname" "logic_relay"
	"targetname" "skyrim_relay"
	"origin" "6359 1674.89 -1001.02"
	"StartDisabled" "0"
	"OnTrigger" "Skyrim_block,Enable,,0,1"
	"OnTrigger" "random_block,Disable,,0,1"
	"OnTrigger" "main_barriles,Break,,0,1"
	"OnTrigger" "cmd,Command,say *** Current mode : Skyrim mode ***,0.5,1"
	"OnTrigger" "original_end,Kill,,0,1"
	"OnTrigger" "cmd,Command,zr_ztele_max_zombie 0,0,1"
	"OnTrigger" "cmd,Command,zr_ztele_max_human 0,0,1"
	"OnTrigger" "cmd,Command,zr_infect_mzombie_respawn 1,0,1"
	"OnTrigger" "cmd,Command,zr_infect_mzombie_ratio 5,0,1"
	"OnTrigger" "cmd,Command,zr_class_modify zombies speed 360,0,1"
	"OnTrigger" "cmd,Command,zr_class_modify zombies health 10000,0,1"
	"OnTrigger" "cmd,Command,GenericMeleeKnockBackMod_BlueKnockBack 0.0,0,1"
	"OnTrigger" "heli,Kill,,0,1"
	"OnTrigger" "odahviing,Disable,,0,1"
	"OnTrigger" "cmd,Command,zr_respawn 1,0,1"
	"OnTrigger" "effect_sound,Volume,0,0,1"
	"OnTrigger" "flightroar,PlaySound,,100,1"
	"OnTrigger" "flightroar,PlaySound,,25,1"
	"OnTrigger" "flightroar,PlaySound,,50,1"
	"OnTrigger" "flightroar,PlaySound,,75,1"
	"OnTrigger" "flightroar,PlaySound,,125,1"
	"OnTrigger" "muusika_algus_3,PlaySound,,0,1"
	"OnTrigger" "flightroar,PlaySound,,150,1"
	"OnTrigger" "dynamic,Kill,,0,1"
	"OnTrigger" "heal_maker,ForceSpawn,,0,1"
	"OnTrigger" "scroll_attack,ForceSpawn,,0,1"
	"OnTrigger" "scroll_maker,ForceSpawn,,0,1"
	"OnTrigger" "bway,Disable,,1,1"
	"OnTrigger" "Map_mode1,Display,,2,1"
	"OnTrigger" "stage_4_trigger_7,Disable,,0,1"
	"OnTrigger" "Skyrim_brush_wall,Enable,,0,1"
	"OnTrigger" "10dc,Enable,,0,1"
	"OnTrigger" "ff_tele_2,Kill,,0,1"
	"OnTrigger" "banana_secret1,Kill,,0,1"
	"OnTrigger" "flightroar,PlaySound,,175,1"
	"OnTrigger" "boton2,Disable,,0,1"
	"OnTrigger" "s_laser_on,Kill,,0,1"
	"OnTrigger" "ffonce,Kill,,0,1"
	"OnTrigger" "bahamutend,Kill,,0,1"
	"OnTrigger" "sephi_box,Kill,,0,1"
	"OnTrigger" "teleport,Kill,,0,1"
	"OnTrigger" "barrera33,Kill,,0,1"
	"OnTrigger" "ZE_Hold_3_prop,Kill,,0,1"
	"OnTrigger" "FFVII_trigger,Kill,,0,1"
	"OnTrigger" "pirates_once2,Kill,,0,1"
	"OnTrigger" "baha_vida,Kill,,0,1"
	"OnTrigger" "trigger_n_d3_ex,Kill,,0,1"
	"OnTrigger" "original_bu,Kill,,0,1"
	"OnTrigger" "train,Kill,,0,1"
	"OnTrigger" "cmd,Command,zr_infect_spawntime_min 6,0,1"
	"OnTrigger" "cmd,Command,zr_infect_spawntime_max 6,0,1"
	"OnTrigger" "small,Enable,,0,1"
	"OnTrigger" "gaycat,Disable,,0,1"
	"OnTrigger" "barricades,Break,,0,1"
	"OnTrigger" "bway4,Disable,,0,1"
	"OnTrigger" "dohva,Enable,,0,1"
	"OnTrigger" "dohva_once,Enable,,0,1"
	"OnTrigger" "bway6,Disable,,0,1"
	"OnTrigger" "barriles,Break,,0,1"
	"OnTrigger" "hel_push,Disable,,0,1"
	"OnTrigger" "STUFF_ultimate_kill,Disable,,0,1"
	"OnTrigger" "cover,Break,,0,1"
	"OnTrigger" "ZE_Hold_3_Prop1,Kill,,0,1"
	"OnTrigger" "ballon,Kill,,0,1"
	"OnTrigger" "heli_2,Kill,,0,1"
	"OnTrigger" "pFinal,Kill,,0,1"
	"OnTrigger" "door_wall,Enable,,0,-1"
	"OnTrigger" "door_brock,Enable,,0,-1"
	"OnTrigger" "wr_algus_trigger,Enable,,0,1"
	"OnTrigger" "bway20,Enable,,0,1"
	"OnTrigger" "bway20_1,Disable,,0,-1"
	"OnTrigger" "bway5,Disable,,0,1"
	"OnTrigger" "sewer_once,Enable,,0,-1"
	"OnTrigger" "levels_counter,SetValueNoFire,3,1,-1"
}

;Minas relay
add:
{
	"classname" "logic_relay"
	"targetname" "minas_relay"
	"origin" "6359 1674.89 -1001.02"
	"StartDisabled" "0"
	"OnTrigger" "cmd,Command,say *** Current mode : Minas mode ***,0.5,1"
	"OnTrigger" "Minas_block,Enable,,0,1"
	"OnTrigger" "barriles,Break,,0,1"
	"OnTrigger" "random_block,Disable,,0,1"
	"OnTrigger" "main_barriles,Break,,0,1"
	"OnTrigger" "effect_sound,Volume,0,0,1"
	"OnTrigger" "backup,Disable,,0,1"
	"OnTrigger" "dohva,Disable,,0,1"
	"OnTrigger" "dohva_once,Disable,,0,1"
	"OnTrigger" "odahviing,Disable,,0,1"
	"OnTrigger" "Skyrim_wall,Kill,,0,1"
	"OnTrigger" "stage_5_once2,Disable,,0,1"
	"OnTrigger" "wall,Kill,,0,1"
	"OnTrigger" "phbox,Kill,,0,1"
	"OnTrigger" "trigger_ct_push,Disable,,0,1"
	"OnTrigger" "Skyrim_hurt,Disable,,0,1"
	"OnTrigger" "sovng_nuke,Kill,,0,1"
	"OnTrigger" "sovng_end_wall,Kill,,0,1"
	"OnTrigger" "sovng_end,Kill,,0,1"
	"OnTrigger" "sovng_end_wall3,Kill,,0,1"
	"OnTrigger" "boss_3_trigger_ex,Disable,,0,1"
	"OnTrigger" "human_push,Disable,,0,1"
	"OnTrigger" "t_push_end,Disable,,0,1"
	"OnTrigger" "boss_hp_3_ex,Disable,,0,1"
	"OnTrigger" "sovng_boss_break2,Break,,0,1"
	"OnTrigger" "sovng_end_wall,Kill,,0,1"
	"OnTrigger" "stage_5_once3,Disable,,0,1"
	"OnTrigger" "10dc,Disable,,0,1"
	"OnTrigger" "dr_t,Disable,,0,1"
	"OnTrigger" "arch_tele,Disable,,0,1"
	"OnTrigger" "doh_t,Disable,,0,1"
	"OnTrigger" "mg_t,Disable,,0,1"
	"OnTrigger" "night_t,Disable,,0,1"
	"OnTrigger" "dr_tele,Disable,,0,1"
	"OnTrigger" "giant_tele,Disable,,0,1"
	"OnTrigger" "troll_tele,Disable,,0,1"
	"OnTrigger" "ww_tele,Disable,,0,1"
	"OnTrigger" "dynamic1,Disable,,0,1"
	"OnTrigger" "Map_mode7,Display,,2,1"
	"OnTrigger" "barricades,Break,,0,1"
	"OnTrigger" "banana_secret1,Kill,,0,1"
	"OnTrigger" "boton2,Disable,,0,1"
	"OnTrigger" "s_laser_on,Kill,,0,1"
	"OnTrigger" "bahamutend,Kill,,0,1"
	"OnTrigger" "sephi_box,Kill,,0,1"
	"OnTrigger" "teleport,Kill,,0,1"
	"OnTrigger" "barrera33,Kill,,0,1"
	"OnTrigger" "ffonce,Kill,,0,1"
	"OnTrigger" "FFVII_trigger,Kill,,0,1"
	"OnTrigger" "ZE_Hold_3_Prop,Kill,,0,1"
	"OnTrigger" "ff_tele_2,Kill,,0,1"
	"OnTrigger" "pirates_once2,Kill,,0,1"
	"OnTrigger" "baha_vida,Kill,,0,1"
	"OnTrigger" "trigger_n_d3_ex,Kill,,0,1"
	"OnTrigger" "pFinal,Kill,,0,1"
	"OnTrigger" "fail_t,Disable,,0,1"
	"OnTrigger" "original_bu,Lock,,0,1"
	"OnTrigger" "original_end,Kill,,0,1"
	"OnTrigger" "small,Disable,,0,1"
	"OnTrigger" "gaycat,Disable,,0,1"
	"OnTrigger" "hel_push,Disable,,0,1"
	"OnTrigger" "STUFF_ultimate_kill,Disable,,0,1"
	"OnTrigger" "heli_2,Kill,,0,1"
	"OnTrigger" "heli,Kill,,0,1"
	"OnTrigger" "Skyrim_brush_wall,Enable,,0,1"
	"OnTrigger" "bway,Disable,,0,1"
	"OnTrigger" "bway4,Disable,,0,1"
	"OnTrigger" "bway6,Disable,,0,1"
	"OnTrigger" "train,Kill,,0,1"
	"OnTrigger" "cmd,Command,zr_ztele_max_zombie 0,0,1"
	"OnTrigger" "cmd,Command,zr_ztele_max_human 0,0,1"
	"OnTrigger" "cmd,Command,zr_infect_mzombie_respawn 1,0,1"
	"OnTrigger" "cmd,Command,zr_infect_mzombie_ratio 5,0,1"
	"OnTrigger" "cmd,Command,zr_class_modify zombies speed 360,0,1"
	"OnTrigger" "cmd,Command,zr_class_modify zombies health 10000,0,1"
	"OnTrigger" "cmd,Command,GenericMeleeKnockBackMod_BlueKnockBack 0.0,0,1"
	"OnTrigger" "cmd,Command,zr_respawn 1,0,1"
	"OnTrigger" "cmd,Command,zr_infect_spawntime_min 10,0,1"
	"OnTrigger" "cmd,Command,zr_infect_spawntime_max 10,0,1"
	"OnTrigger" "minas_relay,Trigger,,0,1"
	"OnTrigger" "minas_i,Disable,,0,1"
	"OnTrigger" "logica_extreme,Trigger,,0,1"
	"OnTrigger" "ZE_Hold_3_Prop1,Enable,,0,1"
	"OnTrigger" "particula_1,Start,,0,1"
	"OnTrigger" "dynamic,Kill,,0,1"
	"OnTrigger" "deathray_trigger,Enable,,0,1"
	"OnTrigger" "Music_4_1,PlaySound,,1,1"
	"OnTrigger" "stage_4_trigger_7,Enable,,4,1"
	"OnTrigger" "bway11,Enable,,0,1"
	"OnTrigger" "cover_once,Enable,,0,1"
	"OnTrigger" "bway12,Disable,,0,1"
	"OnTrigger" "corver,Enable,,0,1"
	"OnTrigger" "Minas_trigger,Enable,,0,1"
	"OnTrigger" "ballon,Kill,,0,1"
	"OnTrigger" "pFinal_1,Kill,,0,1"
	"OnTrigger" "wr_dr_1,Kill,,0,1"
	"OnTrigger" "wr_dr_2,Kill,,0,1"
	"OnTrigger" "brock,Break,,0,1"
	"OnTrigger" "wr_sewer_door,Kill,,0,-1"
	"OnTrigger" "4dc,Kill,,0,-1"
	"OnTrigger" "levels_counter,SetValueNoFire,1,1,-1"
}

;Trigger the counter
modify:
{
	match:
	{
		"classname" "logic_auto"
		"hammerid" "271"
	}
	insert:
	{
		"OnMapSpawn" "levels_target,FireUser1,,0,-1"
		"OnMapSpawn" "levels_counter,GetValue,,0.3,-1"
	}
}

; Update adminroom
modify:
{
	match:
	{
		"classname" "func_button"
		"targetname" "FFVIIbu"
	}
	insert:
	{
		"OnPressed" "levels_counter,SetValueNoFire,1,0,-1"
	}
}
modify:
{
	match:
	{
		"classname" "func_button"
		"targetname" "Skyrimbu"
	}
	insert:
	{
		"OnPressed" "levels_counter,SetValueNoFire,2,0,-1"
	}
}
modify:
{
	match:
	{
		"classname" "func_button"
		"targetname" "Minasbu"
	}
	insert:
	{
		"OnPressed" "levels_counter,SetValueNoFire,3,0,-1"
	}
}
filter:
{
	"classname" "func_physbox_multiplayer"
	"origin" "-8665.22 9833.6 3263.98"
}

;Changes sv_airacc
modify:
{
	match:
	{
		"classname" "logic_auto"
		"hammerid" "271"
	}
	delete:
	{
		"OnMapSpawn" "cmd,Command,sv_airaccelerate 1000,0,1"
	}
	insert:
	{
		"OnMapSpawn" "cmd,Command,sv_airaccelerate 10,0,1"
	}
}

; Reset player state when they die
add:
{
	"targetname" "game_playerdie"
	"IsEnabled" "1"
	"EventName" "player_death"
	"classname" "logic_eventlistener"
	"OnEventFired" "!activator,AddOutput,rendercolor 255 255 255,0.02,-1"
	"OnEventFired" "!activator,AddOutput,targetname None,0.02,-1"
	"OnEventFired" "!activator,AddOutput,rendermode 1,0.02,-1"
	"OnEventFired" "!activator,ClearContext,,0.02,-1"
}

;-----------
; MAP: FFVI
;-----------
;Replaces ultima teleport with forcespawn point_template
add:
{

	"origin" "9460 1432 3247"
	"Template06" "magia_ultima"
	"Template05" "danyoUlt2"
	"Template04" "ultima_f1"
	"Template03" "ultima_f"
	"Template02" "boton_ultima"
	"Template01" "danyoUlt"
	"targetname" "ultima_tele"
	"spawnflags" "2"
	"classname" "point_template"
}
add:
{
	"origin" "12220 -6900.14 -4744"
	"targetname" "ultima_telespawn"
	"spawnflags" "0"
	"PostSpawnSpeed" "0"
	"PostSpawnInheritAngles" "0"
	"PostSpawnDirectionVariance" "0.15"
	"PostSpawnDirection" "0 0 0"
	"EntityTemplate" "ultima_tele"
	"angles" "0 0 0"
	"classname" "env_entity_maker"
}
modify:
{
	match:
	{
		"targetname" "dificultad_i_t_extreme2"
		"classname" "trigger_once"
		"hammerid" "289914"
	}
	delete:
	{
		"OnStartTouch" "teleportarSx12,Teleport,,10,1"
	}
	insert:
	{
		"OnStartTouch" "ultima_telespawn,ForceSpawn,,10,1"
	}
}

;Extends ZM TP in reactor to avoid glitching at cagedoor
add:
{
	"model" "*163"
	"targetname" "teleporte_masivo"
	"target" "arriba2"
	"StartDisabled" "1"
	"spawnflags" "1"
	"origin" "9359.86 -7346.89 -4848.71"
	"filtername" "filter_t"
	"classname" "trigger_teleport"
}

;Fix FF Pipe boost glitch
add:
{
	"model" "*154"
	"targetname" "Stripper_Fix_pipe"
	"spawnobject" "0"
	"spawnflags" "0"
	"rendermode" "0"
	"renderfx" "0"
	"rendercolor" "255 255 255"
	"renderamt" "255"
	"propdata" "0"
	"pressuredelay" "0"
	"physdamagescale" "1.0"
	"PerformanceMode" "0"
	"origin" "9664 -5983.5 -9232"
	"nodamageforces" "0"
	"minhealthdmg" "0"
	"material" "0"
	"health" "0"
	"gibdir" "0 0 0"
	"explosion" "0"
	"ExplodeRadius" "0"
	"explodemagnitude" "0"
	"ExplodeDamage" "0"
	"disableshadows" "0"
	"disablereceiveshadows" "0"
	"classname" "func_breakable"
}
add:
{
	"model" "*154"
	"targetname" "Stripper_Fix_pipe"
	"spawnobject" "0"
	"spawnflags" "0"
	"rendermode" "0"
	"renderfx" "0"
	"rendercolor" "255 255 255"
	"renderamt" "255"
	"propdata" "0"
	"pressuredelay" "0"
	"physdamagescale" "1.0"
	"PerformanceMode" "0"
	"origin" "10624 -5983.5 -9232"
	"nodamageforces" "0"
	"minhealthdmg" "0"
	"material" "0"
	"health" "0"
	"gibdir" "0 0 0"
	"explosion" "0"
	"ExplodeRadius" "0"
	"explodemagnitude" "0"
	"ExplodeDamage" "0"
	"disableshadows" "0"
	"disablereceiveshadows" "0"
	"classname" "func_breakable"
}
modify:
{
	match:
	{
		"classname" "logic_auto"
		"hammerid" "271"
	}
	insert:
	{
		"OnMapSpawn" "Stripper_Fix_pipe,AddOutput,angles 0 90 0,5,-1"
	}
}

; BAHAMUT - HITBOX
add:
{
	"model" "*179"
	"spawnflags" "8713216"
	"classname" "func_physbox"
	"targetname" "BahaHitbox"
	"angles" "0 90 90"
	"origin" "10814 -7348 -4737"
	"damagefilter" "nada"
	"damagetoenablemotion" "0"
	"damagetype" "0"
	"disablereceiveshadows" "0"
	"disableshadows" "0"
	"explodedamage" "0"
	"explodemagnitude" "0"
	"exploderadius" "0"
	"explosion" "0"
	"forcetoenablemotion" "0"
	"gibdir" "0 0 0"
	"health" "999999"
	"massscale" "0"
	"material" "5"
	"nodamageforces" "0"
	"notsolid" "0"
	"performancemode" "0"
	"preferredcarryangles" "0 0 0"
	"pressuredelay" "0"
	"propdata" "0"
	"renderamt" "255"
	"rendercolor" "255 255 255"
	"renderfx" "0"
	"rendermode" "10"
	"spawnobject" "0"
	"OnHealthChanged" "bahamut_vida,Subtract,1,0,-1"
}
add:
{
	"spawnflags" "2"
	"classname" "point_template"
	"targetname" "BahaTemp"
	"origin" "10814 -7348 -4737"
	"Template01" "bahamut"
	"Template02" "BahaHitbox"
}

modify:
{
	match:
	{
		"classname" "prop_dynamic"
		"targetname" "bahamut"
	}
	replace:
	{
		"angles" "0 0 0"
		"origin" "12613 -8328 548"
		"damagefilter" "nada"
		"disableshadows" "1"
		"disablereceiveshadows" "1"
		"disablebonefollowers" "1"
		"spawnflags" "256"
		"solid" "0"
	}
	delete:
	{
		"OnHealthChanged" "bahamut_vida,Subtract,1,0,-1"
	}
}
modify:
{
	match:
	{
		"classname" "logic_relay"
		"targetname" "bahamut_entry"
	}
	delete:
	{
		"OnTrigger" "bahamut,FireUser1,,0,-1"
		"OnTrigger" "bahamut,EnableCollision,,0,-1"
		"OnTrigger" "bahamut,SetDamageFilter,humanos,2,-1"
	}
	insert:
	{
		"OnTrigger" "BahaTemp,ForceSpawn,,0,-1"
		"OnTrigger" "BahaHitbox,AddOutput,angles 0 90 90,0.1,-1"
		"OnTrigger" "BahaHitbox,AddOutput,origin 10814 -7348 -4737,0.1,-1"
		"OnTrigger" "BahaHitbox,SetDamageFilter,humanos,2,-1"
	}
}
modify:
{
	match:
	{
		"classname" "logic_compare"
		"targetname" "bahamut_3"
	}
	insert:
	{
		"OnEqualTo" "BahaHitbox,AddOutput,angles 0 90 0,0,-1"
		"OnEqualTo" "BahaHitbox,AddOutput,origin 10783 -7348 -4841,0,-1"
	}
}
modify:
{
	match:
	{
		"classname" "logic_compare"
		"targetname" "bahamut_3_ex"
	}
	insert:
	{
		"OnEqualTo" "BahaHitbox,AddOutput,angles 0 90 0,0,-1"
		"OnEqualTo" "BahaHitbox,AddOutput,origin 10783 -7348 -4841,0,-1"
	}
}
modify:
{
	match:
	{
		"classname" "math_counter"
		"targetname" "bahamut_vida"
	}
	delete:
	{
		"OnHitMin" "bahamut,DisableCollision,,0,-1"
	}
	insert:
	{
		"OnHitMin" "BahaHitbox,Kill,,0,-1"
	}
}

; BAHAMUT - HEALTH ADJUST [Current Multiplier: 2.2]
modify:
{
	match:
	{
		"classname" "math_counter"
		"targetname" "bahamut_vida"
	}
	replace:
	{
		"startvalue" "550"
	}
}
modify:
{
	match:
	{
		"classname" "trigger_multiple"
		"targetname" "calcVidaD"
	}
	delete:
	{
		"OnStartTouch" "bahamut_vida,Add,150,0,-1"
	}
	insert:
	{
		"OnStartTouch" "bahamut_vida,Add,330,0,-1"
	}
}

; BAHAMUT - ITEM/NADE DAMAGE ADJUST [Current Multiplier: 1.6]
modify:
{
	match:
	{
		"classname" "logic_relay"
		"targetname" "danyo"
	}
	delete:
	{
		"OnTrigger" "bahamut_vida,Subtract,55,0,-1"
	}
	insert:
	{
		"OnTrigger" "bahamut_vida,Subtract,88,0,-1"
	}
}

modify:
{
	match:
	{
		"classname" "logic_relay"
		"targetname" "rayo_baha"
	}
	delete:
	{
		"OnTrigger" "bahamut_vida,Subtract,85,0,-1"
	}
	insert:
	{
		"OnTrigger" "bahamut_vida,Subtract,136,0,-1"
	}
}
modify:
{
	match:
	{
		"classname" "logic_relay"
		"targetname" "gravedad_baha"
	}
	delete:
	{
		"OnTrigger" "bahamut_vida,Subtract,130,0,-1"
	}
	insert:
	{
		"OnTrigger" "bahamut_vida,Subtract,208,0,-1"
	}
}
modify:
{
	match:
	{
		"classname" "logic_relay"
		"targetname" "qumar_baha"
	}
	delete:
	{
		"OnTrigger" "bahamut_vida,Subtract,150,0,-1"
	}
	insert:
	{
		"OnTrigger" "bahamut_vida,Subtract,240,0,-1"
	}
}
modify:
{
	match:
	{
		"classname" "logic_relay"
		"targetname" "bahamut_entry2"
	}
	delete:
	{
		"OnTrigger" "bahamut_vida,Subtract,1750,0,-1"
	}
	insert:
	{
		"OnTrigger" "bahamut_vida,Subtract,2800,0,-1"
	}
}

; BAHAMUT - BURNING (FIRE)
filter:
{
	"classname" "env_entity_igniter"
	"targetname" "ignite2"
}
filter:
{
	"classname" "env_entity_igniter"
	"targetname" "ignite2b"
}

add:
{
	"classname" "env_entity_igniter"
	"targetname" "BahaIgniter"
	"origin" "-3584 -3584 1088"
	"target" "bahamut"
	"lifetime" "1"
}
add:
{
	"classname" "logic_relay"
	"targetname" "BahaIgniteRelay"
	"origin" "-3584 -3584 1088"
	"OnTrigger" "!self,Disable,,0,-1"
	"OnTrigger" "BahaIgniter,Ignite,,0,-1"
	"OnTrigger" "BahaIgniter,Ignite,,1,-1"
	"OnTrigger" "BahaIgniter,Ignite,,2,-1"
	"OnTrigger" "BahaIgniter,Ignite,,3,-1"
	"OnTrigger" "BahaIgniter,Ignite,,4,-1"
	"OnTrigger" "BahaIgniter,Ignite,,5,-1"
	"OnTrigger" "BahaIgniter,Ignite,,6,-1"
	"OnTrigger" "BahaIgniter,Ignite,,7,-1"
	"OnTrigger" "BahaIgniter,Ignite,,8,-1"
	"OnTrigger" "BahaIgniter,Ignite,,9,-1"
	"OnTrigger" "BahaIgniter,Ignite,,10,-1"
	"OnTrigger" "BahaIgniter,Ignite,,11,-1"
	"OnTrigger" "BahaIgniter,Ignite,,12,-1"
	"OnTrigger" "BahaIgniter,Ignite,,13,-1"
	"OnTrigger" "BahaIgniter,Ignite,,14,-1"
	"OnTrigger" "BahaIgniter,Ignite,,15,-1"
	"OnTrigger" "BahaIgniter,Ignite,,16,-1"
	"OnTrigger" "BahaIgniter,Ignite,,17,-1"
	"OnTrigger" "BahaIgniter,Ignite,,18,-1"
	"OnTrigger" "BahaIgniter,Ignite,,19,-1"
	"OnTrigger" "!self,Enable,,20,-1"
}

modify:
{
	match:
	{
		"classname" "math_counter"
		"targetname" "bahamut_vida"
	}
	insert:
	{
		"OnHitMin" "BahaIgniteRelay,CancelPending,,0,1"
		"OnHitMin" "BahaIgniteRelay,Kill,,0.1,1"
	}
}
modify:
{
	match:
	{
		"classname" "logic_relay"
		"targetname" "qumar_baha"
	}
	delete:
	{
		"OnTrigger" "ignite2,Ignite,,0,-1"
	}
	insert:
	{
		"OnTrigger" "BahaIgniteRelay,Trigger,,0,-1"
	}
}

; BAHAMUT - FROZEN (ICE)
modify:
{
	match:
	{
		"classname" "logic_relay"
		"targetname" "congelar_baha"
	}
	delete:
	{
		"OnTrigger" "mh2bahamut,TurnOn,,0,1"
		"OnTrigger" "mh2bahamut,TurnOff,,5,1"
	}
	insert:
	{
		"OnTrigger" "mh2bahamut,Enable,,0,1"
		"OnTrigger" "mh2bahamut,Disable,,5,1"
	}
}
modify:
{
	match:
	{
		"classname" "logic_relay"
		"targetname" "magia_hielo_t3"
	}
	delete:
	{
		"OnTrigger" "congelar_baha,Trigger,,0,1"
	}
	insert:
	{
		"OnTrigger" "congelar_baha,Trigger,,0,-1"
	}
}

; BAHAMUT ULTIMA
add:
{
	"spawnflags" "1"
	"classname" "game_text"
	"targetname" "BahaUltimaText"
	"origin" "-3584 -3584 1088"
	"channel" "2"
	"color" "255 0 0"
	"color2" "255 0 0"
	"fadein" ".1"
	"fadeout" ".1"
	"holdtime" "2"
	"message" "#ERROR"
	"x" ".02"
	"y" ".28"
}

modify:
{
	match:
	{
		"classname" "logic_relay"
		"targetname" "bah_cast_ULTIMA"
	}
	insert:
	{
		"OnTrigger" "BahaUltimaText,AddOutput,message ULTIMA CAST IN 20s,0,1"
		"OnTrigger" "BahaUltimaText,AddOutput,message ULTIMA CAST IN 19s,1,1"
		"OnTrigger" "BahaUltimaText,AddOutput,message ULTIMA CAST IN 18s,2,1"
		"OnTrigger" "BahaUltimaText,AddOutput,message ULTIMA CAST IN 17s,3,1"
		"OnTrigger" "BahaUltimaText,AddOutput,message ULTIMA CAST IN 16s,4,1"
		"OnTrigger" "BahaUltimaText,AddOutput,message ULTIMA CAST IN 15s,5,1"
		"OnTrigger" "BahaUltimaText,AddOutput,message ULTIMA CAST IN 14s,6,1"
		"OnTrigger" "BahaUltimaText,AddOutput,message ULTIMA CAST IN 13s,7,1"
		"OnTrigger" "BahaUltimaText,AddOutput,message ULTIMA CAST IN 12s,8,1"
		"OnTrigger" "BahaUltimaText,AddOutput,message ULTIMA CAST IN 11s,9,1"
		"OnTrigger" "BahaUltimaText,AddOutput,message ULTIMA CAST IN 10s,10,1"
		"OnTrigger" "BahaUltimaText,AddOutput,message ULTIMA CAST IN 9s,11,1"
		"OnTrigger" "BahaUltimaText,AddOutput,message ULTIMA CAST IN 8s,12,1"
		"OnTrigger" "BahaUltimaText,AddOutput,message ULTIMA CAST IN 7s,13,1"
		"OnTrigger" "BahaUltimaText,AddOutput,message ULTIMA CAST IN 6s,14,1"
		"OnTrigger" "BahaUltimaText,AddOutput,message ULTIMA CAST IN 5s,15,1"
		"OnTrigger" "BahaUltimaText,AddOutput,message ULTIMA CAST IN 4s,16,1"
		"OnTrigger" "BahaUltimaText,AddOutput,message ULTIMA CAST IN 3s,17,1"
		"OnTrigger" "BahaUltimaText,AddOutput,message ULTIMA CAST IN 2s,18,1"
		"OnTrigger" "BahaUltimaText,AddOutput,message ULTIMA CAST IN 1s,19,1"
		"OnTrigger" "BahaUltimaText,AddOutput,message ULTIMA CAST!,20,1"
		"OnTrigger" "BahaUltimaText,Display,,0.02,1"
		"OnTrigger" "BahaUltimaText,Display,,1.02,1"
		"OnTrigger" "BahaUltimaText,Display,,2.02,1"
		"OnTrigger" "BahaUltimaText,Display,,3.02,1"
		"OnTrigger" "BahaUltimaText,Display,,4.02,1"
		"OnTrigger" "BahaUltimaText,Display,,5.02,1"
		"OnTrigger" "BahaUltimaText,Display,,6.02,1"
		"OnTrigger" "BahaUltimaText,Display,,7.02,1"
		"OnTrigger" "BahaUltimaText,Display,,8.02,1"
		"OnTrigger" "BahaUltimaText,Display,,9.02,1"
		"OnTrigger" "BahaUltimaText,Display,,10.02,1"
		"OnTrigger" "BahaUltimaText,Display,,11.02,1"
		"OnTrigger" "BahaUltimaText,Display,,12.02,1"
		"OnTrigger" "BahaUltimaText,Display,,13.02,1"
		"OnTrigger" "BahaUltimaText,Display,,14.02,1"
		"OnTrigger" "BahaUltimaText,Display,,15.02,1"
		"OnTrigger" "BahaUltimaText,Display,,16.02,1"
		"OnTrigger" "BahaUltimaText,Display,,17.02,1"
		"OnTrigger" "BahaUltimaText,Display,,18.02,1"
		"OnTrigger" "BahaUltimaText,Display,,19.02,1"
		"OnTrigger" "BahaUltimaText,Display,,20.02,1"
		"OnTrigger" "BahaUltimaText,Kill,,21,1"
	}
}

modify:
{
	match:
	{
		"classname" "math_counter"
		"targetname" "bahamut_vida"
	}
	insert:
	{
		"OnHitMin" "BahaUltimaText,Kill,,0,1"
	}
}
modify:
{
	match:
	{
		"classname" "logic_case"
		"targetname" "bah_cast_rand"
	}
	delete:
	{
		"OnCase07" "bah_cast_ULTIMA,Trigger,,0,-1"
	}
	insert:
	{
		"OnCase07" "bah_cast_ULTIMA,Trigger,,0,1"
	}
}

; REWORK - ULTIMA
filter:
{
	"targetname" "danyoUlt2"
	"classname" "trigger_multiple"
}
filter:
{
	"classname" "logic_relay"
	"targetname" "ultima_relay"
}

add:
{
	"spawnflags" "1"
	"classname" "game_text"
	"targetname" "ItemUltimaText"
	"origin" "-3584 -3584 1088"
	"channel" "0"
	"color" "0 255 0"
	"color2" "0 255 0"
	"fadein" ".1"
	"fadeout" ".1"
	"holdtime" "2"
	"message" "#ERROR"
	"x" ".02"
	"y" ".25"
}
add:
{
	"classname" "logic_relay"
	"targetname" "ItemUltimaRelay"
	"origin" "-3584 -3584 1088"
	"OnTrigger" "!self,Disable,,0,-1"
	"OnTrigger" "ItemUltimaText,AddOutput,message ULTIMA CAST IN 20s,0,-1"
	"OnTrigger" "ItemUltimaText,AddOutput,message ULTIMA CAST IN 19s,1,-1"
	"OnTrigger" "ItemUltimaText,AddOutput,message ULTIMA CAST IN 18s,2,-1"
	"OnTrigger" "ItemUltimaText,AddOutput,message ULTIMA CAST IN 17s,3,-1"
	"OnTrigger" "ItemUltimaText,AddOutput,message ULTIMA CAST IN 16s,4,-1"
	"OnTrigger" "ItemUltimaText,AddOutput,message ULTIMA CAST IN 15s,5,-1"
	"OnTrigger" "ItemUltimaText,AddOutput,message ULTIMA CAST IN 14s,6,-1"
	"OnTrigger" "ItemUltimaText,AddOutput,message ULTIMA CAST IN 13s,7,-1"
	"OnTrigger" "ItemUltimaText,AddOutput,message ULTIMA CAST IN 12s,8,-1"
	"OnTrigger" "ItemUltimaText,AddOutput,message ULTIMA CAST IN 11s,9,-1"
	"OnTrigger" "ItemUltimaText,AddOutput,message ULTIMA CAST IN 10s,10,-1"
	"OnTrigger" "ItemUltimaText,AddOutput,message ULTIMA CAST IN 9s,11,-1"
	"OnTrigger" "ItemUltimaText,AddOutput,message ULTIMA CAST IN 8s,12,-1"
	"OnTrigger" "ItemUltimaText,AddOutput,message ULTIMA CAST IN 7s,13,-1"
	"OnTrigger" "ItemUltimaText,AddOutput,message ULTIMA CAST IN 6s,14,-1"
	"OnTrigger" "ItemUltimaText,AddOutput,message ULTIMA CAST IN 5s,15,-1"
	"OnTrigger" "ItemUltimaText,AddOutput,message ULTIMA CAST IN 4s,16,-1"
	"OnTrigger" "ItemUltimaText,AddOutput,message ULTIMA CAST IN 3s,17,-1"
	"OnTrigger" "ItemUltimaText,AddOutput,message ULTIMA CAST IN 2s,18,-1"
	"OnTrigger" "ItemUltimaText,AddOutput,message ULTIMA CAST IN 1s,19,-1"
	"OnTrigger" "ItemUltimaText,AddOutput,message ULTIMA CAST!,20,-1"
	"OnTrigger" "ItemUltimaText,Display,,0.02,-1"
	"OnTrigger" "ItemUltimaText,Display,,1.02,-1"
	"OnTrigger" "ItemUltimaText,Display,,2.02,-1"
	"OnTrigger" "ItemUltimaText,Display,,3.02,-1"
	"OnTrigger" "ItemUltimaText,Display,,4.02,-1"
	"OnTrigger" "ItemUltimaText,Display,,5.02,-1"
	"OnTrigger" "ItemUltimaText,Display,,6.02,-1"
	"OnTrigger" "ItemUltimaText,Display,,7.02,-1"
	"OnTrigger" "ItemUltimaText,Display,,8.02,-1"
	"OnTrigger" "ItemUltimaText,Display,,9.02,-1"
	"OnTrigger" "ItemUltimaText,Display,,10.02,-1"
	"OnTrigger" "ItemUltimaText,Display,,11.02,-1"
	"OnTrigger" "ItemUltimaText,Display,,12.02,-1"
	"OnTrigger" "ItemUltimaText,Display,,13.02,-1"
	"OnTrigger" "ItemUltimaText,Display,,14.02,-1"
	"OnTrigger" "ItemUltimaText,Display,,15.02,-1"
	"OnTrigger" "ItemUltimaText,Display,,16.02,-1"
	"OnTrigger" "ItemUltimaText,Display,,17.02,-1"
	"OnTrigger" "ItemUltimaText,Display,,18.02,-1"
	"OnTrigger" "ItemUltimaText,Display,,19.02,-1"
	"OnTrigger" "ItemUltimaText,Display,,20.02,-1"
	"OnTrigger" "!self,Enable,,21,-1"
}

modify:
{
	match:
	{
		"classname" "filter_activator_name"
		"targetname" "filtro_ultima"
	}
	delete:
	{
		"OnPass" "ultima_relay,Trigger,,0,-1"
	}
	insert:
	{
		"OnPass" "ItemUltimaRelay,Trigger,,0,1"
		"OnPass" "boton_ultima,Kill,,0,1"
		"OnPass" "ultima_f1,Start,,0,1"
		"OnPass" "sUltima,StartShake,,0,1"
		"OnPass" "sUlt1,PlaySound,,0,1"
		"OnPass" "sUlt2,PlaySound,,5,1"
		"OnPass" "sUlt1,PlaySound,,7,1"
		"OnPass" "sUlt3,PlaySound,,10,1"
		"OnPass" "sUlt2,PlaySound,,13,1"
		"OnPass" "sUlt3,PlaySound,,13,1"
		"OnPass" "sUlt1,PlaySound,,16,1"
		"OnPass" "sUlt4,PlaySound,,20,1"
		"OnPass" "sUltima2,StartShake,,20,1"
		"OnPass" "ultima_f,Stop,,20,1"
		"OnPass" "exploUlt,Fade,,20,1"
		"OnPass" "danyoUlt,Enable,,20,1"
		"OnPass" "danyoUlt,Disable,,20.3,1"
		"OnPass" "bahamutend,FireUser1,,20,1"
		"OnPass" "bahamut_entry2,Trigger,,20,1"
	}
}
modify:
{
	match:
	{
		"hammerid" "256259"
		"classname" "weapon_elite"
	}
	delete:
	{
		"OnPlayerPickup" "ultima_relay,Enable,,0,1"
	}
}
modify:
{
	match:
	{
		"targetname" "comienza_huida"
		"classname" "trigger_once"
	}
	delete:
	{
		"OnStartTouch" "ultima_relay,Enable,,10,1"
	}
}
modify:
{
	match:
	{
		"classname" "math_counter"
		"targetname" "bahamut_vida"
	}
	delete:
	{
		"OnHitMin" "ultima_relay,Disable,,0,1"
	}
}
modify:
{
	match:
	{
		"targetname" "Monstruo_Breakable"
		"classname" "func_physbox_multiplayer"
	}
	delete:
	{
		"OnBreak" "ultima_relay,Disable,,0,1"
	}
}

modify:
{
	match:
	{
		"targetname" "comienza_huida"
		"classname" "trigger_once"
	}
	delete:
	{
		"OnStartTouch" "danyoUlt,AddOutput,damage 400000,20,-1"
	}
	insert:
	{
		"OnStartTouch" "danyoUlt*,AddOutput,damage 400000,20,-1"
	}
}
modify:
{
	match:
	{
		"hammerid" "298866"
		"classname" "trigger_once"
	}
	delete:
	{
		"OnStartTouch" "danyoUlt,AddOutput,damage 1,25,1"
	}
	insert:
	{
		"OnStartTouch" "danyoUlt*,AddOutput,damage 1,25,-1"
	}
}

;------------
; MAP: MINAS
;------------
; Fix TP exploits
add:
{
	"model" "*197"
	"targetname" "Fix_Minas_glitch"
	"target" "tirith_tele_1"
	"StartDisabled" "1"
	"spawnflags" "1"
	"origin" "247.5 3500.5 4069"
	"classname" "trigger_teleport"
}
add:
{
	"model" "*441"
	"targetname" "Trigger_minas_TP"
	"StartDisabled" "0"
	"spawnflags" "1"
	"origin" "-8601 11202 2086"
	"classname" "trigger_once"
	"OnStartTouch" "Fix_Minas_glitch,Enable,,10,1"
}

; Survive 90 seconds
modify:
{
	match:
	{
		"targetname" "stage_4_relay_3"
		"classname" "logic_relay"
	}
	delete:
	{
		"OnTrigger" "cmd,Command,say ** THE WAYS ARE OPENED ** REACH THE TOP OF MINAS TIRITH ** SURVIVE 80 SECONDS **,0,-1"
		"OnTrigger" "stage_4_end_of_all_things,Trigger,,85,-1"
		"OnTrigger" "stage_4_end_of_all_things,Enable,,80,-1"
		"OnTrigger" "global_hud_hint,Kill,,0,-1"
	}
	insert:
	{
		"OnTrigger" "consola,Command,say ** THE WAY IS OPEN ** REACH THE TOP OF MINAS TIRITH ** SURVIVE 90 SECONDS **,0,1"
		"OnTrigger" "consola,Command,say ** All humans at the bottom part will die in 15 seconds **,35,1"
		"OnTrigger" "stage_4_end_of_all_things,Trigger,,92.5,-1"
		"OnTrigger" "stage_4_end_of_all_things,Enable,,90,-1"
	}
}

; Ghost army arrival notification
filter:
{
	"targetname" "global_hud_hint2"
	"classname" "env_hudhint"
}

modify:
{
	match:
	{
		"targetname" "stage_4_relay_3_noraml"
		"classname" "logic_relay"
	}
	delete:
	{
		"OnTrigger" "consola,Command,say ** THE GHOST ARMY IS COMING! DEFEND 60 SEC **,0,-1"
		"OnTrigger" "stage_4_trigger_8,Enable,,0,-1"
	}
	insert:
	{
		"OnTrigger" "consola,Command,say ** THE GHOST ARMY IS COMING! PREPARE YOURSELVES FOR THE LAST DEFENSE! **,0,1"
		"OnTrigger" "global_hud_hint,FireUser1,,0,1"
		"OnTrigger" "global_hud_hint,FireUser2,,0,1"
	}
}

add:
{
	"origin" "5261 2671 -4504"
	"targetname" "global_hud_hint"
	"classname" "game_text"
	"channel" "3"
	"color" "255 0 0"
	"color2" "255 0 0"
	"effect" "0"
	"fadein" "0.1"
	"fadeout" "0.1"
	"fxtime" "0.25"
	"holdtime" "2"
	"spawnflags" "1"
	"x" "-1"
	"y" "0.88"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 150 SECONDS,0,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 149 SECONDS,1,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 148 SECONDS,2,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 147 SECONDS,3,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 146 SECONDS,4,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 145 SECONDS,5,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 144 SECONDS,6,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 143 SECONDS,7,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 142 SECONDS,8,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 141 SECONDS,9,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 140 SECONDS,10,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 139 SECONDS,11,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 138 SECONDS,12,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 137 SECONDS,13,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 136 SECONDS,14,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 135 SECONDS,15,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 134 SECONDS,16,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 133 SECONDS,17,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 132 SECONDS,18,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 131 SECONDS,19,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 130 SECONDS,20,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 129 SECONDS,21,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 128 SECONDS,22,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 127 SECONDS,23,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 126 SECONDS,24,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 125 SECONDS,25,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 124 SECONDS,26,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 123 SECONDS,27,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 122 SECONDS,28,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 121 SECONDS,29,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 120 SECONDS,30,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 119 SECONDS,31,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 118 SECONDS,32,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 117 SECONDS,33,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 116 SECONDS,34,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 115 SECONDS,35,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 114 SECONDS,36,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 113 SECONDS,37,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 112 SECONDS,38,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 111 SECONDS,39,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 110 SECONDS,40,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 109 SECONDS,41,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 108 SECONDS,42,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 107 SECONDS,43,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 106 SECONDS,44,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 105 SECONDS,45,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 104 SECONDS,46,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 103 SECONDS,47,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 102 SECONDS,48,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 101 SECONDS,49,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 100 SECONDS,50,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 99 SECONDS,51,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 98 SECONDS,52,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 97 SECONDS,53,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 96 SECONDS,54,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 95 SECONDS,55,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 94 SECONDS,56,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 93 SECONDS,57,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 92 SECONDS,58,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 91 SECONDS,59,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 90 SECONDS,60,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 89 SECONDS,61,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 88 SECONDS,62,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 87 SECONDS,63,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 86 SECONDS,64,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 85 SECONDS,65,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 84 SECONDS,66,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 83 SECONDS,67,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 82 SECONDS,68,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 81 SECONDS,69,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 80 SECONDS,70,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 79 SECONDS,71,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 78 SECONDS,72,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 77 SECONDS,73,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 76 SECONDS,74,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 75 SECONDS,75,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 74 SECONDS,76,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 73 SECONDS,77,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 72 SECONDS,78,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 71 SECONDS,79,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 70 SECONDS,80,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 69 SECONDS,81,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 68 SECONDS,82,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 67 SECONDS,83,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 66 SECONDS,84,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 65 SECONDS,85,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 64 SECONDS,86,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 63 SECONDS,87,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 62 SECONDS,88,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 61 SECONDS,89,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 60 SECONDS,90,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 59 SECONDS,91,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 58 SECONDS,92,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 57 SECONDS,93,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 56 SECONDS,94,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 55 SECONDS,95,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 54 SECONDS,96,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 53 SECONDS,97,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 52 SECONDS,98,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 51 SECONDS,99,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 50 SECONDS,100,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 49 SECONDS,101,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 48 SECONDS,102,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 47 SECONDS,103,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 46 SECONDS,104,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 45 SECONDS,105,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 44 SECONDS,106,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 43 SECONDS,107,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 42 SECONDS,108,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 41 SECONDS,109,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 40 SECONDS,110,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 39 SECONDS,111,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 38 SECONDS,112,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 37 SECONDS,113,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 36 SECONDS,114,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 35 SECONDS,115,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 34 SECONDS,116,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 33 SECONDS,117,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 32 SECONDS,118,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 31 SECONDS,119,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 30 SECONDS,120,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 29 SECONDS,121,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 28 SECONDS,122,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 27 SECONDS,123,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 26 SECONDS,124,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 25 SECONDS,125,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 24 SECONDS,126,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 23 SECONDS,127,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 22 SECONDS,128,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 21 SECONDS,129,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 20 SECONDS,130,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 19 SECONDS,131,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 18 SECONDS,132,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 17 SECONDS,133,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 16 SECONDS,134,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 15 SECONDS,135,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 14 SECONDS,136,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 13 SECONDS,137,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 12 SECONDS,138,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 11 SECONDS,139,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 10 SECONDS,140,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 9 SECONDS,141,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 8 SECONDS,142,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 7 SECONDS,143,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 6 SECONDS,144,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 5 SECONDS,145,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 4 SECONDS,146,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 3 SECONDS,147,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 2 SECONDS,148,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 1 SECOND,149,1"
	"OnUser1" "global_hud_hint,AddOutput,message TIME UNTIL GHOST ARMY ARRIVAL : 0 SECOND,150,1"
	"OnUser1" "global_hud_hint,AddOutput,message ,151,1"
	"OnUser2" "!self,Display,,0.01,-1"
	"OnUser2" "!self,FireUser2,,1,-1"
}

;-------------
; MAP: SKYRIM
;-------------
;Fixes wrong model index for ching chong should he ever decide to show up
modify:
{
	match:
	{
		"origin" "6361 1960 -990"
		"targetname" "Trigger_3"
		"classname" "trigger_once"
		"hammerid" "1977494"
	}
	delete:
	{
		"OnStartTouch" "!activator,AddOutput,OnUser1 !self:AddOutput:modelindex 604,0,-1"
	}
	insert:
	{
		"OnStartTouch" "!activator,AddOutput,OnUser1 !self:AddOutput:modelindex 603,0,-1"
	}
}

;fix broken output
modify:
{
	match:
	{
		"targetname" "item_troll_5_2"
		"origin" "-9072 1687 -11467"
		"classname" "trigger_hurt"
	}
	delete:
	{
		"OnHurt" "item_troll_flesh_2,PlaySound,,0,-1"
	}
	insert:
	{
		"OnHurtPlayer" "item_troll_flesh_2,PlaySound,,0,-1"
	}
}

;Nerf skyrim boss
modify:
{
	match:
	{
		"targetname" "boss_hp_3_ex"
	}
	delete:
	{
		"OnStartTouch" "counter_3,Add,85,0,-1"
		"OnStartTouch" "bosshpbackup,Add,80,0,-1"
	}
	insert:
	{
		"OnStartTouch" "counter_3,Add,40,0,-1"
		"OnStartTouch" "bosshpbackup,Add,30,0,-1"
	}
}
modify:
{
	match:
	{
		"targetname" "scroll_boss"
	}
	delete:
	{
		"OnTrigger" "counter_3,Subtract,400,0,-1"
		"OnTrigger" "counter_3,Subtract,400,1,-1"
		"OnTrigger" "counter_3,Subtract,400,2,-1"
		"OnTrigger" "counter_3,Subtract,400,3,-1"
	}
	insert:
	{
		"OnTrigger" "counter_3,Subtract,150,0,-1"
		"OnTrigger" "counter_3,Subtract,150,1,-1"
		"OnTrigger" "counter_3,Subtract,150,2,-1"
		"OnTrigger" "counter_3,Subtract,150,3,-1"
	}
}
modify:
{
	match:
	{
		"targetname" "/dohva_boss_relay|nade_bossrelay|maag_boss_relay/"
	}
	delete:
	{
		"OnTrigger" "counter_3,Subtract,250,0,-1"
	}
	insert:
	{
		"OnTrigger" "counter_3,Subtract,100,0,-1"
	}
}

modify:
{
	match:
	{
		"targetname" "dr_boss_relay"
	}
	delete:
	{
		"OnTrigger" "counter_3,Subtract,750,0.9,-1"
	}
	insert:
	{
		"OnTrigger" "counter_3,Subtract,200,0.9,-1"
	}
}
