;------------------------------
;Fix for Weapon Cleaner Plugin
;------------------------------

modify:
{
	match:
	{
		"classname" "weapon_elite"
		"targetname" "feu"
	}
	insert:
	{
		"hammerid" "1000"
	}
}
modify:
{
	match:
	{
		"classname" "func_physbox_multiplayer"
		"model" "*224"
		"origin" "1162.31 1653.55 318.39"
	}
	insert:
	{
		"hammerid" "1001"
	}
}



;--------------------------------------------------------------------
;STRIPPER CFG BY MOLTARD http://steamcommunity.com/id/0123456789ABC/
;--------------------------------------------------------------------
;FIX END NUKE DELAY
;-------------------


modify:
{
	match:
	{
		"origin" "-1751 3625 610"
		"targetname" "z_7"
		"classname" "path_track"
	}
	insert:
	{
		"OnPass" "trigger_hurt,AddOutput,damage 100000,5,1"
	}
}

;------------------
;FIX NUKE GLITCHES
;------------------

modify:
{
	match:
	{
		"targetname" "kill3"
		"classname" "logic_relay"
	}
	delete:
	{
		"OnTrigger" "point_r_2,KillHierarchy,,0,-1"
	}
}


;-------------------------------
;REPLACE AFK KILLER BY AFK TELE
;-------------------------------

modify:
{
	match:
	{
		"model" "*173"
		"origin" "0 -3616 0"
		"targetname" "a_17"
		"classname" "trigger_hurt"
	}
	replace:
	{
		"targetname" "end_2"
	}
}

add:
{
	"model" "*173"
	"targetname" "AFK_Tp_Spawn"
	"target" "a_11b"
	"origin" "0 -3616 0"
	"spawnflags" "1"
	"StartDisabled" "1"
	"classname" "trigger_teleport"
}

modify:
{
	match:
	{
		"origin" "1028 -72 -23"
		"targetname" "d_1c"
		"classname" "logic_relay"
	}
	delete:
	{
		"OnTrigger" "a_17,Enable,,0,-1"
	}
}

modify:
{
	match:
	{
		"origin" "1288 -48 26"
		"targetname" "n_5"
		"classname" "logic_relay"
	}
	insert:
	{
		"OnTrigger" "AFK_Tp_Spawn,Enable,,0,-1"
	}
}

;------------------------
;ELEVATORS NOT BLOCKABLE
;------------------------

modify:
{
	match:
	{
		"targetname" "m_3"
		"origin" "-3596 5392 -801.5"
		"classname" "func_movelinear"
	}
	replace:
	{
		"blockdamage" "1000"
	}
}
modify:
{
	match:
	{
		"targetname" "m_4"
		"origin" "-2796 3232 -465.5"
		"classname" "func_movelinear"
	}
	replace:
	{
		"blockdamage" "1000"
	}
}


;------------------------
;JAIL DOOR NOT BLOCKABLE
;------------------------

modify:
{
	match:
	{
		"origin" "-898 4793 -1006"
		"parentname" "p_64"
		"classname" "prop_dynamic"
	}
	replace:
	{
		"solid" "0"
	}
}


;-------------------------
;FIX BUTTON UNFAIR FOR ZM
;-------------------------

modify:
{
	match:
	{
		"targetname" "a_15"
		"classname" "trigger_push"
	}
	insert:
	{
		"OnStartTouch" "!self,Kill,,20,1"
	}
}


 
;----------------
;FIX SECRET DOOR
;----------------

add:
{
	"targetname" "SecretDoor_Counter"
	"origin" "137 -98 9"
	"classname" "math_counter"
	"min" "0"
	"max" "2"
	"startvalue" "0"
	"StartDisabled" "0"
	"OnHitMax" "p_31,Open,,5,1"
	"OnHitMax" "p_31,Close,,7,1"
}

modify:
{
	match:
	{
		"targetname" "se_8"
		"classname" "func_breakable"
	}
	replace:
	{
		"health" "0"
	}
	delete:
	{
		"OnBreak" "p_31,Open,,2,-1"
		"OnBreak" "p_31,Close,,4,-1"
	}
}

modify:
{
	match:
	{
		"targetname" "se_1"
		"classname" "func_door_rotating"
	}
	insert:
	{
		"OnOpen" "SecretDoor_Counter,Add,1,0,1"
	}
	delete:
	{
		"OnOpen" "se_3,KillHierarchy,,0,-1"
	}
}

modify:
{
	match:
	{
		"targetname" "se_2"
		"classname" "func_door_rotating"
	}
	insert:
	{
		"OnOpen" "SecretDoor_Counter,Add,1,0,1"
	}
	delete:
	{
		"OnOpen" "se_4,KillHierarchy,,0,-1"
	}
}
;
;		STRIPPER BY ENCAP
;
;; rest of the elevators not blockable

modify:
{
	match:
	{
		"targetname" "m_5"
		"origin" "188 4076 118.5"
		"classname" "func_movelinear"
	}
	replace:
	{
		"blockdamage" "1000"
	}
}
modify:
{
	match:
	{
		"targetname" "m_6"
		"classname" "func_movelinear"
	}
	replace:
	{
		"blockdamage" "1000"
	}
}

;; fix for Moltard's AFK_Tp_Spawn

modify:
{
	match:
	{
		"targetname" "kill"
		"classname" "logic_relay"
	}
	delete:
	{
		"OnTrigger" "a_11b,KillHierarchy,,0,-1"
	}
}

;; fix zombie ztele glitch

modify:
{
	match:
	{
		"origin" "-2714 4613.5 -488"
		"classname" "func_door"
	}
	insert:
	{
		"targetname" "ZombieDoor"
	}
	replace:
	{
		"spawnflags" "32"
	}
}
modify:
{
	match:
	{
		"targetname" "p_62"
		"classname" "func_door"
	}
	insert:
	{
		"OnOpen" "ZombieDoor,Close,,16,1"
		"OnOpen" "ZombieDoorOut,Enable,,16,1"
	}
}

add:
{
	"model" "*172"
	"StartDisabled" "0"
	"spawnflags" "1"
	"origin" "-2726 4642 -486"
	"targetname" "ZombieDoorIn"
	"classname" "trigger_once"
	"OnStartTouch" "ZombieDoor,Open,,0,1"
}
add:
{
	"model" "*172"
	"StartDisabled" "1"
	"spawnflags" "1"
	"origin" "-2704 4556 -486"
	"filtername" "zombie_filter"
	"targetname" "ZombieDoorOut"
	"classname" "trigger_once"
	"OnStartTouch" "ZombieDoor,Open,,0,1"
}

;; possible fix for heli/item crash

modify:
{
	match:
	{
		"classname" "func_rotating"
	}
	replace:
	{
		"disablereceiveshadows" "1"
		"disableshadows" "1"
	}
}
modify:
{
	match:
	{
		"classname" "func_tracktrain"
	}
	replace:
	{
		"disablereceiveshadows" "1"
		"disableshadows" "1"
	}
}
modify:
{
	match:
	{
		"classname" "func_breakable"
	}
	replace:
	{
		"disablereceiveshadows" "1"
		"disableshadows" "1"
	}
}
modify:
{
	match:
	{
		"classname" "func_physbox_multiplayer"
	}
	replace:
	{
		"disablereceiveshadows" "1"
		"disableshadows" "1"
	}
}

;; music volume

modify:
{
	match:
	{
		"message" "biohazard/18. adrenaline rush.mp3"
		"classname" "ambient_generic"
	}
	replace:
	{
		"message" "#biohazard/18. adrenaline rush.mp3"
	}
}
modify:
{
	match:
	{
		"message" "biohazard/32. the queen 2nd phase.mp3"
		"classname" "ambient_generic"
	}
	replace:
	{
		"message" "#biohazard/32. the queen 2nd phase.mp3"
	}
}
modify:
{
	match:
	{
		"message" "biohazard/biohazard.mp3"
		"classname" "ambient_generic"
	}
	replace:
	{
		"message" "#biohazard/biohazard.mp3"
	}
}
