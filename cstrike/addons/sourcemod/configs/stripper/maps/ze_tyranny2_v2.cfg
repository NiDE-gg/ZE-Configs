
;------------------------------------------------
; Fix cameras can lead to unexpected map behavior
;------------------------------------------------
modify:
{
	match:
	{
		"classname" "point_viewcontrol"
	}
	replace:
	{
		"spawnflags" "28"
	}
}

;------------------------------------------------
; disable abyss on elevator s2
;------------------------------------------------
modify:
{
	match:
	{
		"targetname" "s2door_12_3"
		"origin" "5309 3208 -10426"
		"classname" "trigger_once"
	}
	insert:
	{
		"OnStartTouch" "abyss_branch,SetValue,0,20,1"
		"OnStartTouch" "command,Command,sm_ewlockbutton 5232265 1,20,1"
	}
}
modify:
{
	match:
	{
		"targetname" "s2door_12_1"
		"origin" "5309 3208 -8730"
		"classname" "func_movelinear"
	}
	insert:
	{
		"OnFullyOpen" "abyss_branch,SetValue,1,5,1"
		"OnFullyOpen" "command,Command,sm_ewlockbutton 5232265 0,5,1"
	}
}

;------------------------------------------------
; kill tornados after dragon boss dies
;------------------------------------------------
modify:
{
	match:
	{
		"targetname" "bossdeath2"
		"origin" "1536 -14096 -1671"
		"classname" "logic_case"
	}
	insert:
	{
		"OnCase03" "s3_boss_atk_tornado_temp,Kill,,0,1"
		"OnCase03" "s3boss_atk_tornado_hurt,Kill,,0,1"
		"OnCase03" "s3boss_atk_tornado_hurt,Kill,,1,1"
		"OnCase03" "s3boss_atk_tornado_hurt,Kill,,2,1"
		"OnCase03" "s3boss_atk_tornado_hurt,Kill,,3,1"
	}
}

;------------------------------------------------
; buff serpent boss
;------------------------------------------------
modify:
{
	match:
	{
		"targetname" "s3_snake_add"
		"origin" "2456.1 12959.5 -1537"
		"classname" "trigger_once"
	}
	delete:
	{
		"OnStartTouch" "snake_math,Add,4,0,-1"
		"OnStartTouch" "Boss_Health_snake,Add,4,0,-1"
		"OnStartTouch" "Boss_HealthBackup_snake,Add,4,0,-1"
	}
	insert:
	{
		"OnStartTouch" "snake_math,Add,50,0,-1"
		"OnStartTouch" "Boss_Health_snake,Add,50,0,-1"
		"OnStartTouch" "Boss_HealthBackup_snake,Add,50,0,-1"
	}
}

;------------------------------------------------
; nerf troll boss
;------------------------------------------------
modify:
{
	match:
	{
		"targetname" "s2boss_hurt1"
		"origin" "8782 3210 -13510"
		"classname" "trigger_hurt"
	}
	replace:
	{
		"damage" "175"
	}
}
modify:
{
	match:
	{
		"targetname" "s2boss_atk_hurt"
		"origin" "8294 3120 -13153"
		"classname" "trigger_hurt"
	}
	replace:
	{
		"damage" "100"
	}
}

;------------------------------------------------
; nerf diablo boss
;------------------------------------------------
modify:
{
	match:
	{
		"targetname" "s5boss_atkcase"
		"origin" "13616 -2223 6964"
		"classname" "logic_case"
	}
	delete:
	{
		"OnCase06" "s5_boss_atk_tornado_temp,AddOutput,origin 14258 -1422 7052,1,-1"
		"OnCase06" "s5_boss_atk_tornado_temp,ForceSpawn,,2.1,-1"
		"OnCase06" "s5_boss_atk_tornado_temp,AddOutput,origin 12979 -2725 7052,2,-1"
		"OnCase06" "s5_boss_atk_tornado_temp,ForceSpawn,,3.1,-1"
		"OnCase06" "s5_boss_atk_tornado_temp,AddOutput,origin 12956 -1418 7052,3,-1"
		"OnCase06" "s5_boss_atk_tornado_temp,AddOutput,origin 12814.2 -1264.8 6964,3.2,-1"
		"OnCase06" "s5_boss_atk_tornado_temp,ForceSpawn,,3.3,-1"
		"OnCase06" "s5_boss_atk_tornado_temp,AddOutput,origin 12780.9 -2853.98 6964,3.4,-1"
		"OnCase06" "s5_boss_atk_tornado_temp,ForceSpawn,,3.5,-1"
		"OnCase06" "s5_boss_atk_tornado_temp,AddOutput,origin 12746 -2076.51 6964,3.6,-1"
		"OnCase06" "s5_boss_atk_tornado_temp,ForceSpawn,,3.7,-1"
	}
}
modify:
{
	match:
	{
		"targetname" "s5boss_atk_cannon_hurt"
		"origin" "13624 -1400 7195"
		"classname" "trigger_hurt"
	}
	replace:
	{
		"damage" "120"
	}
}

;------------------------------------------------
; stripper message
;------------------------------------------------
modify:
{
	match:
	{
		"origin" "1616 -13056 -1671"
		"classname" "logic_auto"
	}
	insert:
	{
		"OnMapSpawn" "command,Command,say < STRIPPER 1 LOADED 27/8/2024 >,1,-1"
	}
}
