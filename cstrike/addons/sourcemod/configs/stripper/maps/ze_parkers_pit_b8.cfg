;; _

;; stage 5 - fix bossfight zm teleport

modify:
{
	match:
	{
		"targetname" "bssto"
		"classname" "trigger_once"
	}
	delete:
	{
		"OnTrigger" "ebzt,Enable,,3,-1"
		"OnTrigger" "lastdor,Break,,0,-1"
	}
	insert:
	{
		"OnTrigger" "ebzt,Enable,,0,1"
		"OnTrigger" "lastdor,Break,,3,1"
	}
}

;; stage 5 - prevent zombies from infecting humans on bossfight

modify:
{
	match:
	{
		"targetname" "zwsg"
		"classname" "info_teleport_destination"
	}
	replace:
	{
		"origin" "8235 -12 -3008"
		"angles" "0 180 0"
	}
}
modify:
{
	match:
	{
		"origin" "7376.04 -14 -2964"
		"classname" "trigger_multiple"
		"hammerid" "4874739"
	}
	replace:
	{
		"origin" "8234 -8 -2964"
	}
}

;; increase nuke damage

modify:
{
	match:
	{
		"targetname" "nuke"
		"classname" "trigger_hurt"
	}
	replace:
	{
		"damage" "100000"
	}
}

;; increase roundtime

modify:
{
	match:
	{
		"classname" "logic_auto"
		"hammerid" "4220"
	}
	replace:
	{
		"OnMapSpawn" "roundtime,Command,mp_roundtime 11,1,-1"
	}
}

;; stage 5 - nuke zombies after bossfight

modify:
{
	match:
	{
		"origin" "7664 -808 -2880"
		"classname" "trigger_multiple"
		"hammerid" "1310183"
	}
	insert:
	{
		"OnStartTouch" "!self,AddOutput,OnStartTouch !activator:SetHealth:-1:0:-1,15,1"
	}
}

;; stage 2 - fix nuke glitchspot

modify:
{
	match:
	{
		"targetname" "nuke"
		"origin" "-9104 -1584 -424"
		"classname" "trigger_hurt"
	}
	replace:
	{
		"origin" "-9104 -1584 -488"
	}
}

;; stage 5 - remove ammo replenish on bossfight

filter:
{
	"targetname" "bsamo"
	"classname" "trigger_multiple"
	"hammerid" "4891824"
}

;; stage 5 - remove ammo replenish on bossfight

filter:
{
	"targetname" "bsamo"
	"classname" "trigger_multiple"
	"hammerid" "4891824"
}

;; possible playercrash fix

modify:
{
	match:
	{
		"classname" "/prop_.*/"
	}
	replace:
	{
		"disableshadows" "1"
		"disablereceiveshadows" "1"
	}
}
modify:
{
	match:
	{
		"classname" "/func_.*/"
	}
	replace:
	{
		"disableshadows" "1"
		"disablereceiveshadows" "1"
	}
}

;; fix doors

modify:
{
	match:
	{
		"classname" "func_door_rotating"
	}
	replace:
	{
		"ignoredebris" "1"
		"forceclosed" "1"
	}
}