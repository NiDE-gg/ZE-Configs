;--------------------------------------------------------------------
;STRIPPER CFG BY MOLTARD http://steamcommunity.com/id/0123456789ABC/
;--------------------------------------------------------------------
;REMOVE INVALID SPAWNPOINT
;--------------------------

filter:
{
	"origin" "227 -2078 12"
	"classname" "info_player_counterterrorist"
	"hammerid" "581"
}

;---------------------
;INCREASE NUKE DAMAGE
;---------------------

modify:
{
	match:
	{
		"targetname" "nuke_hurt"
		"classname" "trigger_hurt"
		"damage" "8000"
	}
	replace:
	{
		"damage" "99999"
	}
}

;------------------------
; EXTRA ANTIGLITCH BRUSH
;------------------------

add:
{
	"model" "*179"
	"targetname" "antiglitch"
	"StartDisabled" "0"
	"spawnflags" "2"
	"Solidity" "0"
	"solidbsp" "0"
	"rendermode" "0"
	"renderfx" "0"
	"rendercolor" "255 255 255"
	"renderamt" "255"
	"origin" "240 -464 624"
	"disableshadows" "0"
	"disablereceiveshadows" "0"
	"_minlight" "0.0"
	"classname" "func_brush"
}

;--------------------------------------------------------
; Prevent early knife-to-end; disable hurt near heli end
;--------------------------------------------------------
add:
{
	"model" "*126"
	"targetname" "stripper_hurt_fix_end"
	"origin" "401.57 655 530"
	"damagecap" "99999"
	"damage" "998000"
	"classname" "trigger_hurt"
	"StartDisabled" "0"
	"spawnflags" "1"
}

;-----------------------------------------
; Disables the anti end glitch killer
;-----------------------------------------
modify:
{
	match:
	{
		"origin" "223 -820 501"
		"targetname" "15"
		"classname" "path_track"
	}
	insert:
	{
		"OnPass" "stripper_hurt_fix_end,Kill,,1,1"
	}
}

;---------------------
; Prevent nuke delays
;---------------------
add:
{
	"origin" "522 664 410"
	"targetname" "message"
	"classname" "point_servercommand"
}
add:
{
	"model" "*125"
	"targetname" "nuke_hurt_final"
	"StartDisabled" "1"
	"spawnflags" "1"
	"origin" "2208.5 -1288.5 432.5"
	"damagetype" "0"
	"damagemodel" "0"
	"damagecap" "20"
	"damage" "80000"
	"classname" "trigger_hurt"
}

modify:
{
	match:
	{
		"origin" "388.5 687.5 452"
		"classname" "trigger_multiple"
		"hammerid" "902"
	}
	insert:
	{
		"OnTrigger" "message,Command,say ** 20 SECONDS UNTIL FINAL NUKE **,15,1"
		"OnTrigger" "nuke_fade,Fade,,34,1"
		"OnTrigger" "nuke_sound12,PlaySound,,34,1"
		"OnTrigger" "nuke_hurt,Enable,,35,1"
		"OnTrigger" "nuke_hurt_final,Enable,,35,1"
	}
}

;---------------------------------
; Fix not adjustable music volume
;--------------------------------
modify:
{
	match:
	{
		"message" "atix/har.wav"
	}
	replace:
	{
		"message" "#atix/har.wav"
	}
}

;-----------------
; Unstuck players
;-----------------
add:
{
	"targetname" "unstuck_tele"
	"wait" "1"
	"StartDisabled" "1"
	"spawnflags" "1"
	"origin" "2984.5 -1166 266"
	"classname" "trigger_multiple"
	"OnUser1" "!self,AddOutput,solid 2,0,1"
	"OnUser1" "!self,AddOutput,mins -71.5 -222 -45,0.1,1"
	"OnUser1" "!self,AddOutput,maxs 71.5 222 45,0.1,1"
	"OnStartTouch" "!activator,AddOutput,origin 2951 -1334 15,0,-1"
}

modify:
{
	match:
	{
		"classname" "logic_auto"
		"hammerid" "756"
	}
	insert:
	{
		"OnMapSpawn" "unstuck_tele,FireUser1,,0,-1"
	}
}

modify:
{
	match:
	{
		"targetname" "path8"
		"classname" "path_track"
	}
	insert:
	{
		"OnPass" "unstuck_tele,Enable,,0,-1"
		"OnPass" "unstuck_tele,Disable,,0.1,-1"
	}
}
