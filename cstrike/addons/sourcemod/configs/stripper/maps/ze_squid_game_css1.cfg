;--------------------------------
; Fix incorrect targetname usage
;--------------------------------
modify:
{
	match:
	{
		"hammerid" "/222634|219246|219265/"
		"classname" "func_button"
	}
	delete:
	{
		"OnPressed" "!activator,AddOutput,targetname player,1,-1"
	}
	insert:
	{
		"OnPressed" "!activator,AddOutput,targetname ,1,-1"
	}
}

;---------------
; Fix AWP sound
;---------------
modify:
{
	match:
	{
		"targetname" "awp_sound"
	}
	replace:
	{
		"message" "#weapons\awp\awp1.wav"
	}
}

;--------------------------------------------------------
; VScript to replace triggers for better accuracy #130
;--------------------------------------------------------
add:
{
	"origin" "-12000 5040 -1963.75"
	"vscripts" "ze_squid_game_css/lights.nut"
	"targetname" "lights_script"
	"classname" "logic_script"
	"hammerid" "151175"
}

modify:
{
	match:
	{
		"origin" "3552 -1536 64"
		"classname" "trigger_multiple"
		"hammerid" "64801"
	}
	replace:
	{
		"targetname" "danger_area"
		"StartDisabled" "0"
	}
	insert:
	{
		"OnStartTouch" "lights_script,RunScriptCode,g_PlayerEntersDangerZone(activator),0,-1"
		"OnEndTouch" "lights_script,RunScriptCode,g_PlayerLeavesDangerZone(activator),0,-1"
	}
}

modify:
{
	match:
	{
		"hammerid" "456"
		"classname" "logic_auto"
	}
	insert:
	{
		"OnMapSpawn" "lights_script,RunScriptCode,StartGreenLight(),0,-1"
	}
}

modify:
{
	match:
	{
		"targetname" "t_c_3"
		"hammerid" "411930"
		"classname" "math_counter"
	}
	insert:
	{
		"OnHitMin" "lights_script,RunScriptCode,StartGreenLight(),20,-1"
	}
}

modify:
{
	match:
	{
		"targetname" "Game_Branch"
		"classname" "logic_branch"
		"hammerid" "418033"
	}
	delete:
	{
		"OnFalse" "Game_Trigger,Disable,,0,-1"
		"OnTrue" "Game_Trigger,Enable,,0,-1"
	}
	insert:
	{
		"OnFalse" "lights_script,RunScriptCode,StartGreenLight(),0,-1"
		"OnTrue" "lights_script,RunScriptCode,StartRedLight(),0,-1"
	}
}

;---------------------------
; Improve models animations
;---------------------------
modify:
{
	match:
	{
		"classname" "prop_dynamic"
		"hammerid" "/(262936|262885)/"
	}
	insert:
	{
		"targetname" "models_guard"
		"OnUser1" "!self,SetAnimation,fire,,-1"
		"OnUser1" "!self,SetAnimation,stand2,1,-1"
	}
}

;---------------------------
; Remove un-needed entities
;---------------------------
filter:
{
	"targetname" "Maker_Movement"
	"classname" "env_entity_maker"
	"hammerid" "418035"
}
filter:
{
	"targetname" "Temp_Movement"
	"classname" "point_template"
	"hammerid" "418038"
}
filter:
{
	"targetname" "Movement_Look"
	"classname" "trigger_look"
	"hammerid" "418040"
}
filter:
{
	"targetname" "Movement_Target"
	"classname" "func_movelinear"
	"hammerid" "418029"
}
filter:
{
	"targetname" "Movement_Trigger"
	"classname" "trigger_multiple"
	"hammerid" "418043"
}