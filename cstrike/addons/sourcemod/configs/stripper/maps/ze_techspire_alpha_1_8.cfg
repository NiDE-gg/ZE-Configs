; ---------------------------------------------------
; STRIPPER CFG BY VNDREW 14.06 (STEAM_0:1:80408960) 
; ---------------------------------------------------

; ------------------------------------------------------------------------------------------------
; Add stripper message
; Increasing zm respawn delay
; Fixed bug where, certain zm after picking zm item once, couldn`t take it anymore in next rounds
; ------------------------------------------------------------------------------------------------
modify:
{
    match:
    {
        "origin" "11848 6568 -10216"
        "classname" "logic_auto"
        "hammerid" "5339"
    }
    insert:
    {
        "OnMapSpawn" "command,Command,say < STRIPPER # 0.2 LOADED>,10,-1"
        "OnMapSpawn" "command,Command,zr_respawn_delay 10,0,-1"
        "OnMapSpawn" "player,AddOutPut,targetname default,0,-1"
    }
}

; ------------------------------------------------------------------------------------------------
; Changing few info_teleport_destination origins to lower position to prevent telehop
; ------------------------------------------------------------------------------------------------
modify:
{
    match:
    {
        "targetname" "info_tp_7_stage1"
        "classname" "info_teleport_destination"
    }
    replace:
    {
        "origin" "-7752 -5720 -2278"
    }
}
modify:
{
    match:
    {
        "targetname" "info_tp_9_stage1"
        "classname" "info_teleport_destination"
    }
    replace:
    {
        "origin" "1940 2541 6944"
    }
}
modify:
{
    match:
    {
        "targetname" "info_tp_11_stage1"
        "classname" "info_teleport_destination"
    }
    replace:
    {
        "origin" "-656 3833 8552"
    }
}
modify:
{
    match:
    {
        "targetname" "info_tp_13_stage1"
        "classname" "info_teleport_destination"
    }
    replace:
    {
        "origin" "2144 2220 7590"
    }
}
modify:
{
    match:
    {
        "targetname" "end_tp_destination_2"
        "classname" "info_teleport_destination"
    }
    replace:
    {
        "origin" "6520 12680 706"
    }
}

; ------------------------------------------------------------------------------------------------
; Fixed unsynchranised tp sound after elevator on second big location with tp and tp enable
; ------------------------------------------------------------------------------------------------
modify:
{
    match:
    {
        "targetname" "stage1_elevator_3"
        "classname" "func_door"
    }
    delete:
    {
        "OnFullyOpen" "tp_sound,PlaySound,,10,-1"
        "OnFullyOpen" "tp_9_stage1,Enable,,15,-1"
    }
    insert:
    {
        "OnFullyOpen" "tp_sound,PlaySound,,25,-1"
        "OnFullyOpen" "tp_9_stage1,Enable,,25,-1"
    }
}

; ------------------------------------------------------------------------------------------------
; Fixed human beam item damage
; ------------------------------------------------------------------------------------------------
modify:
{
    match:
    {
        "targetname" "human_beam_hurt"
        "classname" "trigger_hurt"
    }
    replace:
    {
        "damage" "20000"
    }
}

; ------------------------------------------------------------------------------------------------
; Increasing tp enable to first big location after caves 
; ------------------------------------------------------------------------------------------------
modify:
{
    match:
    {
        "origin" "-7872 -5728 -1982"
        "classname" "trigger_once"
        "hammerid" "247567"
    }
    delete:
    {
        "OnTrigger" "stage1_wall_5,FireUser1,,38,-1"
        "OnTrigger" "tp_sound,PlaySound,,40,-1"
        "OnTrigger" "tp_6_stage1,Enable,,40,-1"
    }
    insert:
    {
        "OnTrigger" "stage1_wall_5,FireUser1,,43,-1"
        "OnTrigger" "tp_sound,PlaySound,,45,-1"
        "OnTrigger" "tp_6_stage1,Enable,,45,-1"
    }
}

; ------------------------------------------------------------------------------------------------
; Increased tp time enable for last tp before boss
; ------------------------------------------------------------------------------------------------
modify:
{    match:
    {
        "origin" "2118 2240 7700"
        "classname" "trigger_once"
        "hammerid" "676975"

    }
    delete:
    {
        "OnTrigger" "stage1_wall_13,FireUser1,,23,-1"
        "OnTrigger" "door_open_sound,FireUser1,,23.5,-1"
        "OnTrigger" "tp_11_stage1,Enable,,25,1"
        "OnTrigger" "tp_sound,PlaySound,,25,-1"
        "OnTrigger" "Command,Command,sv_enablebunnyhopping 1,25,1"
    }
    insert:
    {   "OnTrigger" "stage1_wall_13,FireUser1,,28,-1"
        "OnTrigger" "door_open_sound,FireUser1,,28.5,-1"
        "OnTrigger" "tp_11_stage1,Enable,,30,1"
        "OnTrigger" "tp_sound,PlaySound,,30,-1"
        "OnTrigger" "Command,Command,sv_enablebunnyhopping 1,30,1"
    }
}

; ------------------------------------------------------------------------------------------------
; Delyaed tp from first to second big location 
; ------------------------------------------------------------------------------------------------
modify:
{
    match:
    {
        "targetname" "stage1_elevator_3"
        "classname" "func_door"
    }
    delete:
    {
        "OnFullyOpen" "tp_sound,PlaySound,,7,-1"
        "OnFullyOpen" "add_tp_7_stage1,Enable,,7,-1"
        "OnFullyOpen" "tp_7_stage1,Enable,,7,-1"
        "OnFullyOpen" "stage1_wall_7,FireUser1,,8,-1"
    }
    insert:
    {
        "OnFullyOpen" "tp_sound,PlaySound,,10,-1"
        "OnFullyOpen" "add_tp_7_stage1,Enable,,10,-1"
        "OnFullyOpen" "tp_7_stage1,Enable,,10,-1"
        "OnFullyOpen" "stage1_wall_7,FireUser1,,10,-1"
    }
}
; ------------------------------------------------------------------------------------------------
; Revert npc hp to original
; ------------------------------------------------------------------------------------------------
modify:
{
    match:
    {
        "targetname" "/(green|orange)_npc_breakable/"
        "classname" "func_physbox_multiplayer"
    }
    replace:
    {
        "health" "5000"
    }
}
; ------------------------------------------------------------------------------------------------
; Reduced defence time after first tp 
; ------------------------------------------------------------------------------------------------
modify:
{
    match:
    {
        "targetname" "stage1_trigger01"
        "classname" "trigger_once"
    }
    delete:
    {
        "OnTrigger" "door_open_sound,PlaySound,,23.5,-1"
        "OnTrigger" "stage1_wall_1,FireUser1,,23,-1"
        "OnTrigger" "stage1_30_25_20_15_sec_countdown,FireUser2,,0,-1"
    }
    insert:
    {
        "OnTrigger" "door_open_sound,PlaySound,,18.5,-1"
        "OnTrigger" "stage1_wall_1,FireUser1,,18,-1"
        "OnTrigger" "stage1_30_25_20_15_sec_countdown,FireUser3,,0,-1"
    }
}
; ------------------------------------------------------------------------------------------------
; Slight nerf of aggressiv tp on first trigger
; ------------------------------------------------------------------------------------------------
modify:
{
    match:
    {
        "targetname" "stage1_trigger01"
        "classname" "trigger_once"
    }
    delete:
    {
        "OnPressed" "tp_1_stage1,Enable,,5,-1"
        "OnPressed" "stage1_tp_sign_2,SetAnimation,idle,5,-1"
        "OnPressed" "tp_sound,PlaySound,,5,-1"
    }
    insert:
    {
        "OnPressed" "tp_1_stage1,Enable,,10,-1"
        "OnPressed" "stage1_tp_sign_2,SetAnimation,idle,10,-1"
        "OnPressed" "tp_sound,PlaySound,,10,-1"
    }
}
; ------------------------------------------------------------------------------------------------
; Decreasing time of open the door on second level of second big location after 2/2 trigger
; ------------------------------------------------------------------------------------------------
modify:
{
    match:
    {
        "targetname" "stage1_button_7_counter"
        "classname" "math_counter"
    }
    delete:
    {
        "OnHitMax" "stage1_wall_10,FireUser2,,31,-1"
        "OnHitMax" "stage1_30_25_20_15_sec_countdown,FireUser1,,3,-1"
        "OnHitMax" "door_open_sound,PlaySound,,31.5,-1"
    }
    insert:
    {
        "OnHitMax" "stage1_wall_10,FireUser2,,26,-1"
        "OnHitMax" "stage1_30_25_20_15_sec_countdown,FireUser2,,3,-1"
        "OnHitMax" "door_open_sound,PlaySound,,26.5,-1"
    }
}
; ------------------------------------------------------------------------------------------------
; Making big bridge move down instantly after 2/2 trigger on the highest level on second big location
; ------------------------------------------------------------------------------------------------
modify:
{
    match:
    {
        "targetname" "stage1_button_9_counter"
        "classname" "math_counter"
    }
    delete:
    {
        "OnHitMax" "stage1_bridge_tt,SetSpeed,50,18.5,1"
        "OnHitMax" "stage1_30_25_20_15_sec_countdown,FireUser4,,3,-1"
    }
    insert:
    {
        "OnHitMax" "stage1_bridge_tt,SetSpeed,50,0,1"
    }
}

; ------------------------------------------------------------------------------------------------
; Slight reduce of trigger timer before boss
; ------------------------------------------------------------------------------------------------
modify:
{
    match:
    {
        "targetname" "stage1_button_11_counter"
        "classname" "math_counter"
    }
    delete:
    {
        "OnHitMax" "door_open_sound,PlaySound,,28.5,-1"
        "OnHitMax" "stage1_wall_14,FireUser2,,28,-1"
        "OnHitMax" "stage1_30_25_20_15_sec_countdown,FireUser1,,3,-1"
        "OnHitMax" "stage1_wall_14,FireUser1,,38,-1"
        "OnHitMax" "door_open_sound,PlaySound,,38.5,-1"
        "OnHitMax" "stage1_elevator_4,Open,,40,-1"
        "OnHitMax" "stage1_black_short_fade,Fade,,40,-1"
        "OnHitMax" "fog,SetEndDist,4200,45,-1"
        "OnHitMax" "arena_platform_arrive_ct,Open,,45,-1"
        "OnHitMax" "human_tp_12_stage1,Enable,,45,-1"
    }
    insert:
    {
        "OnHitMax" "door_open_sound,PlaySound,,23.5,-1"
        "OnHitMax" "stage1_wall_14,FireUser2,,23,-1"
        "OnHitMax" "stage1_30_25_20_15_sec_countdown,FireUser3,,3,-1"
        "OnHitMax" "stage1_wall_14,FireUser1,,33,-1"
        "OnHitMax" "door_open_sound,PlaySound,,33.5,-1"
        "OnHitMax" "stage1_elevator_4,Open,,35,-1"
        "OnHitMax" "stage1_black_short_fade,Fade,,35,-1"
        "OnHitMax" "fog,SetEndDist,4200,40,-1"
        "OnHitMax" "arena_platform_arrive_ct,Open,,40,-1"
        "OnHitMax" "human_tp_12_stage1,Enable,,40,-1"
    }
}

; ------------------------------------------------------------------------------------------------
; ZM cage didnt get toggle, after human arrive to the boss
; ------------------------------------------------------------------------------------------------
modify:
{
    match:
    {
        "targetname" "add_hp_humans_start_boss"
        "classname" "trigger_once"
    }
    delete:
    {
        "OnStartTouch" "tp_12_stage1_zm,Enable,,3,-1"
        "OnStartTouch" "cage_boss_zm,Toggle,,1,-1"
    }
}
modify:
{
    match:
    {
        "targetname" "startrelay_boss"
        "classname" "logic_relay"
    }
    insert:
    {
        "OnTrigger" "tp_12_stage1_zm,Enable,,3,-1"
        "OnTrigger" "cage_boss_zm,Toggle,,1,-1"
    }
}
