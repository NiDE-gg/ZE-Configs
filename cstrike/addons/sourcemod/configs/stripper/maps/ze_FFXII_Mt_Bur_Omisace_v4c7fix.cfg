;  __  __  ____  _____ _____ ________     __
; |  \/  |/ __ \|  __ \_   _|  ____\ \   / /
; | \  / | |  | | |  | || | | |__   \ \_/ /
; | |\/| | |  | | |  | || | |  __|   \   /
; | |  | | |__| | |__| || |_| |       | |
; |_|  |_|\____/|_____/_____|_|       |_|
;		Stripper by Małgo 14.09.2023
;STRIPPER CFG BY MAŁGO https://steamcommunity.com/profiles/76561197992553990/
;---------------------------------------------------------------

;---------------------------------------
;Fix particles 316 at ending of stage 5
;---------------------------------------
modify:
{
	match:
	{
		"targetname" "Stage5_LastRoomParticles"
		"hammerid" "1850026"
	}
	replace:
	{
		"effect_name" "custom_particle_317"
	}
}
modify:
{
	match:
	{
		"targetname" "Stage5_LastRoomParticles"
		"hammerid" "1850287"
	}
	replace:
	{
		"effect_name" "custom_particle_317"
	}
}
;---------------------------------------
;Delete papercut song
;---------------------------------------
modify:
{
	match:
	{
		"targetname" "Stage5_music_case2"
		"classname" "logic_case"
	}
	delete:
	{
		"OnCase01" "Music_pendulum - the catalyst.mp3,PlaySound,,0,-1"
	}
}
;---------------------------------------
;Add new song on begining of legend mode
;---------------------------------------
add:
{
	"spawnflags" "49"
	"classname" "ambient_generic"
	"targetname" "Music_pendulum_waves.mp3"
	"origin" "11072 -728 954"
	"message" "#malgo/music/mt bur omisace/god/pendulum - under the waves 128kbps.mp3"
	"volstart" "0"
	"spinup" "0"
	"spindown" "0"
	"radius" "0"
	"preset" "0"
	"pitchstart" "100"
	"pitch" "100"
	"lfotype" "0"
	"lforate" "0"
	"lfomodvol" "0"
	"lfomodpitch" "0"
	"health" "10"
	"fadeoutsecs" "0"
	"fadeinsecs" "0"
	"cspinup" "0"
}
add:
{
	"classname" "logic_case"
	"targetname" "Stage5_music_case1"
	"origin" "-11848 13784 1328"	
	"OnCase01" "Music_pendulum - crush.mp3,PlaySound,,0,-1"
	"OnCase02" "Music_pendulum_waves.mp3,PlaySound,,2,-1"
}
modify:
{
	match:
	{
		"targetname" "Stage5"
		"classname" "logic_relay"
	}
	delete:
	{
		"OnTrigger" "Music_pendulum - crush.mp3,PlaySound,,5,-1"
	}
	insert:
	{
		"OnTrigger" "Stage5_music_case1,PickRandom,,5,-1"
		"OnTrigger" "Music_pendulum_waves.mp3,Volume,0,294,-1"
	}
}
;---------------------------------------
;Nerf Bergan laser ending HP
;---------------------------------------
modify:
{
	match:
	{
		"targetname" "Stag4_BerganEndingEnterHP"
		"classname" "trigger_hurt"
	}
	delete:
	{
		"OnStartTouch" "Stage4_BerganEnding_Counter,Add,55,0,-1"
	}
	insert:
	{
		"OnStartTouch" "Stage4_BerganEnding_Counter,Add,46,0,-1"
	}
}
;---------------------------------------
;Fix lvl 5 laser boss math_counter 
;---------------------------------------
modify:
{
	match:
	{
		"targetname" "Stage5_End_Ghis_HP"
		"classname" "math_counter"
	}
	replace:
	{
		"StartDisabled" "0"
	}
}
;---------------------------------------
;Fix disable push to lvl 4 laser boss
;---------------------------------------
modify:
{
	match:
	{
		"targetname" "End_Ghis_HP_Push"
		"classname" "trigger_push"
	}
	replace:
	{
		"StartDisabled" "0"
	}
}
;---------------------------------------
;Boost Gabranth hp boss battle
;---------------------------------------
modify:
{
	match:
	{
		"targetname" "GabranthStartMulti"
		"classname" "trigger_multiple"
	}
	delete:
	{
		"OnEndTouch" "GabranthGetHP,Add,55,0,1"
	}
	insert:
	{
		"OnEndTouch" "GabranthGetHP,Add,69,0,1"
	}
}
;---------------------------------------
;Nerf Zargabaath attack and Gabranth and Bergan miniboss HP
;---------------------------------------
modify:
{
	match:
	{
		"targetname" "Zargabaath_Boss_Push_HP"
		"classname" "trigger_hurt"
	}
	delete:
	{
		"OnHurtPlayer" "Stage5_bossroom_judge_bergan_hp,Add,65,0,-1"
		"OnHurtPlayer" "Stage5_bossroom_judge_gabranth_hp,Add,70,0,-1"
	}
	insert:
	{
		"OnHurtPlayer" "Stage5_bossroom_judge_bergan_hp,Add,40,0,-1"
		"OnHurtPlayer" "Stage5_bossroom_judge_gabranth_hp,Add,45,0,-1"
	}
}
modify:
{
	match:
	{
		"targetname" "JudgeGhis_AttackElectroMiddleH"
		"classname" "trigger_hurt"
	}
	replace:
	{
		"damage" "30"
	}
}
modify:
{
	match:
	{
		"targetname" "JudgeGhis_AttackFireMiddleH"
		"classname" "trigger_hurt"
	}
	replace:
	{
		"damage" "45"
	}
}
;---------------------------------------
;Nerf Venat boss HP
;---------------------------------------
modify:
{
	match:
	{
		"targetname" "Stage3EndingVenatTriggerHP"
		"classname" "trigger_hurt"
	}
	delete:
	{
		"OnStartTouch" "Stage3_Venat_HP_Counter,Add,65,0,-1"
	}
	insert:
	{
		"OnStartTouch" "Stage3_Venat_HP_Counter,Add,27,0,-1"
	}
}
;---------------------------------------
;Boost Bergan HP Phase 1 & 2
;---------------------------------------
modify:
{
	match:
	{
		"targetname" "Bergan1_HPaddMulti"
		"classname" "trigger_multiple"
	}
	delete:
	{
		"OnStartTouch" "Bergan1_HP,Add,60,0,-1"
	}
	insert:
	{
		"OnStartTouch" "Bergan1_HP,Add,81,0,-1"
	}
}
modify:
{
	match:
	{
		"targetname" "Bergan2BossHP_multi"
		"classname" "trigger_multiple"
	}
	delete:
	{
		"OnStartTouch" "Bergan2GetHP,Add,65,0,-1"
	}
	insert:
	{
		"OnStartTouch" "Bergan2GetHP,Add,92,0,-1"
	}
}
;---------------------------------------
;Nerf Attack Bergan Phase 1
;---------------------------------------
modify:
{
	match:
	{
		"targetname" "Bergan1_Water_H"
		"hammerid" "4381481"
		"classname" "trigger_push"
	}
	replace:
	{
		"speed" "120"
	}
}
modify:
{
	match:
	{
		"targetname" "Bergan1_Water_H"
		"hammerid" "4381484"
		"classname" "trigger_push"
	}
	replace:
	{
		"speed" "120"
	}
}
modify:
{
	match:
	{
		"targetname" "Bergan1_Gravity_H"
		"classname" "trigger_push"
	}
	replace:
	{
		"speed" "270"
	}
}
;---------------------------------------
;Nerf GIM52A HP Boss
;---------------------------------------
modify:
{
	match:
	{
		"targetname" "stage4_miniBossEnterHPAdd"
		"hammerid" "4554843"
	}
	delete:
	{
		"OnHurtPlayer" "Stage4_miniBossCounter,Add,80,0,-1"
	}
	insert:
	{
		"OnHurtPlayer" "Stage4_miniBossCounter,Add,45,0,-1"
	}
}
modify:
{
	match:
	{
		"targetname" "Stage4_miniBossCounter"
		"classname" "math_counter"
	}
	replace:
	{
		"startvalue" "120"
	}
}
;---------------------------------------
;Fix broken win sound
;---------------------------------------
modify:
{
	match:
	{
		"targetname" "WIN_RELAY"
		"classname" "logic_relay"
	}
	delete:
	{
		"OnTrigger" "Music*,Volume,0,1,1"
	}
	insert:
	{
		"OnTrigger" "Music_final_fantasy_xii_the_guardians.mp3,Volume,0,1,1"
		"OnTrigger" "Music_mark_petrie_makalu.mp3,Volume,0,1,1"
		"OnTrigger" "Music_two*,Volume,0,1,1"
		"OnTrigger" "Music_phantom*,Volume,0,1,1"
		"OnTrigger" "Music_darksiders_stone2.mp3,Volume,0,1,1"
		"OnTrigger" "Music_zardonic*,Volume,0,1,1"
		
	}
}
;---------------------------------------
;Disable Bhop on lvl1 - escape segment
;---------------------------------------
modify:
{
	match:
	{
		"targetname" "Dragon_DieHP"
		"classname" "math_counter"
	}
	insert:
	{
		"OnHitMin" "cmd,Command,sv_enablebunnyhopping 0,1,-1"	
	}
}
;---------------------------------------
;Kill 1 broken terrorist spawn
;---------------------------------------
filter:
{
	"classname" "info_player_terrorist"
	"hammerid" "6886287"
}
;---------------------------------------
;Change timer of many spots
;---------------------------------------
modify:
{
	match:
	{
		"classname" "trigger_once"
		"hammerid" "803767"
	}
	delete:
	{
		"OnTrigger" "cmd,Command,say **Hold here for 13 seconds!**,0,1"
		"OnTrigger" "Hold1_Wall,Kill,,13,1"
		"OnTrigger" "Hold1_P,Kill,,13,1"
	}
	insert:
	{
		"OnTrigger" "cmd,Command,say **Hold here for 10 seconds!**,0,1"
		"OnTrigger" "Hold1_Wall,Kill,,10,1"
		"OnTrigger" "Hold1_P,Kill,,10,1"
	}
}
modify:
{
	match:
	{
		"classname" "trigger_once"
		"hammerid" "1488891"
	}
	delete:
	{
		"OnTrigger" "cmd,Command,say **Hold this area for 15 seconds!**,0,1"
		"OnTrigger" "TempleS1_wall2,Kill,,15,1"
		"OnTrigger" "TempleS1_wall2P,Kill,,15,1"
		"OnTrigger" "cmd,Command,say **First let's try to go left! Better go down!**,17,1"
	}
	insert:
	{
		"OnTrigger" "cmd,Command,say **Hold this area for 8 seconds!**,0,1"
		"OnTrigger" "TempleS1_wall2,Kill,,8,1"
		"OnTrigger" "TempleS1_wall2P,Kill,,8,1"
		"OnTrigger" "cmd,Command,say **First let's try to go left! Better go down!**,10,1"
	}
}
modify:
{
	match:
	{
		"classname" "trigger_once"
		"hammerid" "1528144"
	}
	delete:
	{
		"OnTrigger" "Stage1_Temp_door4,Open,,15,1"
		"OnTrigger" "cmd,Command,say **Gates will open in 15 seconds!**,0,1"
		"OnTrigger" "cmd,Command,say **Nobody has been in these ruins for a long time**,16,1"
		"OnTrigger" "cmd,Command,say **Find an unlocked door maybe you can open it!**,19,1"
	}
	insert:
	{
		"OnTrigger" "Stage1_Temp_door4,Open,,10,1"
		"OnTrigger" "cmd,Command,say **Gates will open in 10 seconds!**,0,1"
		"OnTrigger" "cmd,Command,say **Nobody has been in these ruins for a long time**,11,1"
		"OnTrigger" "cmd,Command,say **Find an unlocked door maybe you can open it!**,14,1"
	}
}
modify:
{
	match:
	{
		"classname" "trigger_once"
		"hammerid" "302478"
	}
	delete:
	{
		"OnTrigger" "cmd,Command,say **Hold here for 10 seconds!**,0,1"
		"OnTrigger" "Stage1_TempS2Wall1,Kill,,10,1"
		"OnTrigger" "Stage1_TempS2Wall1P,Kill,,10,1"
	}
	insert:
	{
		"OnTrigger" "cmd,Command,say **Hold here for 5 seconds!**,0,1"
		"OnTrigger" "Stage1_TempS2Wall1,Kill,,5,1"
		"OnTrigger" "Stage1_TempS2Wall1P,Kill,,5,1"
	}
}
modify:
{
	match:
	{
		"classname" "trigger_once"
		"hammerid" "4104180"
	}
	delete:
	{
		"OnTrigger" "cmd,Command,say **Defend here until doors will close!**,0,1"
		"OnTrigger" "Stage1_Temp_door2,Close,,43,1"
		"OnTrigger" "Stage1Lvl1WinTriggerCt,Enable,,52,1"
		"OnTrigger" "Stage1Lvl1FalseTriggerZombie,Enable,,51,1"

	}
	insert:
	{
		"OnTrigger" "cmd,Command,say **Its last hold! Hold this area for 40 seconds!**,0,1"
		"OnTrigger" "Stage1_Temp_door2,Close,,40,1"
		"OnTrigger" "Stage1Lvl1WinTriggerCt,Enable,,48,1"
		"OnTrigger" "Stage1Lvl1FalseTriggerZombie,Enable,,47,1"
	}
}
modify:
{
	match:
	{
		"classname" "trigger_once"
		"hammerid" "3720646"
	}
	delete:
	{
		"OnTrigger" "cmd,Command,say **Gates will open in 20 seconds!**,0,1"
		"OnTrigger" "StageII/III_DoorS4_2,Open,,20,1"
		"OnTrigger" "GabranthGetHP,Enable,,19,1"
		"OnTrigger" "!self,Kill,,20.05,1"
	}
	insert:
	{
		"OnTrigger" "cmd,Command,say **Gates will open in 15 seconds!**,0,1"
		"OnTrigger" "StageII/III_DoorS4_2,Open,,15,1"
		"OnTrigger" "GabranthGetHP,Enable,,14,1"
		"OnTrigger" "!self,Kill,,25.05,1"
	}
}
modify:
{
	match:
	{
		"classname" "trigger_once"
		"hammerid" "5667016"
	}
	delete:
	{
		"OnTrigger" "Stage3_EscZMShort,Open,,10,1"
		"OnTrigger" "Stage3_Temple_S3TeleportAFK5.1,Enable,,22,1"
		"OnTrigger" "Stage3_Temple_S3TeleportAFK5,Enable,,22,1"
	}
	insert:
	{
		"OnTrigger" "Stage3_EscZMShort,Open,,5,1"
		"OnTrigger" "Stage3_Temple_S3TeleportAFK5.1,Enable,,15,1"
		"OnTrigger" "Stage3_Temple_S3TeleportAFK5,Enable,,15,1"
	}
}
modify:
{
	match:
	{
		"classname" "trigger_once"
		"hammerid" "4382071"
	}
	delete:
	{
		"OnTrigger" "Stage4_TowerS4Wall1,Kill,,15,1"
	}
	insert:
	{
		"OnTrigger" "Stage4_TowerS4Wall1,Kill,,10,1"
	}
}
modify:
{
	match:
	{
		"classname" "trigger_once"
		"hammerid" "4380270"
	}
	delete:
	{
		"OnTrigger" "cmd,Command,say Gates will open in 30 seconds!,0,1"
		"OnTrigger" "Stage4_TowerS4Door3,Open,,30,1"
		"OnTrigger" "Bergan1_HP,Enable,,30,1"
		"OnTrigger" "!self,Kill,,30.05,1"
	}
	insert:
	{
		"OnTrigger" "cmd,Command,say Gates will open in 20 seconds!,0,1"
		"OnTrigger" "Stage4_TowerS4Door3,Open,,20,1"
		"OnTrigger" "Bergan1_HP,Enable,,20,1"
		"OnTrigger" "!self,Kill,,20.05,1"
	}
}
modify:
{
	match:
	{
		"classname" "func_breakable"
		"hammerid" "4532040"
	}
	delete:
	{
		"OnBreak" "Stage4_Door4,Open,,21,-1"
		"OnBreak" "Stage4_Door3,Open,,31,-1"
		"OnBreak" "Stage4_Door4.1,Open,,34,-1"
		"OnBreak" "cmd,Command,say **We are trapped! Defend until somethings happen!**,31,-1"
		"OnBreak" "Stage4_escape_wall1,FireUser1,,41,-1"
	}
	insert:
	{
		"OnBreak" "Stage4_Door4,Open,,10,-1"
		"OnBreak" "Stage4_Door3,Open,,15,-1"
		"OnBreak" "Stage4_Door4.1,Open,,18,-1"
		"OnBreak" "cmd,Command,say **We are trapped! Defend until somethings happen!**,19,-1"
		"OnBreak" "Stage4_escape_wall1,FireUser1,,30,-1"
	}
}
modify:
{
	match:
	{
		"classname" "trigger_once"
		"hammerid" "5666068"
	}
	delete:
	{
		"OnTrigger" "Stage3_random_bridge_case,PickRandom,,0,1"
	}
	insert:
	{
		"OnTrigger" "Explosion_Temp_Huge,AddOutput,origin 5361 -3432 1618,0,1"	
		"OnTrigger" "cmd,Command,say **Wait! Bridge has been destroyed! We must find another way to get out!**,4,1"
		"OnTrigger" "stage3_explosion_doors1,Kill,,4,1"
		"OnTrigger" "stage3_bridge,Break,,4,1"
		"OnTrigger" "Explosion_Temp_Huge,ForceSpawn,,4,1"
		"OnTrigger" "stage3_bridge_particle,Start,,4,1"
		"OnTrigger" "Stage3_Temple_S3TeleportAFK4,Enable,,4.01,1"
		"OnTrigger" "stage3_bridge_particle,Kill,,7.01,1"
		"OnTrigger" "cmd,Command,say **Defend until something happen!**,7.01,1"
		"OnTrigger" "Explosion_Temp,AddOutput,origin 4629 -2835 1618,15.02,1"
		"OnTrigger" "Explosion_Temp,ForceSpawn,,15.01,1"
		"OnTrigger" "Explosion_Temp,AddOutput,origin 4629 -4029 1618,15,1"
		"OnTrigger" "stage3_explosion_doors2,Kill,,15,1"
		"OnTrigger" "Explosion_Temp,ForceSpawn,,15.03,1"
		"OnTrigger" "Stage3_Temple_S3TeleportAFK5,Enable,,25,1"
	}
}
;---------------------------------------
;Fix grammer shit
;---------------------------------------
modify:
{
	match:
	{
		"classname" "logic_relay"
		"hammerid" "882883"
	}
	delete:
	{
		"OnTrigger" "OutTempleTrigger1,AddOutput,OnTrigger cmd:Command:say **Impasible Judge Bergan and Gabranth we must stop them!**:5.00:1,0.1,-1"
	}
	insert:
	{
		"OnTrigger" "OutTempleTrigger1,AddOutput,OnTrigger cmd:Command:say **Impossible! Judge Bergan and Gabranth! we must stop them!**:5.00:1,0.1,-1"
	}
}
modify:
{
	match:
	{
		"classname" "trigger_once"
		"hammerid" "1767166"
	}
	delete:
	{
		"OnTrigger" "cmd,Command,say **Defent until way will open!**,0,1"
	}
	insert:
	{
		"OnTrigger" "cmd,Command,say **Hold this area until way is open!**,0,1"
	}
}
;---------------------------------------
;Boost Miniboss Chaos hp
;---------------------------------------
modify:
{
	match:
	{
		"targetname" "Stage6_ChaosMiniBoss_HPmulti"
		"classname" "trigger_multiple"
	}
	delete:
	{
		"OnStartTouch" "Stage6_ChaosMiniBossGetHP,Add,135,0,-1"
	}
	insert:
	{
		"OnStartTouch" "Stage6_ChaosMiniBossGetHP,Add,145,0,-1"
	}
}
;---------------------------------------
;Boost lvl 2 & 3 heal materia 
;---------------------------------------
modify:
{
	match:
	{
		"targetname" "Heal_Trigger_lvl2"
		"classname" "trigger_hurt"
	}
	delete:
	{
		"OnStartTouch" "!activator,AddOutput,max_health 155,0,-1"
	}
	insert:
	{
		"OnStartTouch" "!activator,AddOutput,max_health 175,0,-1"
	}
}
modify:
{
	match:
	{
		"targetname" "Heal_Trigger_lvl3"
		"classname" "trigger_hurt"
	}
	delete:
	{
		"OnStartTouch" "!activator,AddOutput,max_health 225,0,-1"
	}
	insert:
	{
		"OnStartTouch" "!activator,AddOutput,max_health 245,0,-1"
	}
}
modify:
{
	match:
	{
		"classname" "logic_auto"
		"hammerid" "882715"
	}
	delete:
	{
		"OnNewGame" "cmd,Command,say **Map Status: No Stripper!**,0,-1"
	}
	insert:
	{
		"OnNewGame" "cmd,Command,say **Map Status: Stripper #9 Enable!**,0,-1"
	}
}

;------------------------------
; BELOW CHANGES BY KOEN (12/11/2023)
;------------------------------

;picking up items gives levels similar to paramina
;leveling up is hard especially for late joiners, so this will make it easier to level up
modify:
{
	match:
	{
		"classname" "weapon_elite"
		"targetname" "Weapon_Haste"
		"hammerid" "5533053"
	}
	insert:
	{
		"OnPlayerPickup" "Map_Score_Add,ApplyScore,,0,1"
		"OnPlayerPickup" "!activator,AddOutput,OnUser4 Map_Level_Check:Add:1:0.00:-1,0,1"
	}
}

modify:
{
	match:
	{
		"classname" "weapon_elite"
		"targetname" "Weapon_limit"
		"hammerid" "5533991"
	}
	insert:
	{
		"OnPlayerPickup" "Map_Score_Add,ApplyScore,,0,1"
		"OnPlayerPickup" "!activator,AddOutput,OnUser4 Map_Level_Check:Add:1:0.00:-1,0,1"
	}
}

modify:
{
	match:
	{
		"classname" "weapon_elite"
		"targetname" "Weapon_sand"
		"hammerid" "5534304"
	}
	insert:
	{
		"OnPlayerPickup" "Map_Score_Add,ApplyScore,,0,1"
		"OnPlayerPickup" "!activator,AddOutput,OnUser4 Map_Level_Check:Add:1:0.00:-1,0,1"
	}
}

modify:
{
	match:
	{
		"classname" "weapon_elite"
		"targetname" "Weapon_Poison"
		"hammerid" "5535142"
	}
	insert:
	{
		"OnPlayerPickup" "Map_Score_Add,ApplyScore,,0,1"
		"OnPlayerPickup" "!activator,AddOutput,OnUser4 Map_Level_Check:Add:1:0.00:-1,0,1"
	}
}

modify:
{
	match:
	{
		"classname" "weapon_elite"
		"targetname" "Weapon_Darkaga"
		"hammerid" "5536564"
	}
	insert:
	{
		"OnPlayerPickup" "Map_Score_Add,ApplyScore,,0,1"
		"OnPlayerPickup" "!activator,AddOutput,OnUser4 Map_Level_Check:Add:1:0.00:-1,0,1"
	}
}

modify:
{
	match:
	{
		"classname" "weapon_elite"
		"targetname" "Weapon_Oil"
		"hammerid" "5536644"
	}
	insert:
	{
		"OnPlayerPickup" "Map_Score_Add,ApplyScore,,0,1"
		"OnPlayerPickup" "!activator,AddOutput,OnUser4 Map_Level_Check:Add:1:0.00:-1,0,1"
	}
}

modify:
{
	match:
	{
		"classname" "weapon_elite"
		"targetname" "Weapon_Fire"
		"hammerid" "5536648"
	}
	insert:
	{
		"OnPlayerPickup" "Map_Score_Add,ApplyScore,,0,1"
		"OnPlayerPickup" "!activator,AddOutput,OnUser4 Map_Level_Check:Add:1:0.00:-1,0,1"
	}
}

modify:
{
	match:
	{
		"classname" "weapon_elite"
		"targetname" "Weapon_Heal"
		"hammerid" "5537102"
	}
	insert:
	{
		"OnPlayerPickup" "Map_Score_Add,ApplyScore,,0,1"
		"OnPlayerPickup" "!activator,AddOutput,OnUser4 Map_Level_Check:Add:1:0.00:-1,0,1"
	}
}

modify:
{
	match:
	{
		"classname" "weapon_elite"
		"targetname" "Weapon_Blizzard"
		"hammerid" "5537406"
	}
	insert:
	{
		"OnPlayerPickup" "Map_Score_Add,ApplyScore,,0,1"
		"OnPlayerPickup" "!activator,AddOutput,OnUser4 Map_Level_Check:Add:1:0.00:-1,0,1"
	}
}

modify:
{
	match:
	{
		"classname" "weapon_elite"
		"targetname" "Weapon_Electro"
		"hammerid" "5537704"
	}
	insert:
	{
		"OnPlayerPickup" "Map_Score_Add,ApplyScore,,0,1"
		"OnPlayerPickup" "!activator,AddOutput,OnUser4 Map_Level_Check:Add:1:0.00:-1,0,1"
	}
}

;beating stage 4 automatically goes to the "secret" stage 5
modify:
{
	match:
	{
		"classname" "trigger_once"
		"targetname" "Stage5_win_onc"
		"hammerid" "5020985"
	}
	delete:
	{
		"OnTrigger" "Level_Counter,SetValueNoFire,1,3,1"
	}
	insert:
	{
		"OnTrigger" "Level_Counter,SetValueNoFire,7,3,1"
	}
}

;add dynamic entwatch names
modify:
{
	match:
	{
		"classname" "logic_case"
		"targetname" "Item_haste_Level_Case"
		"hammerid" "5533061"
	}
	insert:
	{
		"OnCase01" "cmd,Command,sm_ewsetshortname 5533053 Haste.Lv1,0,-1"
		"OnCase02" "cmd,Command,sm_ewsetshortname 5533053 Haste.Lv2,0,-1"
		"OnCase03" "cmd,Command,sm_ewsetshortname 5533053 Haste.Lv3,0,-1"
		"OnCase04" "cmd,Command,sm_ewsetshortname 5533053 Haste.Lv3,0,-1"
		"OnCase05" "cmd,Command,sm_ewsetshortname 5533053 Haste.Lv3,0,-1"
	}
}

modify:
{
	match:
	{
		"classname" "logic_case"
		"targetname" "Item_Z_confuse_Level_Case"
		"hammerid" "5533637"
	}
	insert:
	{
		"OnCase01" "cmd,Command,sm_ewsetshortname 5533498 ZM Confuse.Lv1,0,-1"
		"OnCase02" "cmd,Command,sm_ewsetshortname 5533498 ZM Confuse.Lv1,0,-1"
		"OnCase03" "cmd,Command,sm_ewsetshortname 5533498 ZM Confuse.Lv2,0,-1"
		"OnCase04" "cmd,Command,sm_ewsetshortname 5533498 ZM Confuse.Lv3,0,-1"
		"OnCase05" "cmd,Command,sm_ewsetshortname 5533498 ZM Confuse.Lv3,0,-1"
	}
}

modify:
{
	match:
	{
		"classname" "logic_case"
		"targetname" "Item_limit_Level_Case"
		"hammerid" "5533995"
	}
	insert:
	{
		"OnCase01" "cmd,Command,sm_ewsetshortname 5533991 Limit.Lv1,0,-1"
		"OnCase02" "cmd,Command,sm_ewsetshortname 5533991 Limit.Lv2,0,-1"
		"OnCase03" "cmd,Command,sm_ewsetshortname 5533991 Limit.Lv3,0,-1"
		"OnCase04" "cmd,Command,sm_ewsetshortname 5533991 Limit.Lv3,0,-1"
		"OnCase05" "cmd,Command,sm_ewsetshortname 5533991 Limit.Lv3,0,-1"
	}
}

modify:
{
	match:
	{
		"classname" "logic_case"
		"targetname" "Item_sand_Level_Case"
		"hammerid" "5534310"
	}
	insert:
	{
		"OnCase01" "cmd,Command,sm_ewsetshortname 5534304 Sand.Lv1,0,-1"
		"OnCase02" "cmd,Command,sm_ewsetshortname 5534304 Sand.Lv2,0,-1"
		"OnCase03" "cmd,Command,sm_ewsetshortname 5534304 Sand.Lv3,0,-1"
		"OnCase04" "cmd,Command,sm_ewsetshortname 5534304 Sand.Lv3,0,-1"
		"OnCase05" "cmd,Command,sm_ewsetshortname 5534304 Sand.Lv3,0,-1"
	}
}

modify:
{
	match:
	{
		"classname" "logic_case"
		"targetname" "Item_Z_Darkaga_Level_Case"
		"hammerid" "5534770"
	}
	insert:
	{
		"OnCase01" "cmd,Command,sm_ewsetshortname 5534626 ZM Dark.Lv1,0,-1"
		"OnCase02" "cmd,Command,sm_ewsetshortname 5534626 ZM Dark.Lv1,0,-1"
		"OnCase03" "cmd,Command,sm_ewsetshortname 5534626 ZM Dark.Lv2,0,-1"
		"OnCase04" "cmd,Command,sm_ewsetshortname 5534626 ZM Dark.Lv3,0,-1"
		"OnCase05" "cmd,Command,sm_ewsetshortname 5534626 ZM Dark.Lv3,0,-1"
	}
}

modify:
{
	match:
	{
		"classname" "logic_case"
		"targetname" "Item_Z_Shield_Level_Case"
		"hammerid" "5534812"
	}
	insert:
	{
		"OnCase01" "cmd,Command,sm_ewsetshortname 5534889 ZM Protect.Lv1,0,-1"
		"OnCase02" "cmd,Command,sm_ewsetshortname 5534889 ZM Protect.Lv1,0,-1"
		"OnCase03" "cmd,Command,sm_ewsetshortname 5534889 ZM Protect.Lv2,0,-1"
		"OnCase04" "cmd,Command,sm_ewsetshortname 5534889 ZM Protect.Lv3,0,-1"
		"OnCase05" "cmd,Command,sm_ewsetshortname 5534889 ZM Protect.Lv3,0,-1"
	}
}

modify:
{
	match:
	{
		"classname" "logic_case"
		"targetname" "Item_poison_Level_Case"
		"hammerid" "5535146"
	}
	insert:
	{
		"OnCase01" "cmd,Command,sm_ewsetshortname 5535142 Poison.Lv1,0,-1"
		"OnCase02" "cmd,Command,sm_ewsetshortname 5535142 Poison.Lv2,0,-1"
		"OnCase03" "cmd,Command,sm_ewsetshortname 5535142 Poison.Lv3,0,-1"
		"OnCase04" "cmd,Command,sm_ewsetshortname 5535142 Poison.Lv3,0,-1"
		"OnCase05" "cmd,Command,sm_ewsetshortname 5535142 Poison.Lv3,0,-1"
	}
}

modify:
{
	match:
	{
		"classname" "logic_case"
		"targetname" "Item_Z_Warp_Level_Case"
		"hammerid" "5535575"
	}
	insert:
	{
		"OnCase01" "cmd,Command,sm_ewsetshortname 5535656 ZM Warp.Lv1,0,-1"
		"OnCase02" "cmd,Command,sm_ewsetshortname 5535656 ZM Warp.Lv1,0,-1"
		"OnCase03" "cmd,Command,sm_ewsetshortname 5535656 ZM Warp.Lv2,0,-1"
		"OnCase04" "cmd,Command,sm_ewsetshortname 5535656 ZM Warp.Lv3,0,-1"
		"OnCase05" "cmd,Command,sm_ewsetshortname 5535656 ZM Warp.Lv3,0,-1"
	}
}

modify:
{
	match:
	{
		"classname" "logic_case"
		"targetname" "Item_Z_Invis_Level_Case"
		"hammerid" "5535662"
	}
	insert:
	{
		"OnCase01" "cmd,Command,sm_ewsetshortname 5535658 ZM Invisible.Lv1,0,-1"
		"OnCase02" "cmd,Command,sm_ewsetshortname 5535658 ZM Invisible.Lv1,0,-1"
		"OnCase03" "cmd,Command,sm_ewsetshortname 5535658 ZM Invisible.Lv2,0,-1"
		"OnCase04" "cmd,Command,sm_ewsetshortname 5535658 ZM Invisible.Lv3,0,-1"
		"OnCase05" "cmd,Command,sm_ewsetshortname 5535658 ZM Invisible.Lv3,0,-1"
	}
}

modify:
{
	match:
	{
		"classname" "logic_case"
		"targetname" "Item_Darkaga_Level_Case"
		"hammerid" "5536572"
	}
	insert:
	{
		"OnCase01" "cmd,Command,sm_ewsetshortname 5536564 Dark.Lv1,0,-1"
		"OnCase02" "cmd,Command,sm_ewsetshortname 5536564 Dark.Lv2,0,-1"
		"OnCase03" "cmd,Command,sm_ewsetshortname 5536564 Dark.Lv3,0,-1"
		"OnCase04" "cmd,Command,sm_ewsetshortname 5536564 Dark.Lv3,0,-1"
		"OnCase05" "cmd,Command,sm_ewsetshortname 5536564 Dark.Lv3,0,-1"
	}
}

modify:
{
	match:
	{
		"classname" "logic_case"
		"targetname" "Item_fire_Level_Case"
		"hammerid" "5536656"
	}
	insert:
	{
		"OnCase01" "cmd,Command,sm_ewsetshortname 5536648 Fire.Lv1,0,-1"
		"OnCase02" "cmd,Command,sm_ewsetshortname 5536648 Fire.Lv2,0,-1"
		"OnCase03" "cmd,Command,sm_ewsetshortname 5536648 Fire.Lv3,0,-1"
		"OnCase04" "cmd,Command,sm_ewsetshortname 5536648 Fire.Lv3,0,-1"
		"OnCase05" "cmd,Command,sm_ewsetshortname 5536648 Fire.Lv3,0,-1"
	}
}

modify:
{
	match:
	{
		"classname" "logic_case"
		"targetname" "Item_Oil_Level_Case"
		"hammerid" "5536946"
	}
	insert:
	{
		"OnCase01" "cmd,Command,sm_ewsetshortname 5536644 Oil.Lv1,0,-1"
		"OnCase02" "cmd,Command,sm_ewsetshortname 5536644 Oil.Lv2,0,-1"
		"OnCase03" "cmd,Command,sm_ewsetshortname 5536644 Oil.Lv3,0,-1"
		"OnCase04" "cmd,Command,sm_ewsetshortname 5536644 Oil.Lv3,0,-1"
		"OnCase05" "cmd,Command,sm_ewsetshortname 5536644 Oil.Lv3,0,-1"
	}
}

modify:
{
	match:
	{
		"classname" "logic_case"
		"targetname" "Item_Heal_Level_Case"
		"hammerid" "5537180"
	}
	insert:
	{
		"OnCase01" "cmd,Command,sm_ewsetshortname 5537102 Heal.Lv1,0,-1"
		"OnCase02" "cmd,Command,sm_ewsetshortname 5537102 Heal.Lv2,0,-1"
		"OnCase03" "cmd,Command,sm_ewsetshortname 5537102 Heal.Lv3,0,-1"
		"OnCase04" "cmd,Command,sm_ewsetshortname 5537102 Heal.Lv3,0,-1"
		"OnCase05" "cmd,Command,sm_ewsetshortname 5537102 Heal.Lv3,0,-1"
	}
}

modify:
{
	match:
	{
		"classname" "logic_case"
		"targetname" "Item_Blizzard_Level_Case"
		"hammerid" "5537332"
	}
	insert:
	{
		"OnCase01" "cmd,Command,sm_ewsetshortname 5537406 Blizzard.Lv1,0,-1"
		"OnCase02" "cmd,Command,sm_ewsetshortname 5537406 Blizzard.Lv2,0,-1"
		"OnCase03" "cmd,Command,sm_ewsetshortname 5537406 Blizzard.Lv3,0,-1"
		"OnCase04" "cmd,Command,sm_ewsetshortname 5537406 Blizzard.Lv3,0,-1"
		"OnCase05" "cmd,Command,sm_ewsetshortname 5537406 Blizzard.Lv3,0,-1"
	}
}

modify:
{
	match:
	{
		"classname" "logic_case"
		"targetname" "Item_Electro_Level_Case"
		"hammerid" "5537626"
	}
	insert:
	{
		"OnCase01" "cmd,Command,sm_ewsetshortname 5537704 Thunder.Lv1,0,-1"
		"OnCase02" "cmd,Command,sm_ewsetshortname 5537704 Thunder.Lv2,0,-1"
		"OnCase03" "cmd,Command,sm_ewsetshortname 5537704 Thunder.Lv3,0,-1"
		"OnCase04" "cmd,Command,sm_ewsetshortname 5537704 Thunder.Lv3,0,-1"
		"OnCase05" "cmd,Command,sm_ewsetshortname 5537704 Thunder.Lv3,0,-1"
	}
}

;fix stage 6 chaos miniboss zombie teleports not being random
filter:
{
	"classname" "info_teleport_destination"
	"targetname" "Stage5_miniboss_afkjailspawn"
}

filter:
{
	"classname" "trigger_teleport"
	"targetname" "Stage5_NewTeleportAFk1.1"
	"hammerid" "5046397"
}

add:
{
	"classname" "point_teleport"
	"targetname" "Stage5_miniboss_afkjailspawn1"
	"target" "!activator"
	"spawnflags" "0"
	"origin" "-2580 -11023 -15459"
	"angles" "0 135 0"
}

add:
{
	"classname" "point_teleport"
	"targetname" "Stage5_miniboss_afkjailspawn2"
	"target" "!activator"
	"spawnflags" "0"
	"origin" "-3714 -11023 -15459"
	"angles" "0 45 0"
}

add:
{
	"classname" "point_teleport"
	"targetname" "Stage5_miniboss_afkjailspawn3"
	"target" "!activator"
	"spawnflags" "0"
	"origin" "-2580 -9889 -15459"
	"angles" "0 225 0"
}

add:
{
	"classname" "point_teleport"
	"targetname" "Stage5_miniboss_afkjailspawn4"
	"target" "!activator"
	"spawnflags" "0"
	"origin" "-3714 -9889 -15459"
	"angles" "0 315 0"
}

add:
{
	"classname" "logic_case"
	"targetname" "Stage5_NewTeleportAFk1.1_case"
	"Case01" "1"
	"Case02" "2"
	"Case03" "3"
	"Case04" "4"
	"OnCase01" "Stage5_miniboss_afkjailspawn1,Teleport,,0,-1"
	"OnCase02" "Stage5_miniboss_afkjailspawn2,Teleport,,0,-1"
	"OnCase03" "Stage5_miniboss_afkjailspawn3,Teleport,,0,-1"
	"OnCase04" "Stage5_miniboss_afkjailspawn4,Teleport,,0,-1"
}

add:
{
	"classname" "trigger_multiple"
	"targetname" "Stage5_NewTeleportAFk1.1"
	"origin" "-1679 -10448 -15401"
	"model" "*250"
	"spawnflags" "1"
	"StartDisabled" "1"
	"wait" "0"
	"OnStartTouch" "Stage5_NewTeleportAFk1.1_case,PickRandomShuffle,,0,-1"
}

;fix music volume not being adjustable
modify:
{
	match:
	{
		"classname" "ambient_generic"
		"targetname" "Music_pendulum under the waves2.mp3"
		"hammerid" "6415724"
	}
	replace:
	{
		"message" "#malgo/music/mt bur omisace/god/pendulum - under the waves 128kbps.mp3"
	}
}

modify:
{
	match:
	{
		"classname" "ambient_generic"
		"targetname" "Music_darksiders_stone2.mp3"
		"hammerid" "6020556"
	}
	replace:
	{
		"message" "#malgo/music/mt bur omisace/god/plan b - stay too long 128kbps.mp3"
	}
}

modify:
{
	match:
	{
		"classname" "ambient_generic"
		"targetname" "Music_pendulum - crush.mp3"
		"hammerid" "5526917"
	}
	replace:
	{
		"message" "#malgo/music/mt bur omisace/legend/pendulum - crush 128kbps.mp3"
	}
}

modify:
{
	match:
	{
		"classname" "ambient_generic"
		"targetname" "Music_pendulum - nothing for free.mp"
		"hammerid" "5526920"
	}
	replace:
	{
		"message" "#malgo/music/mt bur omisace/legend/pendulum - the catalyst 128kbps.mp3"
	}
}

modify:
{
	match:
	{
		"classname" "ambient_generic"
		"targetname" "Music_pendulum - watercolour.mp3"
		"hammerid" "5100274"
	}
	replace:
	{
		"message" "#malgo/music/mt bur omisace/god/pendulum - watercolour 128kbps.mp3"
	}
}

modify:
{
	match:
	{
		"classname" "ambient_generic"
		"targetname" "Music_pendulum - driver.mp3"
		"hammerid" "5046555"
	}
	replace:
	{
		"message" "#malgo/music/mt bur omisace/god/zardonic - takeover (ft the qemists) 128kbps.mp3"
	}
}

modify:
{
	match:
	{
		"classname" "ambient_generic"
		"targetname" "Music_final_fantasy_xii_jahara_land_of_the_garif.mp3"
		"hammerid" "4771990"
	}
	replace:
	{
		"message" "#malgo/music/mt bur omisace/normal/final fantasy xii - jahara, land of the garif 128kbps.mp3"
	}
}

modify:
{
	match:
	{
		"classname" "ambient_generic"
		"targetname" "Music_final_fantasy_xii_fight_to_the_death.mp3"
		"hammerid" "4772037"
	}
	replace:
	{
		"message" "#malgo/music/mt bur omisace/normal/final fantasy xii - fight to the death 128kbps.mp3"
	}
}

modify:
{
	match:
	{
		"classname" "ambient_generic"
		"targetname" "Music_final_fantasy_xii_the_guardians.mp3"
		"hammerid" "4772067"
	}
	replace:
	{
		"message" "#malgo/music/mt bur omisace/normal/brand x music - the sentinel 128kbps.mp3"
	}
}

modify:
{
	match:
	{
		"classname" "ambient_generic"
		"targetname" "Music_epic_dark_battle_music_where_is_your_god_now.mp3"
		"hammerid" "4772212"
	}
	replace:
	{
		"message" "#malgo/music/mt bur omisace/hard/final fantasy xiii - lake bresha 128kbps.mp3"
	}
}

modify:
{
	match:
	{
		"classname" "ambient_generic"
		"targetname" "Music_final_fantasy_xiii_eden_under_siege.mp3"
		"hammerid" "4772228"
	}
	replace:
	{
		"message" "#malgo/music/mt bur omisace/hard/final fantasy xii - the final act 128kbps.mp3"
	}
}

modify:
{
	match:
	{
		"classname" "ambient_generic"
		"targetname" "Music_mikolai_stroinski_sir_alonne.mp3"
		"hammerid" "4772258"
	}
	replace:
	{
		"message" "#malgo/music/mt bur omisace/extreme/most epic battle music - a new king rises 128kbps.mp3"
	}
}

modify:
{
	match:
	{
		"classname" "ambient_generic"
		"targetname" "Music_mark_petrie_makalu.mp3"
		"hammerid" "4772595"
	}
	replace:
	{
		"message" "#malgo/music/mt bur omisace/extreme/gothic storm - avenging angels 128kbps.mp3"
	}
}

modify:
{
	match:
	{
		"classname" "ambient_generic"
		"targetname" "Music_two_steps_from_hell_freefall.mp3"
		"hammerid" "4772640"
	}
	replace:
	{
		"message" "#malgo/music/mt bur omisace/insane/pendulum - immunize 128kbps.mp3"
	}
}

modify:
{
	match:
	{
		"classname" "ambient_generic"
		"targetname" "Music_immediate_music_the_mother_of_all_battles.mp3"
		"hammerid" "4772666"
	}
	replace:
	{
		"message" "#malgo/music/mt bur omisace/insane/voicians - endure 128kbps.mp3"
	}
}

modify:
{
	match:
	{
		"classname" "ambient_generic"
		"targetname" "Music_final_fantasy_xii_boss_battle_theme.mp3"
		"hammerid" "4772741"
	}
	replace:
	{
		"message" "#malgo/music/mt bur omisace/normal/final fantasy xii - fight to the death 128kbps.mp3"
	}
}

modify:
{
	match:
	{
		"classname" "ambient_generic"
		"targetname" "Music_final fantasy xiv - omega deltascape exdeath.mp3"
		"hammerid" "4772753"
	}
	replace:
	{
		"message" "#malgo/music/mt bur omisace/extreme/most epic battle music - a new king rises 128kbps.mp3"
	}
}

modify:
{
	match:
	{
		"classname" "ambient_generic"
		"targetname" "Music_two steps from hell - to glory.mp3"
		"hammerid" "4772768"
	}
	replace:
	{
		"message" "#malgo/music/mt bur omisace/insane/two steps from hell - unforgiven 128kbps.mp3"
	}
}

modify:
{
	match:
	{
		"classname" "ambient_generic"
		"targetname" "Music_darksiders_stone.mp3"
		"hammerid" "4772846"
	}
	replace:
	{
		"message" "#malgo/music/mt bur omisace/legend/kingdom come.mp3"
	}
}

modify:
{
	match:
	{
		"classname" "ambient_generic"
		"targetname" "Music_phantom power music - overpowered.mp3"
		"hammerid" "4772855"
	}
	replace:
	{
		"message" "#malgo/music/mt bur omisace/legend/stan sb - let this go 128kbps.mp3"
	}
}

modify:
{
	match:
	{
		"classname" "ambient_generic"
		"targetname" "Music_final fantasy_xii_a_moments_rest.mp3"
		"hammerid" "1606987"
	}
	replace:
	{
		"message" "#malgo/music/mt bur omisace/normal/final fantasy xii -abandoning power 128kbps.mp3"
	}
}

modify:
{
	match:
	{
		"classname" "ambient_generic"
		"targetname" "Music_voicians - so clear.mp3"
		"hammerid" "6937137"
	}
	replace:
	{
		"message" "#malgo/music/mt bur omisace/god/voicians - so clear 128kbps.mp3"
	}
}

modify:
{
	match:
	{
		"classname" "ambient_generic"
		"targetname" "Music_pendulum- nothing_for_free.mp3"
		"hammerid" "6937248"
	}
	replace:
	{
		"message" "#malgo/music/mt bur omisace/legend/pendulum - nothing for free 128kbps.mp3"
	}
}

modify:
{
	match:
	{
		"classname" "ambient_generic"
		"targetname" "Music_two steps from hell -  blood of the titan.mp3"
		"hammerid" "6937170"
	}
	replace:
	{
		"message" "#malgo/music/mt bur omisace/insane/two steps from hell - blood of the titan 128kbps.mp3"
	}
}

modify:
{
	match:
	{
		"classname" "ambient_generic"
		"targetname" "Music_zardonic - follow me.mp3"
		"hammerid" "6976560"
	}
	replace:
	{
		"message" "#malgo/music/mt bur omisace/god/zardonic - follow me 128-2.mp3"
	}
}

modify:
{
	match:
	{
		"classname" "ambient_generic"
		"targetname" "Music_qemists - lost weekend.mp3"
		"hammerid" "7017890"
	}
	replace:
	{
		"message" "#malgo/music/mt bur omisace/extreme/qemists - lost weekend 128kbps.mp3"
	}
}