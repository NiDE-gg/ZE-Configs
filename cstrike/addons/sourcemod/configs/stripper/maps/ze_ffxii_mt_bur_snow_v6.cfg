;  __  __  ____  _____ _____ ________     __
; |  \/  |/ __ \|  __ \_   _|  ____\ \   / /
; | \  / | |  | | |  | || | | |__   \ \_/ /
; | |\/| | |  | | |  | || | |  __|   \   /
; | |  | | |__| | |__| || |_| |       | |
; |_|  |_|\____/|_____/_____|_|       |_|
;		Stripper by Małgo 08.11.2024
;STRIPPER CFG BY MAŁGO https://steamcommunity.com/profiles/76561197992553990/
;---------------------------------------------------------------
;---------------------------------------
;Fix Snowman stage 1 button
;---------------------------------------
modify:
{
	match:
	{
		"targetname" "Stage1_relay"
		"classname" "logic_relay"
	}
	insert:
	{
		"OnTrigger" "Special_Event_SnowMan_Button,Unlock,,11.05,-1"
	}
}

;---------------------------------------
;Balance Behemoth Hurt Attack
;---------------------------------------
modify:
{
	match:
	{
		"targetname" "BehemothRed_Boss_Attack_Hurt"
		"classname" "trigger_hurt"
	}
	replace:
	{
		"damage" "75"
	}
}
modify:
{
	match:
	{
		"targetname" "behemothred_boss_attack_damage_part"
		"classname" "info_particle_system"
	}
	delete:
	{
		"OnUser1" "behemothred_boss_attack_hurt,SetDamage,150,0,-1"
		"OnUser1" "BehemothRed_Boss_Attack_Hurt,SetDamage,100,5,-1"
	}
	insert:
	{
		"OnUser1" "behemothred_boss_attack_hurt,SetDamage,100,0,-1"
		"OnUser1" "BehemothRed_Boss_Attack_Hurt,SetDamage,75,5,-1"
	}
}

;---------------------------------------
;Balance Shield Guardian HP
;---------------------------------------
modify:
{
	match:
	{
		"targetname" "lvl1_crystal_ending_multi"
		"classname" "trigger_multiple"
	}
	delete:
	{
		"OnStartTouch" "Shield_boss_laser_breakable,AddHealth,500,0,-1"
	}
	insert:
	{
		"OnStartTouch" "Shield_boss_laser_breakable,AddHealth,375,0,-1"
	}
}

;---------------------------------------
;Higher Mailbox text position
;---------------------------------------
modify:
{
	match:
	{
		"targetname" "Mailbox_Game_Text"
		"classname" "game_text"
	}
	replace:
	{
		"y" "0.08"
	}
}

;---------------------------------------
;Fix too fast open side gates on stage 4
;---------------------------------------
modify:
{
	match:
	{
		"targetname" "stage4_once"
		"classname" "trigger_once"
		"origin" "3804 -212 10888"
	}
	delete:
	{
		"OnTrigger" "stage4_door_004,Open,,28,-1"
		"OnTrigger" "stage4_shortcut_door,Open,,29,-1"
	}
	insert:
	{
		"OnTrigger" "stage4_door_004,Open,,25,-1"
		"OnTrigger" "stage4_shortcut_door,Open,,33,-1"
	}
}

;---------------------------------------
;Fix zm mode song
;---------------------------------------
add:
{
	"classname" "ambient_generic"
	"targetname" "ZM_Mode_Song"
	"origin" "11947 12309 -536"
	"spawnflags" "49"
	"message" "#malgo/music/omisace_v6/All_I_Want_For_Christmas_Is_Granite_Pendulum_Mariah_Carey_Mashup.mp3"
	"health" "10"
}
modify:
{
	match:
	{
		"targetname" "Stage_ZM"
		"classname" "logic_relay"
	}
	insert:
	{
		"OnTrigger" "ZM_Mode_Song,PlaySound,,4,-1"
	}
}

;---------------------------------------
;Stripper version
;---------------------------------------
modify:
{
	match:
	{
		"classname" "logic_auto"
		"hammerid" "102957"
	}
	delete:
	{
		"OnNewGame" "cmd,Command,say **Map Status: No Stripper!**,0,1"
	}
	insert:
	{
		"OnNewGame" "cmd,Command,say **Map Status: Stripper #0.1 Enable!**,0,-1"
	}
}