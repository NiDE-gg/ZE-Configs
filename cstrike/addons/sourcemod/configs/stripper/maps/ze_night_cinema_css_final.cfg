;-------------------------------------------------
; Stripper config for ze_night_cinema_css_final
; Version: 01/17/2026
;-------------------------------------------------

;-------------------------------------------------
; Chapter 0: Lower ghost HP 250x -> 200x
;-------------------------------------------------
modify:
{
	match:
	{
		"classname" "trigger_multiple"
		"targetname" "TR_ghost_gamezone"
	}
	insert:
	{
		"OnStartTouch" "TR_ghost_hbx_hp,Subtract,50,0.1,-1"
	}
}

;-------------------------------------------------
; Chapter 0: Lower ghost hurt 80 -> 60
;-------------------------------------------------
modify:
{
	match:
	{
		"classname" "trigger_hurt"
		"targetname" "TR_ghost_hurt"
	}
	replace:
	{
		"damage" "60"
	}
}

;-------------------------------------------------
; Chapter 0: Delay re-enabling hurt by 3s after ghost re-appears
;-------------------------------------------------
modify:
{
	match:
	{
		"classname" "logic_case"
		"targetname" "TR_ghost_case"
	}
	delete:
	{
		"OnCase01" "TR_ghost_hurt,Enable,,16,-1"
		"OnCase02" "TR_ghost_hurt,Enable,,16,-1"
	}
	insert:
	{
		"OnCase01" "TR_ghost_hurt,Enable,,19,-1"
		"OnCase02" "TR_ghost_hurt,Enable,,19,-1"
	}
}

;-------------------------------------------------
; Chapter 0: Increase final area push: 400 -> 650
;-------------------------------------------------
modify:
{
	match:
	{
		"classname" "trigger_push"
		"targetname" "TR_wormhole_pushCT"
	}
	replace:
	{
		"speed" "650"
	}
}

;-------------------------------------------------
; Willy Stage: At the end of the ostrich mini-game, a hurt trigger is
; activated to kill the zombie net item users in the arena. However, the
; trigger did not apply damage on the Unloze server.
; 
; Change the trigger to self-disable and un-suppress zombie attack after
; OnHurtPlayer event instead, to ensure that damage has been applied, as
; damage interval of 0.5s is not guaranteed and can be server adjusted
;-------------------------------------------------
modify:
{
	match:
	{
		"classname" "trigger_hurt"
		"targetname" "item_net_kill"
	}
	delete:
	{
		"OnStartTouch" "!self,Disable,,1,-1"
		"OnStartTouch" "suppress_attack,ModifySpeed,1.00000001,1,-1"
	}
	insert:
	{
		"OnHurtPlayer" "!self,Disable,,1,-1"
		"OnHurtPlayer" "suppress_attack,ModifySpeed,1.00000001,1,-1"
	}
}
; Also delay un-supressing the attack through the other logic paths
modify:
{
	match:
	{
		"classname" "weapon_knife"
		"targetname" "item_net_knife"
	}
	delete:
	{
		"OnPlayerPickup" "suppress_attack,ModifySpeed,1.00000001,46,-1"
	}
	insert:
	{
		"OnPlayerPickup" "suppress_attack,ModifySpeed,1.00000001,50,-1"
	}
}