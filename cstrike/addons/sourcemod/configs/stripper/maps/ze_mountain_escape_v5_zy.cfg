;fix broken output
modify:
{
	match:
	{
		"targetname" "triggerAnnihilatorShot"
		"origin" "6427 -13384 3748"
		"classname" "trigger_hurt"
	}
	delete:
	{
		"OnHurt" "casePlayMusicOrSFX,InValue,soundAnnihilatorHit,0,-1"
	}
	insert:
	{
		"OnHurtPlayer" "casePlayMusicOrSFX,InValue,soundAnnihilatorHit,0,-1"
	}
}

;--------------------------------------------------------------------
;STRIPPER CFG BY MOLTARD http://steamcommunity.com/id/0123456789ABC/
;LAST UPDATE: 05/03/2023
;--------------------------------------------------------------------
;REMOVE SCOUT ASWELL
;--------------------

modify:
{
	match:
	{
		"origin" "2872 -2040 72"
		"targetname" "timerKillAllSnipers"
		"classname" "logic_timer"
		"hammerid" "2720480"
	}
	insert:
	{
		"OnUser1" "weapon_scout,Kill,,0,-1"
	}
}
modify:
{
	match:
	{
		"origin" "2872 -1944 72"
		"targetname" "templateKillAwps"
		"classname" "point_template"
		"hammerid" "2086623"
	}
	insert:
	{
		"OnEntitySpawned" "weapon_scout,Kill,,0,-1"
	}
}

;-----------------
;BOSS FIX MESSAGE
;-----------------

modify:
{
	match:
	{
		"targetname" "boss2_come"
		"classname" "trigger_once"
		"hammerid" "2256"
	}
	delete:
	{
		"OnStartTouch" "server,Command,say ***Warning: The boss is comeback.***,0,1"
	}
	insert:
	{
		"OnStartTouch" "server,Command,say ***Warning: The boss is coming back.***,0,1"
	}
}


;-------------------
;GARBAGE STUFF EDIT
;-------------------

add:
{
	"model" "*403"
	"origin" "5631 1535 10101"
	"targetname" "AGenericGameZonePlayer"
	"classname" "game_zone_player"
}


modify:
{
	match:
	{
		"targetname" "secretdualies_buttonCock"
		"classname" "func_button"
	}
	delete:
	{
		"OnUser1" "templateAutism,Kill,,0,-1"
	}
}

modify:
{
	match:
	{
		"targetname" "templateAutism"
		"classname" "point_template"
	}
	replace:
	{
		"spawnflags" "0"
	}
	delete:
	{
		"OnEntitySpawned" "!self,Kill,,0,-1"
	}
}

add:
{
	"origin" "2808 -2232 136"
	"targetname" "whateverHatMakerLol"
	"spawnflags" "0"
	"PostSpawnDirectionVariance" "0.15"
	"PostSpawnDirection" "0 0 0"
	"EntityTemplate" "templateAutism"
	"angles" "0 0 0"
	"classname" "env_entity_maker"
}

;------------------
;FIX SPECIAL MODES
;------------------

; Missing Output

modify:
{
	match:
	{
		"targetname" "caseSuperMode_Decode"
		"classname" "logic_case"
		"hammerid" "2797535"
	}
	insert:
	{
		"OnCase02" "mode3,Kill,,0,-1"
	}
}

; Missing output
; Remove moving texture
; Fix wrong echo messages 

modify:
{
	match:
	{
		"targetname" "caseGlitchMode_Decode"
		"classname" "logic_case"
		"hammerid" "4081224"
	}
	delete:
	{
		"OnCase08" "caseRandomizeBreathingTexture,PickRandom,,0,1"
		"OnCase01" "server,Command,echo [MNT ESCAPE]: One kill detected - Three more to go for GlitchMode.,0,1"
		"OnCase02" "server,Command,echo [MNT ESCAPE]: Two kills detected - Two more to go for GlitchMode.,0,1"
		"OnCase03" "server,Command,echo [MNT ESCAPE]: Three kills detected - One more to go for GlitchMode.,0,1"
		"OnCase04" "server,Command,echo [MNT ESCAPE]: Four kills detected - One more to go for GlitchMode.,0,1"
		"OnCase05" "server,Command,echo [MNT ESCAPE]: Five kills detected - One more to go for GlitchMode.,0,1"
		"OnCase06" "server,Command,echo [MNT ESCAPE]: Six kills detected - One more to go for GlitchMode.,0,1"
		"OnCase07" "server,Command,echo [MNT ESCAPE]: Seven kills detected - One more to go for GlitchMode.,0,1"
	}
	insert:
	{
		"OnCase08" "mode3,Kill,,0,-1"
		"OnCase01" "server,Command,echo [MNT ESCAPE]: One kill detected - Seven more to go for GlitchMode.,0,1"
		"OnCase02" "server,Command,echo [MNT ESCAPE]: Two kills detected - Six more to go for GlitchMode.,0,1"
		"OnCase03" "server,Command,echo [MNT ESCAPE]: Three kills detected - Five more to go for GlitchMode.,0,1"
		"OnCase04" "server,Command,echo [MNT ESCAPE]: Four kills detected - Four more to go for GlitchMode.,0,1"
		"OnCase05" "server,Command,echo [MNT ESCAPE]: Five kills detected - Three more to go for GlitchMode.,0,1"
		"OnCase06" "server,Command,echo [MNT ESCAPE]: Six kills detected - Two more to go for GlitchMode.,0,1"
		"OnCase07" "server,Command,echo [MNT ESCAPE]: Seven kills detected - One more to go for GlitchMode.,0,1"
	}
}

; Add CaseXX for ease

modify:
{
	match:
	{
		"targetname" "caseGlitchMode_ModeModes"
		"classname" "logic_case"
		"hammerid" "4276142"
	}
	insert:
	{
		"Case01" "Zone"
		"Case02" "Balls"
		"Case03" "Missing"
		"Case04" "Pirates"
	}
}

; logic_case to force mode for current round

add:
{
	"origin" "2169 -2420 137"
	"targetname" "Stripper_TriggerBossMode"
	"spawnflags" "0"
	"classname" "logic_relay"
	"OnTrigger" "modePicker,FireUser1,,0,1"
	"OnTrigger" "mode,Kill,,0,1"
	"OnTrigger" "mode2,Kill,,0,1"
	"OnTrigger" "mode3,Kill,,0,1"
}
add:
{
	"origin" "2904 -2216 72"
	"targetname" "Stripper_SelectWeird"
	"Case01" "Zone"
	"Case02" "Balls"
	"Case03" "Missing"
	"Case04" "Pirates"
	"classname" "logic_case"
	"OnCase01" "!self,FireUser1,,0,1"
	"OnCase02" "!self,FireUser1,,0,1"
	"OnCase03" "!self,FireUser1,,0,1"
	"OnCase04" "!self,FireUser1,,0,1"
	"OnCase01" "caseGlitchMode_ModeModes,InValue,Zone,0,1"
	"OnCase02" "caseGlitchMode_ModeModes,InValue,Balls,0,1"
	"OnCase03" "caseGlitchMode_ModeModes,InValue,Missing,0,1"
	"OnCase04" "caseGlitchMode_ModeModes,InValue,Pirates,0,1"
	"OnUser1" "mode,Kill,,0,1"
	"OnUser1" "mode2,Kill,,0,1"
	"OnUser1" "mode3,Kill,,0,1"
}
add:
{
	"origin" "2904 -2216 72"
	"targetname" "Stripper_SelectSuper"
	"Case01" "NightmareInSilentHill"
	"Case02" "FinalFight"
	"Case03" "MakoTirith"
	"Case04" "ReallyBadWeather"
	"Case05" "ApocalypseWow"
	"Case06" "Weird"
	"classname" "logic_case"
	"OnCase01" "!self,FireUser1,,0,1"
	"OnCase02" "!self,FireUser1,,0,1"
	"OnCase03" "!self,FireUser1,,0,1"
	"OnCase04" "!self,FireUser1,,0,1"
	"OnCase05" "!self,FireUser1,,0,1"
	"OnCase06" "!self,FireUser1,,0,1"
	"OnCase01" "caseSuperMode_ModeModes,InValue,NightmareInSilentHill,0,1"
	"OnCase02" "caseSuperMode_ModeModes,InValue,FinalFight,0,1"
	"OnCase03" "caseSuperMode_ModeModes,InValue,MakoTirith,0,1"
	"OnCase04" "caseSuperMode_ModeModes,InValue,ReallyBadWeather,0,1"
	"OnCase05" "caseSuperMode_ModeModes,InValue,ApocalypseWow,0,1"
	"OnCase06" "caseSuperMode_ModeModes,InValue,Weird,0,1"
	"OnUser1" "mode,Kill,,0,1"
	"OnUser1" "mode2,Kill,,0,1"
	"OnUser1" "mode3,Kill,,0,1"
}


; logic_relay to set mode for next round

add:
{
	"origin" "2169 -2420 137"
	"targetname" "Stripper_NextBossMode"
	"spawnflags" "0"
	"classname" "logic_relay"
	"OnTrigger" "mountainescape,AddOutput,OnUser1 modePicker:FireUser1::0:1,0,-1"
	"OnTrigger" "mountainescape,AddOutput,OnUser1 mode:Kill::0:1,0,-1"
	"OnTrigger" "mountainescape,AddOutput,OnUser1 mode2:Kill::0:1,0,-1"
	"OnTrigger" "mountainescape,AddOutput,OnUser1 mode3:Kill::0:1,0,-1"
}
add:
{
	"origin" "2169 -2420 137"
	"targetname" "Stripper_NextWeirdMode"
	"spawnflags" "0"
	"classname" "logic_relay"
	"OnTrigger" "mountainescape,AddOutput,OnUser2 mathGlitchMode_Test:Add:8:0:1,0,-1"
}
add:
{
	"origin" "2169 -2420 137"
	"targetname" "Stripper_NextSuperMode"
	"spawnflags" "0"
	"classname" "logic_relay"
	"OnTrigger" "mountainescape,AddOutput,OnUser2 mathSuperMode_Test:Add:2:0:1,0,-1"
}

;-------------------
;TRAIN MODE CHANGES
;-------------------

modify:
{
	match:
	{
		"origin" "2968 -2168 72"
		"targetname" "relayMode_Train"
		"classname" "logic_relay"
		"hammerid" "4578258"
	}
;	delete:
;	{
;		"OnTrigger" "caseShouldWeSpawnLauncher,PickRandom,,0,1"
;	}
	insert:
	{
;		"OnTrigger" "caseRandomizeLauncher,PickRandom,,1,1"
		"OnTrigger" "server,Command,say ***You might want to shoot the trains to destroy them before it's too late***,5,1"
	}
}

;-------------------
;PREDATOR HP CHANGE
;-------------------
modify:
{
	match:
	{
		"targetname" "fboss_math_1"
		"classname" "math_counter"
		"hammerid" "92532"
	}
	replace:
	{
		"max" "10000"
	}
}
modify:
{
	match:
	{
		"targetname" "fboss_math_2"
		"classname" "math_counter"
		"hammerid" "92534"
	}
	replace:
	{
		"max" "10000"
	}
}

;------------------
;HELICOPTER HEALTH
;------------------

modify:
{
	match:
	{
		"model" "*110"
		"hammerid" "56917"
		"classname" "func_physbox"
		"targetname" "Hubschrauber02"
	}
	replace:
	{
		"health" "50000"
	}
	insert:
	{
		"OnBreak" "stripper_heli_explode,Explode,,0,1"
		"OnBreak" "!self,FireUser1,,0,1"
	}
}
add:
{
	"classname" "env_explosion"
	"targetname" "stripper_heli_explode"
	"origin" "7624 -12448 8554"
	"iRadiusOverride" "1500"
	"iMagnitude" "500"
}
modify:
{
	match:
	{
		"hammerid" "29485"
		"classname" "game_ui"
		"targetname" "Steuerung02"
	}
	insert:
	{
		"PlayerOn" "stripper_heli_filter,TestActivator,,0,1"
	}
}
add:
{
	"classname" "filter_activator_team"
	"targetname" "stripper_heli_filter"
	"origin" "7624 -12448 8554"
	"filterteam" "2"
	"OnPass" "Hubschrauber02,AddOutput,rendercolor 255 0 0,0,1"
	"OnFail" "Hubschrauber02,AddOutput,rendercolor 0 0 255,0,1"
	"OnPass" "Hubschrauber02,SetHealth,3000,0,1"
	"OnFail" "Hubschrauber02,SetHealth,1500,0,1"
	"OnPass" "!self,Kill,,0,1"
	"OnPass" "!self,Kill,,0,1"
}
modify:
{
	match:
	{
		"hammerid" "29501"
		"classname" "point_template"
		"targetname" "templateHelicopter"
	}
	insert:
	{
		"Template14" "stripper_heli_explode"
		"Template15" "stripper_heli_filter"
	}
}

;--------------------
;ZH FIX ZOMBIE COUNT
;--------------------

filter:
{
	"targetname" "PlayerCounter"
	"classname" "game_zone_player"
	"hammerid" "712672"
}

add:
{
	"model" "*178"
	"wait" "1"
	"targetname" "PlayerCounter"
	"StartDisabled" "1"
	"spawnflags" "1"
	"origin" "270 -784 5167.41"
	"classname" "trigger_multiple"
	"OnStartTouch" "ZHZombiesCounter,Add,4,0,-1"
}

modify:
{
	match:
	{
		"targetname" "templateZombieHorde"
		"classname" "point_template"
		"hammerid" "946917"
	}
	delete:
	{
		"OnEntitySpawned" "PlayerCounter,CountPlayersInZone,,0.1,1"
	}
	insert:
	{
		"OnEntitySpawned" "PlayerCounter,Enable,,0.1,1"
		"OnEntitySpawned" "PlayerCounter,Kill,,0.2,1"
	}
}

;-------------------
;ZH NO SUDDEN DEATH
;-------------------

modify:
{
	match:
	{
		"targetname" "relayMode_ZombieHorde"
		"classname" "logic_relay"
		"hammerid" "4578168"
	}
	insert:
	{
		"OnTrigger" "relaySpawnZWeapons,Kill,,0,1"
	}
}



;-----------------
;CLEAN LOGIC_AUTO 
;-----------------

filter:
{
	"origin" "2824 -2232 72"
	"classname" "logic_auto"
	"hammerid" "1815"
}

; Permanent logic_case (check the Stripper_Event_Init) for different song each round
add:
{
	"origin" "2904 -2216 72"
	"targetname" "SuperRNG_Music"
	"classname" "logic_case"
	"OnCase01" "bgm,AddOutput,message #bgm/9000_miles.mp3,0,-1"
	"OnCase02" "bgm,AddOutput,message #bgm/zgc_ms.mp3,0,-1"
	"OnCase03" "bgm,AddOutput,message #syoudous/inbound.mp3,0,-1"
	"OnCase04" "bgm,AddOutput,message #bgm/inbound2.mp3,0,-1"
	"OnCase05" "bgm,AddOutput,message #mapmusic/bonemill.mp3,0,-1"
	"OnCase06" "bgm,AddOutput,message #bgm/stayingalive.mp3,0,-1"
	"OnCase07" "bgm,AddOutput,message #syoudous/blues.mp3,0,-1"
	"OnCase08" "bgm,AddOutput,message #bgm/hell.mp3,0,-1"
	"OnCase09" "bgm,AddOutput,message #syoudous/valkyries.mp3,0,-1"
	"OnCase10" "bgm,AddOutput,message #bgm/the_fountain.mp3,0,-1"
	"OnCase11" "bgm,AddOutput,message #luff_medusa/mboss_1.mp3,0,-1"
}

add:
{
	"origin" "2824 -2232 88"
	"spawnflags" "1"
	"classname" "logic_auto"

	; -- Init entities and stuff -- 
	"OnMapSpawn" "Stripper_Event_Init,FireUser1,,0,1"
	"OnMapSpawn" "templateStart,ForceSpawn,,0,1"
	"OnMapSpawn" "templateTeleportDestination,FireUser1,,0,1"
	"OnMapSpawn" "caseShouldWeSpawn3DSkyTower,PickRandom,,0,1"
	"OnMapSpawn" "server,Command,echo [MNT ESCAPE]: Checking spawn...,0,1"
	
	; -- Music Stuff --
	"OnMapSpawn" "SuperRNG_Music,PickRandomShuffle,,0.06,1"
	"OnMapSpawn" "bgm,PlaySound,,5,1"
	"OnMapSpawn" "templatePlayMusic,ForceSpawn,,4,1"

	; -- Mode Picker -- 
	"OnMapSpawn" "server,Command,say ***ZE_MOUNTAIN_ESCAPE***,2,1"
	"OnMapSpawn" "server,Command,say ***Game mode loading...***,10,1"
	"OnMapSpawn" "server,Command,say ***.***,11,1"
	"OnMapSpawn" "server,Command,say ***..***,12,1"
	"OnMapSpawn" "server,Command,say ***...***,13,1"
	"OnMapSpawn" "Stripper_Event_Branch,FireUser1,,0.1,1" ; Pick the mode after 14 seconds
	
	; -- Admin Buttons Init -- 
	"OnMapSpawn" "templateAdminButton,ForceSpawn,,1,1"
	"OnMapSpawn" "admin_button,Kill,,19,1"
	"OnMapSpawn" "Stripper_Event_Branch,FireUser2,,19,1"

	; -- Clean Player -- 
	"OnMapSpawn" "player,FireUser2,,0.01,1"
	"OnMapSpawn" "player,AddOutput,renderamt 255,0,1"
	"OnMapSpawn" "player,AddOutput,OnUser2 point_viewcontrol:Disable::0:1,0,1"
	"OnMapSpawn" "player,AddOutput,rendermode 0,0,1"
	"OnMapSpawn" "player,AddOutput,gravity 1,0,1"
	"OnMapSpawn" "player,AddOutput,OnUser2 point_viewcontrol:Disable::0:1,0.05,1"
	"OnMapSpawn" "player,FireUser3,,0,1"
	"OnMapSpawn" "player,AddOutput,targetname ,0.05,1"
	"OnMapSpawn" "triggerIMAPARANOIDFUCKERANDYOULIKEDICKS,Kill,,14,1"
	
	; -- FadeOut -- 
	"OnMapSpawn" "relayHidingPlayersAndShitUltramegamixsupercombo,FireUser3,,0,1"
	"OnMapSpawn" "BlackBox,Alpha,0,0,1"
	"OnMapSpawn" "fogDarkness_Cooldown,AddOutput,targetname fogDarkness,0,1"
	"OnMapSpawn" "fogDarkness,TurnOff,,0.1,1"
	"OnMapSpawn" "caseFadeOutput,InValue,fadeMode,0,1"

	; -- Servercommand -- 
	"OnMapSpawn" "server,Command,mp_roundtime 9,0,1"
	"OnMapSpawn" "server,Command,mp_buytime 0.50,0,1"
	"OnMapSpawn" "server,Command,mp_freezetime 4,0,1"
	"OnMapSpawn" "server,Command,sv_stopspeed 75,0.02,1"
	"OnMapSpawn" "server,Command,sv_turbophysics 0,0.04,1"
	"OnMapSpawn" "server,Command,sv_friction 4,0.04,1"
	"OnMapSpawn" "server,Command,sv_gravity 800,0.06,1"
	"OnMapSpawn" "server,Command,sv_accelerate 5,0.1,1"
	"OnMapSpawn" "server,Command,sv_airaccelerate 150,0.1,1"

	"OnMapSpawn" "server,Command,zr_infect_mzombie_respawn 1,0.08,1"
	"OnMapSpawn" "server,Command,zr_infect_mzombie_ratio 5,0.09,1"
	"OnMapSpawn" "server,Command,zr_infect_spawntime_min 16,0.12,1"
	"OnMapSpawn" "server,Command,zr_infect_spawntime_max 16,0.13,1"
	"OnMapSpawn" "server,Command,zr_infect_weapons_drop 0,0.1,1"
	"OnMapSpawn" "server,Command,zr_zspawn 1,0,1"
	"OnMapSpawn" "server,Command,zr_respawn_delay 2,0.1,1"
	"OnMapSpawn" "server,Command,zr_respawn 1,0.1,1"
	"OnMapSpawn" "server,Command,zr_respawn_team_zombie 1,0.1,1"
	"OnMapSpawn" "server,Command,zr_respawn_team_zombie_world 1,0.1,1"
	"OnMapSpawn" "server,Command,zr_class_modify zombies speed 335,0.1,1"
	"OnMapSpawn" "server,Command,zr_class_modify zombies health 4000,0.11,1"
	"OnMapSpawn" "server,Command,zr_class_modify zombies knockback 1.0 1,0.02,1"
	"OnMapSpawn" "server,Command,zr_class_modify zombies health_regen_amount 1.0 1,0.02,1"
	"OnMapSpawn" "server,Command,zr_class_modify zombies health_infect_gain 1.0 1 ,0.02,1"
	"OnMapSpawn" "server,Command,zr_ambientsounds_volume 0.3,0.1,1"
	
	; "OnMapSpawn" "server,Command,zr_weapons_zmarket_buyzone 1,0.08,1" ; Disabled
	
	"OnMapSpawn" "server,Command,ammo_flashbang_max 0,0,1"
	"OnMapSpawn" "server,Command,zr_restrict flashbang,0.8,1"
	"OnMapSpawn" "server,Command,zr_unrestrict scout,0.8,1"
	"OnMapSpawn" "server,Command,zr_unrestrict aug,0.8,1"

	"OnMapSpawn" "server,Command,exec mountain_escape,4,-1"
	"OnMapSpawn" "server,Command,echo [ MNT ESCAPE ]: Executing mountain_escape.cfg.,4,-1"


	; -- Name reset for safety (doesnt matter) -- 
	"OnMapSpawn" "mode_temp,AddOutput,targetname mode,0,1"
	"OnMapSpawn" "mode2_temp,AddOutput,targetname mode2,0,1"
	"OnMapSpawn" "mode3_temp,AddOutput,targetname mode3,0,1"
	"OnMapSpawn" "modepicker_temp,AddOutput,targetname modepicker,0,1"
	"OnMapSpawn" "casesupermode_modemodes_temp,AddOutput,targetname casesupermode_modemodes,0,1"

	; -- Special Modes checks -- 
	"OnMapSpawn" "mathGlitchMode_Test,GetValue,,3.2,1"
	"OnMapSpawn" "mathSuperMode_Test,GetValue,,3.15,1"

	; -- Reset Colorcorrection -- 
	"OnMapSpawn" "ccMountainEscape,FireUser1,,0,1"

	; -- Reset Ramps and Paths -- 
	"OnMapSpawn" "toggleshitnormal_way,Enable,,0.02,1"
	"OnMapSpawn" "toggleshit_ZH,Enable,,0,1"
	"OnMapSpawn" "toggleshit_waterfloodZH,Enable,,0.03,1"
	"OnMapSpawn" "toggleshit_waterfloodXtra,Enable,,0.03,1"
	"OnMapSpawn" "toggleshit_waterflood,Enable,,0.03,1"
	"OnMapSpawn" "wallFlood,Alpha,0,0,1"
	"OnMapSpawn" "toggleshit_way_blocks_*,Disable,,0,1"
	"OnMapSpawn" "toggleshit_way_fastrampup,Enable,,0,1"
	"OnMapSpawn" "toggleshit_way_endrampup_01,Enable,,0,1"
	"OnMapSpawn" "toggleshit_way_endrampup_02,Enable,,0,1"
	"OnMapSpawn" "toggleshit_waterfloodHeli,Enable,,0.03,1"
	"OnMapSpawn" "brush_NoUpperAreas,Disable,,0,1"

	; -- Reset Boss wall and stuff -- 
	"OnMapSpawn" "boss_helicopter_wall,Disable,,0.01,1"
	"OnMapSpawn" "boss_push_wall,Disable,,0.14,1"
	"OnMapSpawn" "boss_wall,Disable,,0.15,1"
	"OnMapSpawn" "buyzoneBoss,Disable,,0,1"

	; -- Chopper Stuff -- 
	"OnMapSpawn" "relaySpawnHelicopters,Trigger,,1,1"
	"OnMapSpawn" "relayNoFuelHelicopter*,Trigger,,240,1"
	"OnMapSpawn" "relayNoFuelTurtleAirboat*,Trigger,,240,1"
	"OnMapSpawn" "server,Command,echo [MNT ESCAPE]: Attempting to kill Helicopters and Turtle Boats.,240,1"
		; -> Old Delay was 300 (now 240)

	; -- Sudden Death trigger -- 
	"OnMapSpawn" "relaySpawnZWeapons,FireUser4,,300,1"
		; -> Old Delay was 420 (now 300)

	; -- Nazgul stuff -- 
	"OnMapSpawn" "gamezone_PlayMusic,AddOutput,OnPlayerOutZone math32PlayersOrMore:Add:1:0:-1,4.02,1"
	"OnMapSpawn" "item_nazgul_Template,AddOutput,origin 5171 -1233 3592,0,1"

	; -- Clean Worldspawn -- 
	"OnMapSpawn" "mountainescape,FireUser1,,3,1"
	"OnMapSpawn" "mountainescape,FireUser2,,3,1"
	"OnMapSpawn" "server,Command,echo [MNT ESCAPE]: Flushing out world spawn...,1.5,1"
	"OnMapSpawn" "mountainescape,FireUser3,,0,1"
	"OnMapSpawn" "mountainescape,FireUser4,,0,1"

	; -- Vip Stuff reset -- 
	"OnMapSpawn" "brushVIPSelection,Disable,,0,1"
	"OnMapSpawn" "brushVIPSelection,Disable,,20,1"

	; -- Medusa stuff reset -- 
	"OnMapSpawn" "mboss_camera,AddOutput,origin 1952 -1922 172,0,1"
	"OnMapSpawn" "mboss_camera,AddOutput,target triggerResetCamera_Safety,0,1"
	"OnMapSpawn" "mboss_camera,AddOutput,angles 0 270 0,0,1"
	"OnMapSpawn" "mboss_camera,Disable,,0,1"

	; -- Reset textures modifications -- 
	"OnMapSpawn" "vmtmodify_MapTextures,SetMaterialVar,0,0,1"
	"OnMapSpawn" "TogglingRadarShit_Nada,AddOutput,targetname TogglingRadarShit,0,1"
	"OnMapSpawn" "TogglingToggleShit,SetTextureIndex,0,0,1"
	"OnMapSpawn" "TogglingSkyboxShit,SetTextureIndex,0,0,1"
	"OnMapSpawn" "TogglingRadarShit,SetTextureIndex,1,0,1"
	"OnMapSpawn" "TogglingRadarShit,SetTextureIndex,0,3,1"
	"OnMapSpawn" "ToggleShit,FireUser1,,0,1"

	; -- Mexican Hat button & other stuff -- 
	"OnMapSpawn" "secretdualies_buttonCock,FireUser1,,8,1"
	"OnMapSpawn" "caseShouldWeSpawnModelizer,PickRandom,,3,1"
	"OnMapSpawn" "caseShouldWeSpawnPooper,PickRandom,,6,1"
	
}


;--------------------------------------
;EVENT MODE: All Modes played in order
;--------------------------------------

add:
{
	"targetname" "Stripper_Event_Init"
	"origin" "2552 -2536 840"
	"classname" "info_target"
	"OnUser1" "Template_PermStripperEventMode,ForceSpawn,,0,1"
	"OnUser1" "Stripper_Event_Branch,AddOutput,classname info_target,0.03,1"
	"OnUser1" "Stripper_Event_Info_Branch,AddOutput,classname info_target,0.03,1"
	"OnUser1" "Stripper_Event_Counter,AddOutput,classname info_target,0.03,1"
	"OnUser1" "SuperRNG_Music,AddOutput,classname info_target,0.03,1"
	"OnUser1" "!self,Kill,,0.06,1"
}

add:
{
	"targetname" "Template_PermStripperEventMode"
	"origin" "2552 -2536 776"
	"Template01" "Stripper_Event_Counter"
	"Template02" "Stripper_Event_Info_Branch"
	"Template03" "Stripper_Event_Branch"
	"Template04" "SuperRNG_Music"
	"spawnflags" "2"
	"classname" "point_template"
	"OnEntitySpawned" "!self,Kill,,0,-1"
}

add:
{
	"origin" "2552 -2536 824"
	"targetname" "Stripper_Event_Counter"
	"startvalue" "1"
	"min" "1"
	"max" "48"
	"classname" "math_counter"
	"OutValue" "Stripper_Event_CaseInfo,InValue,,0,-1"
	"OutValue" "Stripper_Event_Text,Display,,0.03,-1"
	"OutValue" "Stripper_Event_Compare,SetValueCompare,,0,-1"
	"OnGetValue" "Stripper_Event_CaseMode,InValue,,0,-1"
	"OnGetValue" "Stripper_Event_Compare,SetValueCompare,,0,-1"
}

add:
{
	"targetname" "Stripper_Event_Branch"
	"origin" "2552 -2536 808"
	"InitialValue" "0"
	"classname" "logic_branch"
	"OnFalse" "modePicker,PickRandom,,13.9,-1"
	
	"OnTrue" "server,Command,say *** [EVENT MODE ON] ***,5,-1"
	"OnTrue" "server,Command,echo [MNT ESCAPE] EVENT MODE ON,5,-1"
	"OnTrue" "Stripper_Event_EndModeBranch,SetValue,1,0,-1"
	"OnTrue" "Stripper_Event_ZH_EndModeBranch,SetValue,1,0,-1"
	
	"OnTrue" "templateAdminButton,Kill,,0,-1" ; Dont spawn the admin buttons to not mess with the system
	"OnTrue" "relayMode_*,Enable,,0,-1" ; Enable Every Mode
	"OnTrue" "mathGlitchMode_Test,Kill,,0,-1" ; Prevent Weird Modes from triggering
	"OnTrue" "mathSuperMode_Test,Kill,,0,-1" ; Prevent Super Modes from triggering
	"OnTrue" "Stripper_Event_Counter,GetValue,,13.9,-1" ; Pick the current Mode

	"OnUser1" "!self,Test,,0,-1"
	"OnUser1" "Stripper_Event_CaseMode,AddOutput,targetname Stripper_Event_CaseMode_temp,0,-1"
	"OnUser1" "Stripper_Event_Counter,GetValue,,0.1,-1"
	"OnUser1" "Stripper_Event_CaseMode_temp,AddOutput,targetname Stripper_Event_CaseMode,0.2,-1"

	"OnUser2" "Stripper_Event_Toggle,Kill,,0,-1"
	"OnUser2" "Stripper_Event_Subtract,Kill,,0,-1"
	"OnUser2" "Stripper_Event_Add,Kill,,0,-1"
	"OnUser2" "Stripper_Event_Text,Kill,,2,-1"
}

add:
{
	"targetname" "Stripper_Event_Info_Branch"
	"origin" "2552 -2536 792"
	"InitialValue" "0"
	"classname" "logic_branch"
	"OnFalse" "server,Command,say *** EVENT MODE IS DISABLED. Press the button again to Enable it ***,0,-1"
	"OnFalse" "Stripper_Event_Toggle,AddOutput,OnUseLocked server:Command:say *** [EVENT MODE ON] ***:0:1,0,-1"
	"OnFalse" "Stripper_Event_Toggle,AddOutput,OnUseLocked server:Command:echo [MNT ESCAPE] EVENT MODE ON:0:1,0,-1"
	"OnTrue" "server,Command,say *** EVENT MODE IS ENABLED. Press the button again to Disable it ***,0,-1"
	"OnTrue" "Stripper_Event_Toggle,AddOutput,OnUseLocked server:Command:say *** [EVENT MODE OFF] ***:0:1,0,-1"
	"OnTrue" "Stripper_Event_Toggle,AddOutput,OnUseLocked server:Command:echo [MNT ESCAPE] EVENT MODE OFF:0:1,0,-1"
}

; Monkey & Castle & Medieval mode ignored

add:
{
	"origin" "2552 -2536 872"
	"targetname" "Stripper_Event_CaseMode"
	"Case01" "1"
	"Case02" "2"
	"Case03" "3"
	"Case04" "4"
	"Case05" "5"
	"Case06" "6"
	"Case07" "7"
	"Case08" "8"
	"Case09" "9"
	"Case10" "10"
	"Case11" "11"
	"Case12" "12"
	"Case13" "13"
	"Case14" "14"
	"Case15" "15"
	"Case16" "16"
	"classname" "logic_case"
	"OnCase01" "caseDoWeReallyWantToPlayNormalMode,AddOutput,targetname WeOnlyWantTheNormalMode,0,-1"
	"OnCase01" "relayMode_Normal,Trigger,,0.03,-1"
	"OnCase01" "WeOnlyWantTheNormalMode,InValue,ya,0.03,-1"
	"OnCase02" "relayMode_Massacre,Trigger,,0,-1"
	"OnCase03" "relayMode_Classic,Trigger,,0,-1"
	"OnCase04" "relayMode_FFVII,Trigger,,0,-1"
	"OnCase05" "relayMode_SilentHill,Trigger,,0,-1"
	"OnCase06" "relayMode_Space,Trigger,,0,-1"
	"OnCase07" "relayMode_Train,Trigger,,0,-1"
	"OnCase08" "caseWhatBossShouldWeSpawn,FireUser1,,0,-1"
	"OnCase08" "server,Command,say *** BOSS MODE - MOUNTAIN ESC. ***,0,-1"
	"OnCase09" "relayMode_Tornado,Trigger,,0,-1"
	"OnCase10" "relayMode_Depression,Trigger,,0,-1" 
	"OnCase11" "relayMode_SpaceMassacre,Trigger,,0,-1"
	"OnCase12" "relayMode_Flood,Trigger,,0,-1"
	"OnCase13" "relayMode_TriggerMadness,Trigger,,0,-1"
	"OnCase14" "relayMode_Face2Face,Trigger,,0,-1"
	"OnCase15" "relayMode_Turtle,Trigger,,0,-1"
	"OnCase16" "relayMode_Asedium,Trigger,,0,-1"
	"OnCase16" "triggerSuperMode_FilterCTs,Kill,,0,-1"
}
add:
{
	"origin" "2552 -2536 872"
	"targetname" "Stripper_Event_CaseMode"
	"Case01" "17"
	"Case02" "18"
	"Case03" "19"
	"Case04" "20"
	"Case05" "21"
	"Case06" "22"
	"Case07" "23"
	"Case08" "24"
	"Case09" "25"
	"Case10" "26"
	"Case11" "27"
	"Case12" "28"
	"Case13" "29"
	"Case14" "30"
	"Case15" "31"
	"Case16" "32"
	"classname" "logic_case"
	"OnCase01" "caseWhatBossShouldWeSpawn,FireUser3,,0,-1"
	"OnCase01" "server,Command,say *** BOSS MODE - BAHAMUT ***,0,-1"
	"OnCase02" "relayMode_KnockbackMadness,Trigger,,0,-1"
	"OnCase03" "relayMode_ZombieHorde,Trigger,,0,-1"
	"OnCase04" "relayMode_Carnival,Trigger,,0,-1"
	"OnCase05" "relayMode_UFO,Trigger,,0,-1"
	"OnCase06" "relayMode_MonkeyMassacre,Trigger,,0,-1"
	"OnCase07" "relayMode_AllItems,Trigger,,0,-1"
	"OnCase08" "relayMode_OneWay,Trigger,,0,-1"
	"OnCase09" "caseWhatBossShouldWeSpawn,FireUser2,,0,-1"
	"OnCase09" "server,Command,say *** BOSS MODE - PREDATOR ***,0,-1"
	"OnCase10" "relayMode_Hell,Trigger,,0,-1"
	"OnCase10" "triggerSuperMode_FilterCTs,Kill,,0,-1"
	"OnCase11" "relayMode_Pirates,Trigger,,0,-1"
	"OnCase12" "caseSuperMode_ModeModes,InValue,ApocalypseWow,0,-1"
	"OnCase13" "relayMode_Explosive,Trigger,,0,-1"
	"OnCase14" "relayMode_ZM,Trigger,,0,-1"
	"OnCase15" "relayMode_HoldEm,Trigger,,0,-1"
	"OnCase16" "relayMode_SpaceFFVII,Trigger,,0,-1"
}
add:
{
	"origin" "2552 -2536 872"
	"targetname" "Stripper_Event_CaseMode"
	"Case01" "33"
	"Case02" "34"
	"Case03" "35"
	"Case04" "36"
	"Case05" "37"
	"Case06" "38"
	"Case07" "39"
	"Case08" "40"
	"Case09" "41"
	"Case10" "42"
	"Case11" "43"
	"Case12" "44"
	"Case13" "45"
	"Case14" "46"
	"Case15" "47"
	"Case16" "48"
	"classname" "logic_case"
	"OnCase01" "relayMode_Missing,Trigger,,0,-1"
	"OnCase02" "caseWhatBossShouldWeSpawn,FireUser4,,0,-1"
	"OnCase02" "server,Command,say *** BOSS MODE - PAPER ***,0,-1"
	"OnCase03" "relayMode_Arena,Trigger,,0,-1"
	"OnCase04" "relayMode_ZoneMode,Trigger,,0,-1"
	"OnCase05" "relayMode_Halloween,Trigger,,0,-1"
	"OnCase06" "caseSuperMode_ModeModes,InValue,ReallyBadWeather,0,-1"
	"OnCase07" "relayMode_Forest,Trigger,,0,-1"
	"OnCase08" "caseSuperMode_ModeModes,InValue,FinalFight,0,-1"
	"OnCase09" "relayMode_MoreBalls,Trigger,,0,-1"
	"OnCase10" "caseSuperMode_ModeModes,InValue,MakoTirith,0,-1"
	"OnCase11" "relayMode_VIP,Trigger,,0,-1"
	"OnCase11" "Stripper_Event_DetectCTs,Kill,,0,-1"
	"OnCase12" "caseSuperMode_ModeModes,InValue,NightmareInSilentHill,0,-1"
	"OnCase13" "relayMode_LordsOfDestruction,Trigger,,0,-1"
	"OnCase13" "triggerSuperMode_FilterCTs,Kill,,0,-1"
	"OnCase14" "caseSuperMode_ModeModes,InValue,Weird,0,-1"
	"OnCase15" "relayMode_ItemRush,Trigger,,0,-1"
	"OnCase16" "caseWhatBossShouldWeSpawn,InValue,Medusa,0,-1"
	"OnCase16" "server,Command,say *** BOSS MODE - MEDUSA ***,0,-1"
	"OnCase16" "Stripper_Event_EndModeBranch,AddOutput,OnTrue server:Command:say *** YOU DID IT ! YOU BEAT THE FINAL LEVEL ! ***:0:1,0,-1"
	"OnCase16" "Stripper_Event_EndModeBranch,AddOutput,OnTrue server:Command:say *** YOU ARE THE TRUE MOUNTAIN ESCAPERS OF THE LEGEND ! ***:1:1,0,-1"
	"OnCase16" "Stripper_Event_EndModeBranch,AddOutput,OnTrue server:Command:say *** [EVENT MODE OFF] ***:2:1,0,-1"
	"OnCase16" "Stripper_Event_EndModeBranch,AddOutput,OnTrue Stripper_Event_Branch:SetValue:0:0:1,0,-1"
	"OnCase16" "Stripper_Event_EndModeBranch,AddOutput,OnTrue Stripper_Event_Info_Branch:SetValue:0:0:1,0,-1"
}


add:
{
	"targetname" "Stripper_Event_Text"
	"origin" "2552 -2536 888"
	"channel" "5"
	"color" "255 0 0"
	"color2" "255 0 0"
	"fadein" ".1"
	"fadeout" ".1"
	"holdtime" "2"
	"message" "#ERROR"
	"x" "-1"
	"y" ".25"
	"classname" "game_text"
}
add:
{
	"origin" "2552 -2536 872"
	"targetname" "Stripper_Event_CaseInfo"
	"Case01" "1"
	"Case02" "2"
	"Case03" "3"
	"Case04" "4"
	"Case05" "5"
	"Case06" "6"
	"Case07" "7"
	"Case08" "8"
	"Case09" "9"
	"Case10" "10"
	"Case11" "11"
	"Case12" "12"
	"Case13" "13"
	"Case14" "14"
	"Case15" "15"
	"Case16" "16"
	"classname" "logic_case"
	"OnCase01" "Stripper_Event_Text,AddOutput,message [1] Normal,0,-1"
	"OnCase02" "Stripper_Event_Text,AddOutput,message [2] Massacre,0,-1"
	"OnCase03" "Stripper_Event_Text,AddOutput,message [3] Classic,0,-1"
	"OnCase04" "Stripper_Event_Text,AddOutput,message [4] FFVII,0,-1"
	"OnCase05" "Stripper_Event_Text,AddOutput,message [5] Silent Hill,0,-1"
	"OnCase06" "Stripper_Event_Text,AddOutput,message [6] Space,0,-1"
	"OnCase07" "Stripper_Event_Text,AddOutput,message [7] Train,0,-1"
	"OnCase08" "Stripper_Event_Text,AddOutput,message [8] Boss - Normal,0,-1"
	"OnCase09" "Stripper_Event_Text,AddOutput,message [9] Tornado,0,-1"
	"OnCase10" "Stripper_Event_Text,AddOutput,message [10] Depression,0,-1"
	"OnCase11" "Stripper_Event_Text,AddOutput,message [11] Space Massacre,0,-1"
	"OnCase12" "Stripper_Event_Text,AddOutput,message [12] Flood,0,-1"
	"OnCase13" "Stripper_Event_Text,AddOutput,message [13] Trigger Madness,0,-1"
	"OnCase14" "Stripper_Event_Text,AddOutput,message [14] Face to Face,0,-1"
	"OnCase15" "Stripper_Event_Text,AddOutput,message [15] Turtle,0,-1"
	"OnCase16" "Stripper_Event_Text,AddOutput,message [16] Asedium,0,-1"
}
add:
{
	"origin" "2552 -2536 872"
	"targetname" "Stripper_Event_CaseInfo"
	"Case01" "17"
	"Case02" "18"
	"Case03" "19"
	"Case04" "20"
	"Case05" "21"
	"Case06" "22"
	"Case07" "23"
	"Case08" "24"
	"Case09" "25"
	"Case10" "26"
	"Case11" "27"
	"Case12" "28"
	"Case13" "29"
	"Case14" "30"
	"Case15" "31"
	"Case16" "32"
	"classname" "logic_case"
	"OnCase01" "Stripper_Event_Text,AddOutput,message [17] Boss - Bahamut,0,-1"
	"OnCase02" "Stripper_Event_Text,AddOutput,message [18] Knockback Madness,0,-1"
	"OnCase03" "Stripper_Event_Text,AddOutput,message [19] Zombie Horde,0,-1"
	"OnCase04" "Stripper_Event_Text,AddOutput,message [20] Carnival,0,-1"
	"OnCase05" "Stripper_Event_Text,AddOutput,message [21] UFO,0,-1"
	"OnCase06" "Stripper_Event_Text,AddOutput,message [22] Monkey Massacre,0,-1"
	"OnCase07" "Stripper_Event_Text,AddOutput,message [23] All Items,0,-1"
	"OnCase08" "Stripper_Event_Text,AddOutput,message [24] One Way,0,-1"
	"OnCase09" "Stripper_Event_Text,AddOutput,message [25] Boss - Predator,0,-1"
	"OnCase10" "Stripper_Event_Text,AddOutput,message [26] Hell,0,-1"
	"OnCase11" "Stripper_Event_Text,AddOutput,message [27] Glitch - Pirates,0,-1"
	"OnCase12" "Stripper_Event_Text,AddOutput,message [28] SuperMode - Apocalypse Wow,0,-1"
	"OnCase13" "Stripper_Event_Text,AddOutput,message [29] Explosive,0,-1"
	"OnCase14" "Stripper_Event_Text,AddOutput,message [30] ZM,0,-1"
	"OnCase15" "Stripper_Event_Text,AddOutput,message [31] Hold Em,0,-1"
	"OnCase16" "Stripper_Event_Text,AddOutput,message [32] Space FFVII,0,-1"
}
add:
{
	"origin" "2552 -2536 872"
	"targetname" "Stripper_Event_CaseInfo"
	"Case01" "33"
	"Case02" "34"
	"Case03" "35"
	"Case04" "36"
	"Case05" "37"
	"Case06" "38"
	"Case07" "39"
	"Case08" "40"
	"Case09" "41"
	"Case10" "42"
	"Case11" "43"
	"Case12" "44"
	"Case13" "45"
	"Case14" "46"
	"Case15" "47"
	"Case16" "48"
	"classname" "logic_case"
	"OnCase01" "Stripper_Event_Text,AddOutput,message [33] Glitch - Missing,0,-1"
	"OnCase02" "Stripper_Event_Text,AddOutput,message [34] Boss - Paper,0,-1"
	"OnCase03" "Stripper_Event_Text,AddOutput,message [35] Arena,0,-1"
	"OnCase04" "Stripper_Event_Text,AddOutput,message [36] Glitch - Zone,0,-1"
	"OnCase05" "Stripper_Event_Text,AddOutput,message [37] Halloween,0,-1"
	"OnCase06" "Stripper_Event_Text,AddOutput,message [38] SuperMode - Really Bad Weather,0,-1"
	"OnCase07" "Stripper_Event_Text,AddOutput,message [39] Forest,0,-1"
	"OnCase08" "Stripper_Event_Text,AddOutput,message [40] SuperMode - Final Fight,0,-1"
	"OnCase09" "Stripper_Event_Text,AddOutput,message [41] Glitch - More Balls,0,-1"
	"OnCase10" "Stripper_Event_Text,AddOutput,message [42] SuperMode - Mako Tirith,0,-1"
	"OnCase11" "Stripper_Event_Text,AddOutput,message [43] VIP,0,-1"
	"OnCase12" "Stripper_Event_Text,AddOutput,message [44] SuperMode - Nightmare in Silent Hill,0,-1"
	"OnCase13" "Stripper_Event_Text,AddOutput,message [45] Lords Of Destruction,0,-1"
	"OnCase14" "Stripper_Event_Text,AddOutput,message [46] SuperMode - Weird,0,-1"
	"OnCase15" "Stripper_Event_Text,AddOutput,message [47] Item Rush,0,-1"
	"OnCase16" "Stripper_Event_Text,AddOutput,message [48] Medusa,0,-1"
}

add:
{
	"model" "*64"
	"angles" "180 0 0"
	"wait" "0.01"
	"unlocked_sound" "0"
	"unlocked_sentence" "0"
	"targetname" "Stripper_Event_Toggle"
	"speed" "5"
	"spawnflags" "1025"
	"sounds" "0"
	"rendermode" "0"
	"renderfx" "0"
	"rendercolor" "0 255 255"
	"renderamt" "255"
	"origin" "2557 -2512 780"
	"movedir" "0 0 0"
	"locked_sound" "0"
	"locked_sentence" "0"
	"lip" "0"
	"health" "0"
	"disablereceiveshadows" "0"
	"classname" "func_button"
	"OnPressed" "!self,Lock,,0,-1"
	"OnPressed" "Stripper_Event_Info_Branch,Test,,0,-1"
	"OnUseLocked" "Stripper_Event_Branch,Toggle,,0,-1"
	"OnUseLocked" "Stripper_Event_Info_Branch,Toggle,,0,-1"
	"OnUseLocked" "!self,Unlock,,0,-1"
}

add:
{
	"model" "*64"
	"angles" "0 180 270"
	"wait" "0.01"
	"unlocked_sound" "0"
	"unlocked_sentence" "0"
	"targetname" "Stripper_Event_Subtract"
	"speed" "5"
	"spawnflags" "1025"
	"sounds" "0"
	"rendermode" "0"
	"renderfx" "0"
	"rendercolor" "0 255 0"
	"renderamt" "255"
	"origin" "2557 -2448 748"
	"movedir" "0 0 0"
	"locked_sound" "0"
	"locked_sentence" "0"
	"lip" "0"
	"health" "0"
	"disablereceiveshadows" "0"
	"classname" "func_button"
	"OnPressed" "Stripper_Event_Counter,Subtract,1,0,-1"
	"OnUser1" "!self,Color,255 0 0,0,-1"
	"OnUser1" "!self,Lock,,0,-1"
	"OnUser2" "!self,Color,0 255 0,0,-1"
	"OnUser2" "!self,Unlock,,0,-1"
}
add:
{
	"model" "*64"
	"angles" "0 180 90"
	"wait" "0.01"
	"unlocked_sound" "0"
	"unlocked_sentence" "0"
	"targetname" "Stripper_Event_Add"
	"speed" "5"
	"spawnflags" "1025"
	"sounds" "0"
	"rendermode" "0"
	"renderfx" "0"
	"rendercolor" "0 255 0"
	"renderamt" "255"
	"origin" "2557 -2576 748"
	"movedir" "0 0 0"
	"locked_sound" "0"
	"locked_sentence" "0"
	"lip" "0"
	"health" "0"
	"disablereceiveshadows" "0"
	"classname" "func_button"
	"OnPressed" "Stripper_Event_Counter,Add,1,0,-1"
	"OnUser1" "!self,Color,255 0 0,0,-1"
	"OnUser1" "!self,Lock,,0,-1"
	"OnUser2" "!self,Color,0 255 0,0,-1"
	"OnUser2" "!self,Unlock,,0,-1"
}

add:
{
	"targetname" "Stripper_Event_Compare"
	"origin" "2552 -2536 856"
	"InitialValue" "0"
	"CompareValue" "1"
	"classname" "logic_compare"
	"OnEqualTo" "Stripper_Event_Subtract,FireUser1,Dummy,0,-1"
	"OnNotEqualTo" "Stripper_Event_Subtract,FireUser2,Dummy,0,-1"
}
add:
{
	"targetname" "Stripper_Event_Compare"
	"origin" "2552 -2536 856"
	"InitialValue" "0"
	"CompareValue" "48"
	"classname" "logic_compare"
	"OnEqualTo" "Stripper_Event_Add,FireUser1,Dummy,0,-1"
	"OnNotEqualTo" "Stripper_Event_Add,FireUser2,Dummy,0,-1"
}


;********
; Points
;********

; Trigger that cover the upper part
add:
{
	"model" "*568"
	"targetname" "Stripper_Event_PointsCTs"
	"StartDisabled" "1"
	"spawnflags" "1"
	"origin" "1647.5 -768 7129"
	"filtername" "CT"
	"classname" "trigger_once"
	"OnStartTouch" "Stripper_Event_Points,ApplyScore,,0,-1"
}

; Trigger that cover the bottom part
add:
{
	"model" "*2"
	"targetname" "Stripper_Event_ArenaZM_PointsCTs"
	"StartDisabled" "1"
	"spawnflags" "1"
	"origin" "272 -768 2016.12"
	"filtername" "CT"
	"classname" "trigger_once"
	"OnStartTouch" "Stripper_Event_Points,ApplyScore,,0,-1"
}

add:
{
	"targetname" "Stripper_Event_Points"
	"points" "10"
	"spawnflags" "0"
	"origin" "2337 -1850 3960"
	"classname" "game_score"
}


;**********************
; Handle modes endings
;**********************

add:
{
	"targetname" "Stripper_Event_EndModeBranch"
	"origin" "2552 -2536 792"
	"InitialValue" "0"
	"classname" "logic_branch"
	"OnTrue" "Stripper_Event_Counter,Add,1,0,1"
	"OnTrue" "Stripper_Event_PointsCTs,Enable,,0,1"
	"OnTrue" "Stripper_Event_PointsCTs,Kill,,0.1,1"
	"OnTrue" "Stripper_Event_ArenaZM_PointsCTs,Enable,,0,1"
	"OnTrue" "Stripper_Event_ArenaZM_PointsCTs,Kill,,0.1,1"
}

;************************
; Boss modes and hold em
;************************

; No Zombie detected after nuke

modify:
{
	match:
	{
		"targetname" "triggerSuperMode_ZombiesDead"
		"classname" "logic_relay"
		"hammerid" "2782784"
	}
	insert:
	{
		"OnTrigger" "Stripper_Event_EndModeBranch,Test,,2,1"
	}
}

; All Zombies killed

modify:
{
	match:
	{
		"targetname" "mathSuperMode_ZombiesRemaining"
		"classname" "math_counter"
		"hammerid" "2797237"
	}
	insert:
	{
		"OnHitMin" "Stripper_Event_EndModeBranch,Test,,0,1"
	}
}

;***********
; VIP modes
;***********

; No Zombie detected after nuke

modify:
{
	match:
	{
		"targetname" "vipshit_relayNoZombies"
		"classname" "logic_relay"
		"hammerid" "1437625"
	}
	insert:
	{
		"OnTrigger" "Stripper_Event_EndModeBranch,Test,,3,1"
	}
}

; All Zombies killed

modify:
{
	match:
	{
		"targetname" "vipshit_mathCountZombies"
		"classname" "math_counter"
		"hammerid" "1437400"
	}
	insert:
	{
		"OnHitMin" "Stripper_Event_EndModeBranch,Test,,0,1"
	}
}

;***********************
; For all regular modes
;***********************

add:
{
	"origin" "2337 -1850 3960"
	"targetname" "Stripper_Event_CountZombies"
	"min" "0"
	"startvalue" "2"
	"max" "2"
	"classname" "math_counter"
	"OnHitMin" "server,Command,echo [MNT ESCAPE]: There are no zombies remaining!,0,1"
	"OnHitMin" "!self,Kill,,0,1"
	"OnHitMin" "Stripper_Event_EndModeBranch,Test,,0,1"
	"OnUser1" "!self,Subtract,1,0,-1"
	"OnUser1" "!self,FireUser1,,0.5,-1"
}

add:
{
	"model" "*568"
	"targetname" "Stripper_Event_DetectCTs"
	"StartDisabled" "1"
	"spawnflags" "1"
	"origin" "1647.5 -768 7129"
	"filtername" "CT"
	"classname" "trigger_once"
	"OnStartTouch" "Stripper_Event_CountZombies,FireUser1,,0,1"
	"OnStartTouch" "Stripper_Event_CheckForZombies,Enable,,0.1,1"
}

add:
{
	"model" "*569"
	"wait" "0.1"
	"targetname" "Stripper_Event_CheckForZombies"
	"StartDisabled" "1"
	"spawnflags" "1"
	"origin" "1647.5 -768 7129"
	"filtername" "T"
	"classname" "trigger_multiple"
	"OnTrigger" "Stripper_Event_CountZombies,Add,2,0,-1"
	"OnStartTouch" "server,Command,echo [MNT ESCAPE]: Zombies detected after nuke...,0,1"
}


;*********
; One Way
;*********

modify:
{
	match:
	{
		"targetname" "onewayshit_triggerHold_02"
		"classname" "trigger_multiple"
		"hammerid" "1564683"
	}
	insert:
	{
		"OnStartTouch" "Stripper_Event_DetectCTs,,78,1"
	}
}


;*************
; Silent Hill 
;*************

modify:
{
	match:
	{
		"targetname" "relayMode_SilentHill"
		"classname" "logic_relay"
		"hammerid" "4578098"
	}
	insert:
	{
		"OnTrigger" "boss_end,AddOutput,OnPressed Stripper_Event_DetectCTs:Enable::31:1,0,1"
	}
}

;*****************
; ZM & Arena & ZH
;*****************

add:
{
	"model" "*527"
	"targetname" "Stripper_Event_ArenaZM_DetectCTs"
	"StartDisabled" "1"
	"spawnflags" "1"
	"origin" "270 -784 5167.4"
	"filtername" "CT"
	"classname" "trigger_once"
	"OnStartTouch" "Stripper_Event_CountZombies,FireUser1,,0,1"
	"OnStartTouch" "Stripper_Event_ArenaZM_CheckForZombies,Enable,,0.1,1"
}

add:
{
	"model" "*527"
	"wait" "0.1"
	"targetname" "Stripper_Event_ArenaZM_CheckForZombies"
	"StartDisabled" "1"
	"spawnflags" "1"
	"origin" "270 -784 5167.4"
	"filtername" "T"
	"classname" "trigger_multiple"
	"OnTrigger" "Stripper_Event_CountZombies,Add,2,0,-1"
	"OnStartTouch" "server,Command,echo [MNT ESCAPE]: Zombies detected after mode ending...,0,1"
}

modify:
{
	match:
	{
		"targetname" "relayMode_ZM"
		"classname" "logic_relay"
		"hammerid" "4578268"
	}
	insert:
	{
		"OnTrigger" "Stripper_Event_ArenaZM_DetectCTs,Enable,,241,1"
	}
}
modify:
{
	match:
	{
		"targetname" "relayMode_Arena"
		"classname" "logic_relay"
		"hammerid" "4578320"
	}
	insert:
	{
		"OnTrigger" "Stripper_Event_ArenaZM_DetectCTs,Enable,,208,1"
	}
}


add:
{
	"targetname" "Stripper_Event_ZH_EndModeBranch"
	"origin" "2552 -2536 792"
	"InitialValue" "0"
	"classname" "logic_branch"
	"OnFalse" "server,Command,say *** BOSS MODE ENABLED FOR NEXT ROUND! ***,1,-1"
	"OnFalse" "!self,Kill,,0,-1"
	"OnFalse" "mountainescape,AddOutput,OnUser1 modePicker:FireUser1::0:1,0,-1"
	"OnFalse" "mountainescape,AddOutput,OnUser1 mode:Kill::0:1,0,-1"
	"OnFalse" "mountainescape,AddOutput,OnUser1 mode2:Kill::0:1,0,-1"
	"OnFalse" "mountainescape,AddOutput,OnUser1 mode3:Kill::0:1,0,-1"
}

modify:
{
	match:
	{
		"targetname" "ZHZombiesCounter"
		"classname" "math_counter"
		"hammerid" "712670"
	}
	insert:
	{
		"OnHitMin" "Stripper_Event_ArenaZM_DetectCTs,Enable,,0,1"
	}
}

modify:
{
	match:
	{
		"targetname" "relayZHReward"
		"classname" "logic_relay"
		"hammerid" "1927059"
	}
	delete:
	{
		"OnTrigger" "server,Command,say *** BOSS MODE ENABLED FOR NEXT ROUND! ***,1,-1"
		"OnTrigger" "!self,Kill,,0,-1"
		"OnTrigger" "mountainescape,AddOutput,OnUser1 modePicker:FireUser1::0:1,0,-1"
		"OnTrigger" "mountainescape,AddOutput,OnUser1 mode:Kill::0:1,0,-1"
		"OnTrigger" "mountainescape,AddOutput,OnUser1 mode2:Kill::0:1,0,-1"
		"OnTrigger" "mountainescape,AddOutput,OnUser1 mode3:Kill::0:1,0,-1"
	}
	insert:
	{
		"OnTrigger" "Stripper_Event_ZH_EndModeBranch,Test,,0,1"
	}
}

;*******************************
; Buttons to enable the trigger
;*******************************

modify:
{
	match:
	{
		"targetname" "castleshit_button_End"
		"classname" "func_button"
		"hammerid" "2548671"
	}
	insert:
	{
		"OnPressed" "Stripper_Event_DetectCTs,Enable,,31,1"
	}
}

modify:
{
	match:
	{
		"targetname" "normal_end"
		"classname" "func_button"
		"hammerid" "1769"
	}
	insert:
	{
		"OnPressed" "Stripper_Event_DetectCTs,Enable,,61,1"
	}
}



; TODO

; system to break the ladder at the top slowly


;-----------------------------
;DON'T LAG COMPENSATE TORNADOS
;-----------------------------

modify:
{
	match:
	{
		"classname" "trigger_push"
		"targetname" "triggerTornadoPush"
	}
	replace:
	{
		"spawnflags" "1073741833"
	}
}
modify:
{
	match:
	{
		"classname" "func_physbox_multiplayer"
		"targetname" "physboxTornado"
	}
	replace:
	{
		"spawnflags" "1073758208"
	}
}

;---------------------------------
;FIX SPEED BALROG DEATH AND STUFF
;---------------------------------

add:
{
	"model" "*611"
	"classname" "trigger_brush"
	"targetname" "game_playerdie"
	"origin" "9377 -11786 4200"
	"InputFilter" "14"
	"StartDisabled" "0"
	"spawnflags" "0"
	"OnUse" "speedo,ModifySpeed,1,0,-1"
	"OnUse" "speedo,ModifySpeed,1,0.5,-1"
}

;----------------------------------------
;NORMAL MODE - Add SuperMode Final Fight
;----------------------------------------

modify:
{
	match:
	{
		"targetname" "caseDoWeReallyWantToPlayNormalMode"
		"classname" "logic_case"
	}
	insert:
	{
		"OnUser1" "caseSuperMode_ModeModes,InValue,FinalFight,2,1"
	}
}

;-----------------------------------------
;CLASSIC MODE - Add SuperMode Final Fight
;-----------------------------------------

modify:
{
	match:
	{
		"targetname" "relayMode_Classic"
		"classname" "logic_relay"
	}
	insert:
	{
		"OnTrigger" "caseSuperMode_ModeModes,InValue,FinalFight,2,1"
	}
}

;--------------------------------------------
;DEPRESSION MODE - Add SuperMode Final Fight
;--------------------------------------------

modify:
{
	match:
	{
		"targetname" "relayMode_Depression"
		"classname" "logic_relay"
	}
	insert:
	{
		"OnTrigger" "caseSuperMode_ModeModes,InValue,FinalFight,2,1"
	}
}

;---------------------------
;FIX PHYSICS CRASH VIP MODE
;---------------------------

; Didnt really work it seems

modify:
{
	match:
	{
		"classname" "func_physbox_multiplayer"
		"targetname" "physboxVIPHitbox"
	}
	replace:
	{
		"spawnflags" "312320"
	}
}

; So good bye vip mode

modify:
{
	match:
	{
		"targetname" "mode"
		"classname" "logic_case"
	}
	delete:
	{
		"OnCase12" "relayMode_VIP,Trigger,,0,-1"
	}
	insert:
	{
		"OnCase12" "relayMode_LordsOfDestruction,Trigger,,0,-1"
	}
}

;---------------------------------------
;REMOVING BUILDER PHYSICS DUE TO ISSUES
;---------------------------------------

modify:
{
	match:
	{
		"targetname" "physboxBarricade"
		"classname" "func_physbox"
		"spawnflags" "1024"
	}
	replace:
	{
		; Motion disabled per default
		"spawnflags" "33792"
	}
}

; Adjusting the maker height to compensate for the walls not falling down

modify:
{
	match:
	{
		"targetname" "entmakerBarricade"
		"classname" "env_entity_maker"
		"origin" "5996 -13765.4 3722"
	}
	replace:
	{
		"origin" "5996 -13765.4 3708"
	}
}

;--------------------------------------------
;MAKE THE END FASTER - PLAYERS ARE WAITING ..
;--------------------------------------------

; Make sniper downgraded faster
modify:
{
	match:
	{
		"targetname" "normal_end"
		"classname" "func_button"
		"hammerid" "1769"
	}
	delete:
	{
		"OnPressed" "templateKillAwps,ForceSpawn,,75,1"
		"OnPressed" "relayGrenadesFly,Trigger,,140,1"
		"OnPressed" "server,Command,echo [MNT ESCAPE]: Picking a random end on humans ...,169,1"
		"OnPressed" "caseWhatEndingShouldWePlay,PickRandom,,170,1"
	}
	insert:
	{
		"OnPressed" "templateKillAwps,ForceSpawn,,62,1"
		"OnPressed" "relayGrenadesFly,Trigger,,80,1"
		"OnPressed" "caseWhatEndingShouldWePlay,PickRandom,,95,1"
		"OnPressed" "relaySpawnZWeapons,FireUser4,,75,1"
		"OnPressed" "server,Command,say *** Global nuke in 90s ***,90,1"
		"OnPressed" "server,Command,say *** Global nuke in 60s ***,120,1"
		"OnPressed" "server,Command,say *** Global nuke in 30s ***,150,1"
		"OnPressed" "server,Command,say *** Global nuke in 10s ***,170,1"
		"OnPressed" "global_nuke,Enable,,180,1"
	}
}

; Add global nuke
add:
{
	"model" "*622"
	"targetname" "global_nuke"
	"StartDisabled" "1"
	"spawnflags" "1"
	"origin" "270 -784 5167.5"
	"nodmgforce" "0"
	"damagetype" "65536"
	"damagemodel" "0"
	"damagecap" "999999"
	"damage" "99999"
	"classname" "trigger_hurt"
}

;Train will be faster
modify:
{
	match:
	{
		"targetname" "train1_move"
		"classname" "func_tracktrain"
	}
	replace:
	{
		"startspeed" "475"
	}
}
;Train will goes super fast, this part is already covered by nuke
modify:
{
	match:
	{
		"targetname" "train_9"
		"classname" "path_track"
	}
	insert:
	{
		"OnPass" "!activor,SetSpeed,750,0,-1"
	}
}
;Restore Train speed
modify:
{
	match:
	{
		"targetname" "train_39"
		"classname" "path_track"
	}
	insert:
	{
		"OnPass" "!activor,SetSpeed,475,0,-1"
	}
}

modify:
{
	match:
	{
		"targetname" "caseWhatEndingShouldWePlay"
		"classname" "logic_case"
	}
	delete:
	{
		"OnCase01" "Meteorites_range,Enable,,2,1"
		"OnCase01" "server,Command,say ***Warning: Meteorite falls***,1,1"
		"OnCase01" "server,Command,say ***!?***,0,1"
		"OnCase02" "timerSpawnTornadoInEnd,Enable,,2,1"
		"OnCase02" "server,Command,say ***Warning: Tornados approaching***,1,1"
		"OnCase02" "server,Command,say ***!?***,0,1"
		"OnCase02" "timerSpawnTornadoInMap,Kill,,2,1"
		"OnCase03" "sephiroth,TurnOff,,8,1"
		"OnCase03" "casePlayMusicOrSFX,InValue,cut_sound,7,1"
		"OnCase03" "cut_move,StartForward,,7,1"
		"OnCase03" "casePlayMusicOrSFX,InValue,sephiroth_sound2,5,1"
		"OnCase03" "server,Command,say ***Warning: Sephiroth has appeared.***,2,1"
		"OnCase03" "templateSephiroth,ForceSpawn,,0,1"
		"OnCase03" "casePlayMusicOrSFX,InValue,sephiroth_sound,0.1,1"
		"OnCase03" "server,Command,say ***!?***,0,1"
		"OnCase03" "sephiroth,FireUser1,,89,1"
		"OnCase03" "casePlayMusicOrSFX,InValue,sephiroth_sound3,88.8,1"
		"OnCase03" "sephiroth,TurnOn,,89.1,1"
		"OnCase03" "cut2_effect,Alpha,255,90,1"
		"OnCase03" "cut2_damage,Enable,,90.1,1"
		"OnCase03" "cut2_move,StartBackward,,90.1,1"
		"OnCase03" "casePlayMusicOrSFX,InValue,cut_sound,89.95,1"
		"OnCase03" "sephiroth,Kill,,94,1"
		"OnCase01" "Meteorites_range,AddOutput,OnStartTouch Meteorites_range2:Enable::3:-1,90,1"
		"OnCase01" "server,Command,echo [MNT ESCAPE]: Meteors end.,0,1"
		"OnCase02" "server,Command,echo [MNT ESCAPE]: Tornado end.,0,1"
		"OnCase03" "server,Command,echo [MNT ESCAPE]: Sephiroth end.,0,1"
		"OnCase03" "server,Command,echo [MNT ESCAPE]: Moving Sephiroth and starting second hit.,89,1"
		"OnCase03" "!self,InValue,Meteorite,120,1"
		"OnCase01" "!self,InValue,Tornado,120,-1"
		"OnCase02" "!self,InValue,Meteorite,120,1"
	}
	insert:
	{
		"OnCase01" "server,Command,say ***!?***,0,1"
		"OnCase01" "server,Command,say ***Warning: Meteorite falls***,1,1"
		"OnCase01" "Meteorites_range,Enable,,2,1"
		"OnCase01" "Meteorites_range,AddOutput,OnStartTouch Meteorites_range2:Enable::3:-1,9,1"
		"OnCase01" "!self,InValue,Tornado,40,-1"

		"OnCase02" "timerSpawnTornadoInEnd,Enable,,2,1"
		"OnCase02" "server,Command,say ***!?***,0,1"
		"OnCase02" "server,Command,say ***Warning: Tornados approaching***,1,1"
		"OnCase02" "timerSpawnTornadoInMap,Kill,,2,1"
		"OnCase02" "!self,InValue,Meteorite,40,1"

		"OnCase03" "server,Command,say ***!?***,0,1"
		"OnCase03" "templateSephiroth,ForceSpawn,,0,1"
		"OnCase03" "casePlayMusicOrSFX,InValue,sephiroth_sound,0.1,1"
		"OnCase03" "sephiroth,TurnOn,,2.1,1"
		"OnCase03" "server,Command,say ***Warning: Sephiroth has appeared.***,2,1"
		"OnCase03" "casePlayMusicOrSFX,InValue,sephiroth_sound2,5,1"
		"OnCase03" "casePlayMusicOrSFX,InValue,cut_sound,7,1"
		"OnCase03" "cut_move,StartForward,,7,1"
		"OnCase03" "sephiroth,FireUser1,,8,1"
		"OnCase03" "sephiroth,TurnOff,,8,1"
		"OnCase03" "casePlayMusicOrSFX,InValue,sephiroth_sound3,8.8,1"
		"OnCase03" "casePlayMusicOrSFX,InValue,cut_sound,8.95,1"
		"OnCase03" "sephiroth,Kill,,9,1"
		"OnCase03" "cut2_effect,Alpha,255,10,1"
		"OnCase03" "cut2_move,StartBackward,,10.1,1"
		"OnCase03" "cut2_damage,Enable,,10.1,1"
		"OnCase03" "!self,InValue,Meteorite,40,1"
	}
}

;------------------------------------------
; CHANGE THE GARGANTUA MODEL TO A RECOMPILED VERSION
; TO FIX ISSUES SINCE THE VSCRIPT UPDATE
; by Moltard
; Require players to DL the new model + materials
;------------------------------------------
modify:
{
	match:
	{
		"model" "models/garg.mdl"
		"classname" "prop_dynamic"
	}
	replace:
	{
		"model" "models/garg_fix_2025.mdl"
	}
}
