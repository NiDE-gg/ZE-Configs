;  __  __  ____  _____ _____ ________     __
; |  \/  |/ __ \|  __ \_   _|  ____\ \   / /
; | \  / | |  | | |  | || | | |__   \ \_/ /
; | |\/| | |  | | |  | || | |  __|   \   /
; | |  | | |__| | |__| || |_| |       | |
; |_|  |_|\____/|_____/_____|_|       |_|
;		Stripper by Ma≈Çgo 10.10.2024 (thanks you koen for help)

;---------------------------------------
;Enable ggeasy & ggeasy extreme relay
;---------------------------------------
modify:
{
	match:
	{
		"targetname" "ggeasy_start_relay"
		"classname" "logic_relay"
	}
	replace:
	{
		"StartDisabled" "0"
	}
}
modify:
{
	match:
	{
		"targetname" "ggeasy_ex_start_relay"
		"classname" "logic_relay"
	}
	replace:
	{
		"StartDisabled" "0"
	}
}

;---------------------------------------
;Nerf GGEASY & GGEASY EXTREME LASER TIMER
;---------------------------------------
modify:
{
	match:
	{
		"targetname" "ggeasy_start_relay"
		"classname" "logic_relay"
	}
	delete:
	{
		"OnTrigger" "Sephiroth_Final_RMZS_Timer,LowerRandomBound,1.10,0.08,-1"
		"OnTrigger" "Sephiroth_Final_RMZS_Timer,UpperRandomBound,1.50,0.08,-1"
	}
	insert:
	{
		"OnTrigger" "Sephiroth_Final_RMZS_Timer,LowerRandomBound,2.20,0.08,-1"
		"OnTrigger" "Sephiroth_Final_RMZS_Timer,UpperRandomBound,2.35,0.08,-1"
	}
}
modify:
{
	match:
	{
		"targetname" "ggeasy_ex_start_relay"
		"classname" "logic_relay"
	}
	delete:
	{
		"OnTrigger" "Sephiroth_Final_RMZS_Timer,UpperRandomBound,1.35,0.08,-1"
		"OnTrigger" "Sephiroth_Final_RMZS_Timer,LowerRandomBound,1.03,0.08,-1"
	}
	insert:
	{
		"OnTrigger" "Sephiroth_Final_RMZS_Timer,UpperRandomBound,2.30,0.08,-1"
		"OnTrigger" "Sephiroth_Final_RMZS_Timer,LowerRandomBound,2.10,0.08,-1"
	}
}

;---------------------------------------
;Change origin of ggeasy extreme finish line
;---------------------------------------
modify:
{
	match:
	{
		"targetname" "ggeasy_finish_line"
		"classname" "func_movelinear"
	}
	replace:
	{
	"movedistance" "350"
	}
}

;---------------------------------------
;Change Bahamut Boss HP on each stage
;---------------------------------------
modify:
{
	match:
	{
		"targetname" "Zombieden_Start_Relay"
		"classname" "logic_relay"
	}
	delete:
	{
		"OnSpawn" "Boss_HPCounter_Trigger,AddOutput,OnStartTouch HPCounterBackUp:Add:9:0.00:0,5,-1"
		"OnSpawn" "Boss_HPCounter_Trigger,AddOutput,OnStartTouch HPCounter:Add:9:0.00:0,5,-1"
	}
	insert:
	{
		"OnSpawn" "Boss_HPCounter_Trigger,AddOutput,OnStartTouch HPCounterBackUp:Add:8:0.00:0,5,-1"
		"OnSpawn" "Boss_HPCounter_Trigger,AddOutput,OnStartTouch HPCounter:Add:8:0.00:0,5,-1"
	}
}
modify:
{
	match:
	{
		"targetname" "hellz_Start_Relay"
		"classname" "logic_relay"
	}
	delete:
	{
		"OnSpawn" "Boss_HPCounter_Trigger,AddOutput,OnStartTouch HPCounter:Add:12:0.00:0,5,-1"
		"OnSpawn" "Boss_HPCounter_Trigger,AddOutput,OnStartTouch HPCounterBackUp:Add:12:0.00:0,5,-1"
	}
	insert:
	{
		"OnSpawn" "Boss_HPCounter_Trigger,AddOutput,OnStartTouch HPCounter:Add:10:0.00:0,5,-1"
		"OnSpawn" "Boss_HPCounter_Trigger,AddOutput,OnStartTouch HPCounterBackUp:Add:10:0.00:0,5,-1"
	}
}
modify:
{
	match:
	{
		"targetname" "rmzs_Start_Relay"
		"classname" "logic_relay"
	}
	delete:
	{
		"OnSpawn" "Boss_HPCounter_Trigger,AddOutput,OnStartTouch HPCounterBackUp:Add:15:0.00:0,5,-1"
		"OnSpawn" "Boss_HPCounter_Trigger,AddOutput,OnStartTouch HPCounter:Add:15:0.00:0,5,-1"
	}
	insert:
	{
		"OnSpawn" "Boss_HPCounter_Trigger,AddOutput,OnStartTouch HPCounterBackUp:Add:15:0.00:0,5,-1"
		"OnSpawn" "Boss_HPCounter_Trigger,AddOutput,OnStartTouch HPCounter:Add:15:0.00:0,5,-1"
	}
}
modify:
{
	match:
	{
		"targetname" "zeddys_Start_Relay"
		"classname" "logic_relay"
	}
	delete:
	{
		"OnSpawn" "Boss_HPCounter_Trigger,AddOutput,OnStartTouch HPCounterBackUp:Add:12:0.00:0,5,-1"
		"OnSpawn" "Boss_HPCounter_Trigger,AddOutput,OnStartTouch HPCounter:Add:12:0.00:0,5,-1"
	}
	insert:
	{
		"OnSpawn" "Boss_HPCounter_Trigger,AddOutput,OnStartTouch HPCounterBackUp:Add:9:0.00:0,5,-1"
		"OnSpawn" "Boss_HPCounter_Trigger,AddOutput,OnStartTouch HPCounter:Add:9:0.00:0,5,-1"
	}
}

;---------------------------------------
;Fix Bio Materia Fade
;---------------------------------------
filter:
{
	"targetname" "Fade_Bio"
	"classname" "env_fade"
	"origin" "5384 3187 -5001"
}

;---------------------------------------
;Delay AFK Teleports
;---------------------------------------
modify:
{
	match:
	{
		"targetname" "Reactor_button_003"
		"classname" "func_button"
	}
	delete:
	{
		"OnPressed" "reactor_door_004,Close,,0,-1"
		"OnPressed" "Light_sprite_cyan*,Kill,,0,-1"
		"OnPressed" "Light_sprite_orange*,Kill,,0,-1"
		"OnPressed" "Teleport_AFK_004,Enable,,0,-1"
	}
	insert:
	{
		"OnPressed" "reactor_door_004,Close,,5,-1"
		"OnPressed" "Light_sprite_cyan*,Kill,,5,-1"
		"OnPressed" "Light_sprite_orange*,Kill,,5,-1"
		"OnPressed" "Teleport_AFK_004,Enable,,7,-1"
	}
}
modify:
{
	match:
	{
		"targetname" "Final_Fulgor_Bahamut_Breakable"
		"classname" "func_breakable"
	}
	delete:
	{
		"OnBreak" "Teleport_AFK_009,Enable,,6,-1"
		"OnBreak" "Light_sprite_orange*,Kill,,6,-1"
		"OnBreak" "Light_sprite_cyan*,Kill,,6,-1"
		"OnBreak" "Light_cyan*,TurnOff,,6,-1"
		"OnBreak" "Light_orange*,TurnOff,,6,-1"
		"OnBreak" "Light_orange*,Kill,,6.05,-1"
		"OnBreak" "Light_cyan*,Kill,,6.05,-1"
	}
	insert:
	{
		"OnBreak" "Teleport_AFK_009,Enable,,7,-1"
		"OnBreak" "Light_sprite_orange*,Kill,,7,-1"
		"OnBreak" "Light_sprite_cyan*,Kill,,7,-1"
		"OnBreak" "Light_cyan*,TurnOff,,7,-1"
		"OnBreak" "Light_orange*,TurnOff,,7,-1"
		"OnBreak" "Light_orange*,Kill,,7.05,-1"
		"OnBreak" "Light_cyan*,Kill,,7.05,-1"
	}
}

;---------------------------------------
;Delete Barrier Materia Magick
;---------------------------------------
modify:
{
	match:
	{
		"targetname" "Matiera Picker"
		"classname" "logic_relay"
	}
	delete:
	{
		"OnUser2" "Map_Spawner,AddOutput,EntityTemplate item_barrier_temp,0.52,-1"
		"OnUser2" "Creater_Case_Location_Random,PickRandom,,0.52,-1"
		"OnUser2" "Map_Spawner,ForceSpawn,,0.55,-1"
		"OnUser3" "Map_Spawner,AddOutput,EntityTemplate item_barrier_temp,0.52,-1"
		"OnUser3" "Creater_Case_Location_Random,PickRandom,,0.52,-1"
		"OnUser3" "Map_Spawner,ForceSpawn,,0.55,-1"
	}
}

;---------------------------------------
;Fix Killing Zeddys Reactor Doors
;---------------------------------------
modify:
{
	match:
	{
		"targetname" "zeddys_spawn_002"
		"classname" "info_teleport_destination"
	}
	replace:
	{
		"origin" "5319 6169 -4391"
	}
}

;---------------------------------------
;Delay HELLZ AFK Teleports
;---------------------------------------
modify:
{
	match:
	{
		"targetname" "Hellz_once"
		"classname" "trigger_once"
		"origin" "4228 2913.01 -2327.5"
	}
	delete:
	{
		"OnTrigger" "Teleport_AFK_006,Enable,,9,-1"
	}
	insert:
	{
		"OnTrigger" "Teleport_AFK_006,Enable,,12,-1"
	}
}

;---------------------------------------
;Delay ZOMBIEDEN AFK Teleports
;---------------------------------------
modify:
{
	match:
	{
		"targetname" "Zombieden_once"
		"classname" "trigger_once"
		"origin" "3860 4436 -4330.5"
	}
	delete:
	{
		"OnTrigger" "Zombieden_Door_001,Break,,20,-1"
		"OnTrigger" "Hold_20/15/20_sec_relay,FireUser1,,0,-1"
	}
	insert:
	{
		"OnTrigger" "Zombieden_Door_001,Break,,15,-1"
		"OnTrigger" "Hold_20/15/20_sec_relay,FireUser2,,0,-1"
	}
}
modify:
{
	match:
	{
		"targetname" "Zombieden_once"
		"classname" "trigger_once"
		"origin" "5033 2528 -3582.5"
	}
	delete:
	{
		"OnTrigger" "Zombieden_Door_002,Break,,20,-1"
		"OnTrigger" "Hold_20/15/20_sec_relay,FireUser1,,0,-1"
		"OnTrigger" "Teleport_AFK_006,Enable,,0,-1"
		"OnTrigger" "Teleport_AFK_007,Enable,,27,-1"
	}
	insert:
	{
		"OnTrigger" "Zombieden_Door_002,Break,,15,-1"
		"OnTrigger" "Hold_20/15/20_sec_relay,FireUser2,,0,-1"
		"OnTrigger" "Teleport_AFK_006,Enable,,3,-1"
		"OnTrigger" "Teleport_AFK_007,Enable,,29,-1"
	}
}
modify:
{
	match:
	{
		"targetname" "Zombieden_once"
		"classname" "trigger_once"
		"origin" "355 10238 44.5"
	}
	delete:
	{
		"OnTrigger" "Teleport_AFK_010,Enable,,0,-1"
		"OnTrigger" "Bridge_Door_Wall,Close,,0,-1"
	}
	insert:
	{
		"OnTrigger" "Teleport_AFK_010,Enable,,5,-1"
		"OnTrigger" "Bridge_Door_Wall,Close,,3,-1"
	}
}

;---------------------------------------
;Change RMZS Teleports & Hold triggers
;---------------------------------------
modify:
{
	match:
	{
		"targetname" "RMZS_Button_001"
		"classname" "func_button"
		"origin" "3492.62 2790.01 -3950"
	}
	delete:
	{
		"OnPressed" "!self,Kill,,0,-1"
		"OnPressed" "Hold_20/15/20_sec_relay,FireUser1,,0,-1"
		"OnPressed" "rmzs_door_001,Break,,20,-1"
		"OnPressed" "Teleport_AFK_006,Enable,,27,-1"
	}
	insert:
	{
		"OnPressed" "!self,Kill,,0,-1"
		"OnPressed" "Hold_20/15/20_sec_relay,FireUser2,,0,-1"
		"OnPressed" "rmzs_door_001,Break,,15,-1"
		"OnPressed" "Teleport_AFK_006,Enable,,24,-1"
	}
}
modify:
{
	match:
	{
		"targetname" "rmzs_once"
		"classname" "trigger_once"
		"origin" "4745.99 3964 -2141.5"
	}
	delete:
	{
		"OnTrigger" "rmzs_ladder_001,Toggle,,10,-1"
		"OnTrigger" "rmzs_door_002,Break,,28,-1"
		"OnTrigger" "Hold_20/15/20_sec_relay,FireUser1,,8,-1"
		"OnTrigger" "Teleport_AFK_008,Enable,,33,-1"
	}
	insert:
	{
		"OnTrigger" "rmzs_ladder_001,Toggle,,10,-1"
		"OnTrigger" "rmzs_door_002,Break,,23,-1"
		"OnTrigger" "Hold_20/15/20_sec_relay,FireUser2,,8,-1"
		"OnTrigger" "Teleport_AFK_008,Enable,,33,-1"
	}
}

;---------------------------------------
;Disable BHOP on Bahamut Boss
;---------------------------------------
modify:
{
	match:
	{
		"targetname" "Boss_Bahamut_Relay"
		"classname" "logic_relay"
	}
	insert:
	{
		"OnTrigger" "cmd,Command,sv_enablebunnyhopping 0,10,-1"
	}
}
modify:
{
	match:
	{
		"targetname" "HPCounterIterator"
		"classname" "math_counter"
	}
	insert:
	{
		"OnHitMin" "cmd,Command,sv_enablebunnyhopping 1,0,-1"
	}
}

;---------------------------------------
;Delete Last Hold Before Genesis Boss on COSMO VERSION
;---------------------------------------
modify:
{
	match:
	{
		"targetname" "cosmo_start_relay"
		"classname" "logic_relay"
	}
	insert:
	{
		"OnSpawn" "break_003,Kill,,0,-1"
	}
}
filter:
{
	"targetname" "cosmo_once"
	"classname" "trigger_once"
	"origin" "5266.5 2769.5 -5547.5"
}

;---------------------------------------
;RMZS & Zeddys Zombie Shortcut Vent Open Faster
;---------------------------------------
modify:
{
	match:
	{
		"targetname" "Button_Room_MathCounter"
		"classname" "math_counter"
	}
	delete:
	{
		"OnUser2" "Breakable_Vent_004,Break,,27,-1"
		"OnUser3" "Breakable_Vent_004,Break,,25,-1"
		"OnUser3" "Breakable_Vent_005,Break,,26,-1"
	}
	insert:
	{
		"OnUser2" "Breakable_Vent_004,Break,,25.7,-1"
		"OnUser3" "Breakable_Vent_004,Break,,24,-1"
		"OnUser3" "Breakable_Vent_005,Break,,24.6,-1"
	}
}

;---------------------------------------
;Balance Electro Materia
;---------------------------------------
modify:
{
	match:
	{
		"targetname" "extra_electro_trigger"
		"classname" "trigger_hurt"
	}
	delete:
	{
		"OnHurtPlayer" "speed,ModifySpeed,1,1,-1"
		"OnHurtPlayer" "speed,ModifySpeed,0.95,0.95,-1"
		"OnHurtPlayer" "speed,ModifySpeed,0.9,0.9,-1"
		"OnHurtPlayer" "speed,ModifySpeed,0.85,0.85,-1"
		"OnHurtPlayer" "speed,ModifySpeed,0.8,0.8,-1"
		"OnHurtPlayer" "speed,ModifySpeed,0.75,0.75,-1"
		"OnHurtPlayer" "speed,ModifySpeed,0.7,0.7,-1"
		"OnHurtPlayer" "speed,ModifySpeed,0.65,0.65,-1"
		"OnHurtPlayer" "speed,ModifySpeed,0.6,0.6,-1"
		"OnHurtPlayer" "speed,ModifySpeed,0.55,0.5,-1"
		"OnHurtPlayer" "speed,ModifySpeed,0.55,0.4,-1"
		"OnHurtPlayer" "speed,ModifySpeed,0.55,0.3,-1"
		"OnHurtPlayer" "speed,ModifySpeed,0.55,0.2,-1"
		"OnHurtPlayer" "speed,ModifySpeed,0.55,0.1,-1"
		"OnHurtPlayer" "speed,ModifySpeed,0.55,0,-1"
	}
	insert:
	{
		"OnHurtPlayer" "speed,ModifySpeed,1.05,1,-1"
		"OnHurtPlayer" "speed,ModifySpeed,1.05,0.95,-1"
		"OnHurtPlayer" "speed,ModifySpeed,1.0,0.9,-1"
		"OnHurtPlayer" "speed,ModifySpeed,0.95,0.85,-1"
		"OnHurtPlayer" "speed,ModifySpeed,0.9,0.8,-1"
		"OnHurtPlayer" "speed,ModifySpeed,0.85,0.75,-1"
		"OnHurtPlayer" "speed,ModifySpeed,0.8,0.7,-1"
		"OnHurtPlayer" "speed,ModifySpeed,0.75,0.65,-1"
		"OnHurtPlayer" "speed,ModifySpeed,0.7,0.6,-1"
		"OnHurtPlayer" "speed,ModifySpeed,0.65,0.5,-1"
		"OnHurtPlayer" "speed,ModifySpeed,0.65,0.4,-1"
		"OnHurtPlayer" "speed,ModifySpeed,0.65,0.3,-1"
		"OnHurtPlayer" "speed,ModifySpeed,0.65,0.2,-1"
		"OnHurtPlayer" "speed,ModifySpeed,0.65,0.1,-1"
		"OnHurtPlayer" "speed,ModifySpeed,0.65,0,-1"
	}
}

;---------------------------------------
;ADD STRIPPER VERSION TEXT
;---------------------------------------
modify:
{
	match:
	{
		"classname" "logic_auto"
		"hammerid" "2140954"
	}
	delete:
	{
		"OnNewGame" "cmd,Command,say **Map Status: No Stripper!**,0,-1"
	}
	insert:
	{
		"OnNewGame" "cmd,Command,say **Map Status: Stripper #0.14 Enable!**,0,-1"
	}
}

;
; BELOW CHANGES BY KOEN (2024/10/1)
;

;disable nide mode
modify:
{
	match:
	{
		"classname" "func_button"
		"hammerid" "3746645"
	}
	replace:
	{
		"spawnflags" "3072"
	}
	insert:
	{
		"OnUseLocked" "cmd,Command,say ** This stage is still a WIP! **,0,-1"
	}
}

;dynamic entwatch config
modify:
{
	match:
	{
		"origin" "10140 12543 -10128"
		"targetname" "item_bio_case"
		"classname" "logic_case"
	}
	insert:
	{
		"OnCase02" "cmd,Command,sm_ewsetshortname 2188197 Bio.Lv1,0,-1"
		"OnCase03" "cmd,Command,sm_ewsetshortname 2188197 Bio.Lv2,0,-1"
		"OnCase04" "cmd,Command,sm_ewsetshortname 2188197 Bio.Lv3,0,-1"
	}
}
modify:
{
	match:
	{
		"origin" "10140 11519 -10128"
		"targetname" "item_barrier_case"
		"classname" "logic_case"
	}
	insert:
	{
		"OnCase02" "cmd,Command,sm_ewsetshortname 2188283 Barrier.Lv1,0,-1"
		"OnCase03" "cmd,Command,sm_ewsetshortname 2188283 Barrier.Lv2,0,-1"
		"OnCase04" "cmd,Command,sm_ewsetshortname 2188283 Barrier.Lv3,0,-1"
	}
}
modify:
{
	match:
	{
		"origin" "9116 12543 -10128"
		"targetname" "item_wind_case"
		"classname" "logic_case"
	}
	insert:
	{
		"OnCase02" "cmd,Command,sm_ewsetshortname 2188601 Wind.Lv1,0,-1"
		"OnCase03" "cmd,Command,sm_ewsetshortname 2188601 Wind.Lv2,0,-1"
		"OnCase04" "cmd,Command,sm_ewsetshortname 2188601 Wind.Lv3,0,-1"
	}
}
modify:
{
	match:
	{
		"origin" "9116 13567 -10128"
		"targetname" "item_heal_case"
		"classname" "logic_case"
	}
	insert:
	{
		"OnCase02" "cmd,Command,sm_ewsetshortname 2188903 Heal.Lv1,0,-1"
		"OnCase03" "cmd,Command,sm_ewsetshortname 2188903 Heal.Lv2,0,-1"
		"OnCase04" "cmd,Command,sm_ewsetshortname 2188903 Heal.Lv3,0,-1"
	}
}
modify:
{
	match:
	{
		"origin" "9116 14591 -10128"
		"targetname" "item_ice_case"
		"classname" "logic_case"
	}
	insert:
	{
		"OnCase02" "cmd,Command,sm_ewsetshortname 2189128 Ice.Lv1,0,-1"
		"OnCase03" "cmd,Command,sm_ewsetshortname 2189128 Ice.Lv2,0,-1"
		"OnCase04" "cmd,Command,sm_ewsetshortname 2189128 Ice.Lv3,0,-1"
	}
}
modify:
{
	match:
	{
		"origin" "11164 12543 -10128"
		"targetname" "item_water_case"
		"classname" "logic_case"
	}
	insert:
	{
		"OnCase02" "cmd,Command,sm_ewsetshortname 2189401 Aqua.Lv1,0,-1"
		"OnCase03" "cmd,Command,sm_ewsetshortname 2189401 Aqua.Lv2,0,-1"
		"OnCase04" "cmd,Command,sm_ewsetshortname 2189401 Aqua.Lv3,0,-1"
	}
}
modify:
{
	match:
	{
		"origin" "11164 13567 -10128"
		"targetname" "item_fire_case"
		"classname" "logic_case"
	}
	insert:
	{
		"OnCase02" "cmd,Command,sm_ewsetshortname 2189558 Fire.Lv1,0,-1"
		"OnCase03" "cmd,Command,sm_ewsetshortname 2189558 Fire.Lv2,0,-1"
		"OnCase04" "cmd,Command,sm_ewsetshortname 2189558 Fire.Lv3,0,-1"
	}
}
modify:
{
	match:
	{
		"origin" "11164 13567 -10128"
		"targetname" "item_fire_case"
		"classname" "logic_case"
	}
	insert:
	{
		"OnCase02" "cmd,Command,sm_setmaxuses 2189713 1,0,-1"
		"OnCase02" "cmd,Command,sm_ewsetshortname 2189713 Electro.Lv1,0,-1"
		"OnCase03" "cmd,Command,sm_setmaxuses 2189713 2,0,-1"
		"OnCase03" "cmd,Command,sm_ewsetshortname 2189713 Electro.Lv2,0,-1"
		"OnCase04" "cmd,Command,sm_setmaxuses 2189713 3,0,-1"
		"OnCase04" "cmd,Command,sm_ewsetshortname 2189713 Electro.Lv3,0,-1"
	}
}
modify:
{
	match:
	{
		"origin" "10140 14591 -10128"
		"targetname" "item_earth_case"
		"classname" "logic_case"
	}
	insert:
	{
		"OnCase02" "cmd,Command,sm_ewsetshortname 2189801 Earth.Lv1,0,-1"
		"OnCase03" "cmd,Command,sm_ewsetshortname 2189801 Earth.Lv2,0,-1"
		"OnCase04" "cmd,Command,sm_ewsetshortname 2189801 Earth.Lv3,0,-1"
	}
}
modify:
{
	match:
	{
		"origin" "10140 13567 -10128"
		"targetname" "item_gravity_case"
		"classname" "logic_case"
	}
	insert:
	{
		"OnCase02" "cmd,Command,sm_ewsetshortname 2189887 Gravity.Lv1,0,-1"
		"OnCase03" "cmd,Command,sm_ewsetshortname 2189887 Gravity.Lv2,0,-1"
		"OnCase04" "cmd,Command,sm_ewsetshortname 2189887 Gravity.Lv3,0,-1"
	}
}