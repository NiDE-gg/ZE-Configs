;--------------------------------------------
; Notify players that the keypad is disabled
;--------------------------------------------
modify:
{
	match:
	{
		"targetname" "keypad_pressed"
	}
	delete:
	{
		"OutValue" "keypad_output,Add,,0,-1"
	}
	insert:
	{
		"OutValue" "srvr_com_1,Command,say *** This keypad has been disabled. Please use the normal route. ***,0,3"
	}
}

;----------------------
; Increase nuke damage
;----------------------
modify:
{
	match:
	{
		"targetname" "nuke_damage"
	}
	replace:
	{
		"damage" "99999"
	}
}

;----------------------------------------
; Remove AFK Killer and add AFK Teleport
;----------------------------------------
filter:
{
	"targetname" "AFK_cleaner"
}

add:
{
	"classname" "info_teleport_destination"
	"angles" "0 90 0"
	"targetname" "afktd"
	"origin" "1456 2592 -656"
}

add:
{
	"classname" "trigger_teleport"
	"spawnflags" "1"
	"origin" "-1536 -384 256"
	"startdisabled" "1"
	"target" "afktd"
	"targetname" "afktp"
}

modify:
{
	match:
	{
		"classname" "logic_auto"
		"origin" "1108.13 2665.45 -671"
	}
	insert:
	{
		"OnMapSpawn" "afktp,AddOutput,solid 2,1,-1"
		"OnMapSpawn" "afktp,AddOutput,maxs 4608 2688 768,1.1,-1"
		"OnMapSpawn" "afktp,AddOutput,mins -4608 -2688 -768,1.1,-1"
	}
}

modify:
{
	match:
	{
		"classname" "trigger_multiple"
		"model" "*148"
	}
	insert:
	{
		"OnStartTouch" "srvr_com_1,Command,say *** AFK teleport in 5 seconds ***,15,1"
		"OnStartTouch" "afktp,Enable,,20,1"
	}
}

;---------------------------------
; Fix not adjustable music volume
;---------------------------------
modify:
{
	match:
	{
		"targetname" "mp3_spawn"
	}
	replace:
	{
		"message" "#mysound/stroggos/spawn.mp3"
	}
}

modify:
{
	match:
	{
		"targetname" "mp3_fanfase"
	}
	replace:
	{
		"message" "#mysound/stroggos/fanfase.mp3"
	}
}

;-------------------
; Keep nuke enabled
;-------------------
modify:
{
	match:
	{
		"classname" "func_button"
		"model" "*67"
	}
	delete:
	{
		"OnPressed" "nuke_damage,Disable,,60,1"
	}
}

;------------------
; Fix fall trigger
;------------------
modify:
{
	match:
	{
		"origin" "-3072.5 751 -1207.5"
		"classname" "trigger_hurt"
	}
	replace:
	{
		"damage" "10000"
	}
}

;----------------------------------------------
; Notify players that the forklift is disabled
;----------------------------------------------
modify:
{
	match:
	{
		"origin" "-3180 -1703 -27"
		"classname" "func_button"
	}
	replace:
	{
		"OnPressed" "srvr_com_1,Command,say *** The forklift is inoperable - better find another way. ***,0,3"
	}
}