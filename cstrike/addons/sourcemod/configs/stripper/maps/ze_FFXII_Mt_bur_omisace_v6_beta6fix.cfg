;  __  __  ____  _____ _____ ________     __
; |  \/  |/ __ \|  __ \_   _|  ____\ \   / /
; | \  / | |  | | |  | || | | |__   \ \_/ /
; | |\/| | |  | | |  | || | |  __|   \   /
; | |  | | |__| | |__| || |_| |       | |
; |_|  |_|\____/|_____/_____|_|       |_|
;		Stripper by Małgo 06.01.2023
;STRIPPER CFG BY MAŁGO https://steamcommunity.com/profiles/76561197992553990/
;---------------------------------------------------------------

;---------------------------------------
;Fix broken lvl 1 timer
;---------------------------------------
modify:
{
	match:
	{
		"targetname" "Shield_boss_laser_HP"
		"classname" "math_counter"
	}
	delete:
	{
		"OnHitMin" "Shield_boss_laser_FalseTriggerZombie,FireUser2,,15700,-1"
	}
	insert:
	{
		"OnHitMin" "Shield_boss_laser_FalseTriggerZombie,FireUser2,,16,-1"
	}
}

;---------------------------------------
;Fix broken boss sprites
;---------------------------------------
modify:
{
	match:
	{
		"targetname" "sanctuary_keeper_boss_HP_Sprite"
		"classname" "env_sprite"
	}
	replace:
	{
		"model" "malgo/hp_bar.vmt"
	}
}
modify:
{
	match:
	{
		"targetname" "sanctuary_keeper_boss_HP_Sprite2"
		"classname" "env_sprite"
	}
	replace:
	{
		"model" "malgo/ffxii_omisace/Sanctuary Keeper.vmt"
	}
}

modify:
{
	match:
	{
		"targetname" "Bergan_boss1_HP_Sprite"
		"classname" "env_sprite"
	}
	replace:
	{
		"model" "malgo/hp_bar.vmt"
	}
}

modify:
{
	match:
	{
		"targetname" "Bergan_boss1_HP_Sprite2"
		"classname" "env_sprite"
	}
	replace:
	{
		"model" "malgo/ffxii_omisace/Judge_Bergan.vmt"
	}
}

modify:
{
	match:
	{
		"targetname" "Bergan_boss2_HP_Sprite"
		"classname" "env_sprite"
	}
	replace:
	{
		"model" "malgo/hp_bar.vmt"
	}
}

modify:
{
	match:
	{
		"targetname" "Bergan_boss2_HP_Sprite2"
		"classname" "env_sprite"
	}
	replace:
	{
		"model" "malgo/ffxii_omisace/Judge_Bergan.vmt"
	}
}

modify:
{
	match:
	{
		"classname" "logic_auto"
		"hammerid" "102957"
	}
	delete:
	{
		"OnNewGame" "cmd,Command,say **Map Status: No Stripper!**,0,-1"
	}
	insert:
	{
		"OnNewGame" "cmd,Command,say **Map Status: Stripper #3 Enable!**,0,-1"
	}
}

;---------------------------------------
; BELOW CHANGES BY KOEN (1/17/2024)
;---------------------------------------

;change default targetnames set on players
modify:
{
	match:
	{
		"classname" "trigger_multiple"
		"targetname" "Map_Start_Reset"
		"hammerid" "6576098"
	}
	delete:
	{
		"OnStartTouch" "!activator,AddOutput,targetname player,0,-1"
	}
	insert:
	{
		"OnStartTouch" "!activator,AddOutput,targetname player_none,0,-1"
	}
}

;change zombie item filtering to negate zombie item targetnames instead
modify:
{
	match:
	{
		"classname" "filter_multi"
		"targetname" "Filter_Z_Items_Pickup"
	}
	delete:
	{
		"Filter02" "Filter_Any"
	}
	insert:
	{
		"Filter02" "Filter_Zombie_Items"
	}
}

add:
{
	"classname" "filter_activator_name"
	"filtername" "player_zm_*"
	"targetname" "Filter_Zombie_Items"
	"Negated" "1"
}

filter:
{
	"classname" "filter_activator_name"
	"targetname" "Filter_Any"
	"hammerid" "7590790"
}