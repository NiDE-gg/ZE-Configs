; STRIPPER V2 REQURE THE script/vscripts/ze_diddle/teleport.nut
; Disable bhop + change main countdown timer
modify:
{
	match:
	{
		"classname" "logic_auto"
	}
	delete:
	{
		"OnMapSpawn" "serverCommandmp_roundtime 9990-1"
		"OnMapSpawn" "managerRunScriptCodeNetProps.SetPropInt(Entities.FindByClassname(null, `cs_gamerules`), `m_iRoundTime`, 60 * 300);0-1"
	}
	insert:
	{
		"OnMapSpawn" "CSS_jump_blockerAddOutputangles 146 -90 01-1" ;Added for wall anggles change
		"OnMapSpawn" "X69XTurtleMove5FireUser11-1" ;Added for enabling the new collosion
		"OnMapSpawn" "CSS_fix_dday_hurtFireUser11-1" ; Start the function on dday trigger
		"OnMapSpawn" "serverCommandsv_enablebunnyhopping 05-1"
		"OnMapSpawn" "serverCommandmp_roundtime 990-1"
	}
}
; ========================[	Stripper 1 ]========================================
; CHANGES FROM HEAVY
; Cannon aim fix (not shoot balls from user legg)
modify:
{
	match:
	{
		"classname" "env_entity_maker"
		"targetname" "i_item_projectilespawner_1"
		"origin" "-1874.03 4626.16 1241"
	}
	insert:
	{
		"origin" "-1874.03 4626.16 1270.38"
	}
}

; Incrase fetus hp +100% (Now it's +200% since cs:go used (1000,4000))
modify:
{
	match:
	{
		"classname" "logic_case"
		"hammerid" "253721"
	}
	delete:
	{
		"OnCase01" "npc_base_1RunScriptCodeSetHealth(2000,8000);0-1"
	}
	insert:
	{
		"OnCase01" "npc_base_1RunScriptCodeSetHealth(4000,16000);0-1"
	}
}

; Add brush to block players being boosted to trigger button after jumping in the elevator shaft turtlereaction
add:
{
	"model" "*54"
	"classname" "func_brush"
	"disablereceiveshadows" "1"
	"disableshadows" "1"
	"origin" "5376 -8277 -13670"
	"targetname" "CSS_jump_blocker"
	"spawnflags" "2"
}

; CHANGES FROM GINDER
; Remove unused functions
modify:
{
	match:
	{
		"hammerid" "2300599"
		"targetname" "i_item_controller_1"
	}
	delete:
	{
		"OnSpawn" "!selfCallScriptFunctionCloseInitWindow0.251"
		"OnSpawn" "!selfCallScriptFunctionDoNotRespawn01"
	}
}

; Add missing keys
modify:
{
	match:
	{
		"hammerid" "1898346"
		"origin" "-12544 4768 15840"
		"targetname" "qaz_mortar_3"
	}
	insert:
	{
		"vscripts" "luffaren/_mapscripts/ze_diddle/omahamortar.nut"
	}
}

; Fix outputs
modify:
{
	match:
	{
		"hammerid" "1623608"
		"vscripts" "luffaren/fader.nut"
		"targetname" "dfriend_roof_mover"
	}
	delete:
	{
		"OnOpen" "serverCommandsay ***DIDDLEFRIEND IS COMING FOR THE SINNERS***01"
	}
	insert:
	{
		"OnOpen" "serverCommandsay ***DIDDLEFRIEND IS COMING FOR THE SINNERS***01"
	}
}

modify:
{
	match:
	{
		"hammerid" "687851"
		"targetname" "hichtelerandomrelay1"
	}
	delete:
	{
		"OnTrigger" "consoleCommand***Zombies to the South East!***0.51"
	}
	insert:
	{
		"OnTrigger" "consoleCommandsay ***Zombies to the South East!***0.51"
	}
}

modify:
{
	match:
	{
		"hammerid" "687853"
		"targetname" "hichtelerandomrelay2"
	}
	delete:
	{
		"OnTrigger" "consoleCommand***Zombies to the South West!***0.51"
	}
	insert:
	{
		"OnTrigger" "consoleCommandsay ***Zombies to the South West!***0.51"
	}
}

modify:
{
	match:
	{
		"hammerid" "687857"
		"targetname" "hichtelerandomrelay3"
	}
	delete:
	{
		"OnTrigger" "consoleCommand***Zombies to the North West!***0.51"
	}
	insert:
	{
		"OnTrigger" "consoleCommandsay ***Zombies to the North West!***0.51"
	}
}

modify:
{
	match:
	{
		"hammerid" "687855"
		"targetname" "hichtelerandomrelay4"
	}
	delete:
	{
		"OnTrigger" "consoleCommand***Zombies to the North East!***0.51"
	}
	insert:
	{
		"OnTrigger" "consoleCommandsay ***Zombies to the North East!***0.51"
	}
}

; ========================[	Stripper 2 ]========================================

; Fix players can stop lasers on turtle reactions by dropping their weapons
modify:
{
	match:
	{
		"model" "*251"
		"classname" "func_movelinear"
	}
	replace:
	{
		"classname" "func_door"
		"spawnflags" "4096"
	}
	insert:
	{
		"lip" "-100000"
		"forceclosed" "1"
		"dmg" "5"
		"wait" "0"
	}
}

modify:
{
	match:
	{
		"model" "*252"
		"classname" "func_movelinear"
	}
	replace:
	{
		"classname" "func_door"
		"spawnflags" "4096"
	}
	insert:
	{
		"lip" "-100000"
		"forceclosed" "1"
		"dmg" "5"
		"wait" "0"
	}
}

; Reduce Diglett temple bosses hp by -10%
modify:
{
	match:
	{
		"targetname" "Ord_lvl_02_boss_relay" ; the 2 cave boss uses the same hp that's why there's no 4 modify
		"classname" "logic_relay"
	}
	delete:
	{
		"OnTrigger" "Ord_lvl_02_boss_breakRunScriptCodeAddHP(3000,1800);01"
	}
	insert:
	{
		"OnTrigger" "Ord_lvl_02_boss_breakRunScriptCodeAddHP(3000,1620);01"
	}
}

modify:
{
	match:
	{
		"targetname" "Ord_main_boss_02"
		"classname" "logic_relay"
	}
	delete:
	{
		"OnTrigger" "X69XOrd_main_mid_diglett_breakRunScriptCodeAddHP(6000,3750);21"
	}
	insert:
	{
		"OnTrigger" "X69XOrd_main_mid_diglett_breakRunScriptCodeAddHP(6000,3375);21"
	}
}

modify:
{
	match:
	{
		"targetname" "Ord_main_boss_03"
		"classname" "logic_relay"
	}
	delete:
	{
		"OnTrigger" "X69XOrd_main_large_diglett_breakRunScriptCodeAddHP(6000,8250);21"
	}
	insert:
	{
		"OnTrigger" "X69XOrd_main_large_diglett_breakRunScriptCodeAddHP(6000,7425);21"
	}
}

; Fix zombies not getting teleported to the other side on dicklett temple boss 4
modify:
{
	match:
	{
		"targetname" "Ord_lvl_01_tpt_04"
		"classname" "trigger_teleport"
	}
	insert:
	{
		"vscripts" "ze_diddle/teleport.nut"
	}
}

modify:
{
	match:
	{
		"targetname" "Ord_lvl_01_tpt_05"
		"classname" "trigger_teleport"
	}
	insert:
	{
		"vscripts" "ze_diddle/teleport.nut"
	}
}

; Fix land mines can't be shooted away
modify:
{
	match:
	{
		"targetname" "i_mortar_phys"
		"classname" "func_physbox"
	}
	insert:
	{
		"massScale" "0.25"
	}
}

; Balancing the 10coin spot reaching in dday
modify:
{
	match:
	{	
		"classname" "trigger_hurt"
		"hammerid" "1811578"
	}
	replace:
	{
		"classname" "trigger_multiple"
		"spawnflags" "1"
	}
	insert:
	{
		"targetname" "CSS_fix_dday_hurt"
		"wait" "0"
		"OnUser1" "!selfFireUser20.32-1"
		"OnUser1" "!selfDisable0-1"
		"OnUser2" "!selfEnable0-1"
		"OnUser2" "!selfFireUser10.32-1"
		"OnStartTouch" "!activatorRunScriptCodeif (self.GetHealth() > 5) self.SetHealth(self.GetHealth() - 12); else self.TakeDamage(9999, 0, null);0-1"
	}
}

; Fix shield rotation
; ===========================================================================
; removing old info dest aim
filter:
{
	"classname" "ITEMX_qaz_item_shields3_aim"
	"hammerid" "info_teleport_destination"
}

filter:
{
	"classname" "ITEMX_qaz_item_shields2_aim"
	"hammerid" "info_teleport_destination"
}

filter:
{
	"classname" "ITEMX_qaz_item_shields1_aim"
	"hammerid" "info_teleport_destination"
}

; adding aim fixer script
modify:
{
	match:
	{
		"targetname" "ITEMX_qaz_item_btn3"
		"classname" "func_button"
	}
	delete:
	{
		"OnUser1" "ITEMX_qaz_itemmaker3ForceSpawn0-1"
	}
	insert:
	{
		"OnUser1" "ITEMX_qaz_itemmaker3RunScriptCodeself.SetAbsAngles(activator.GetAbsAngles(){z=0});0-1"
		"OnUser1" "ITEMX_qaz_itemmaker3ForceSpawn0.02-1"
	}
}

modify:
{
	match:
	{
		"targetname" "ITEMX_qaz_item_btn2"
		"classname" "func_button"
	}
	delete:
	{
		"OnUser1" "ITEMX_qaz_itemmaker2ForceSpawn0-1"
	}
	insert:
	{
		"OnUser1" "ITEMX_qaz_itemmaker2RunScriptCodeself.SetAbsAngles(activator.GetAbsAngles(){z=0});0-1"
		"OnUser1" "ITEMX_qaz_itemmaker2ForceSpawn0.02-1"
	}
}

modify:
{
	match:
	{
		"targetname" "ITEMX_qaz_item_btn1"
		"classname" "func_button"
	}
	delete:
	{
		"OnUser1" "ITEMX_qaz_itemmaker1ForceSpawn0-1"
	}
	insert:
	{
		"OnUser1" "ITEMX_qaz_itemmaker1RunScriptCodeself.SetAbsAngles(activator.GetAbsAngles(){z=0});0-1"
		"OnUser1" "ITEMX_qaz_itemmaker1ForceSpawn0.02-1"
	}
}

; Change func_brekable to func_physbox to make it work
modify:
{
	match:
	{	
		"classname" "func_breakable"
		"targetname" "ITEMX_qaz_item_shields3"
	}
	replace:
	{
		"classname" "func_physbox"
		"spawnflags" "40960"
		"notsolid" "0"
	}
}

modify:
{
	match:
	{	
		"classname" "func_breakable"
		"targetname" "ITEMX_qaz_item_shields2"
	}
	replace:
	{
		"classname" "func_physbox"
		"spawnflags" "40960"
		"notsolid" "0"
	}
}

modify:
{
	match:
	{	
		"classname" "func_breakable"
		"targetname" "ITEMX_qaz_item_shields1"
	}
	replace:
	{
		"classname" "func_physbox"
		"spawnflags" "40960"
		"notsolid" "0"
	}
}
; ===========================================================================
; Fix people can bug under bridge dicklet temple
add:
{
	"model" "*399"
	"targetname" "CSS_fix_spot"
	"classname" "trigger_hurt"
	"damage" "999999"
	"origin" "-14432 15616 13326"
	"spawnflags" "1"
	"StartDisabled" "1"
}

modify:
{
	match:
	{
		"targetname" "Ord_lvl_02_boss_pit_platform"
		"classname" "func_movelinear"
	}
	insert:
	{
		"OnFullyClosed" "CSS_fix_spotEnable0-1"
	}
}

; chekc korukos stuff (next ver)